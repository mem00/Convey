  [1m[35m (627.3ms)[0m  [1m[35mCREATE DATABASE "convey_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (382.5ms)[0m  [1m[35mCREATE DATABASE "convey_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (41.7ms)[0m  [1m[35mCREATE DATABASE "convey_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE "convey_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (74.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (40.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (2.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateUsers (20190708182802)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (33.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "phone_number" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20190708182802_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190708182802"]]
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-08 19:14:22.510022"], ["updated_at", "2019-07-08 19:14:22.510022"]]
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "12035054487"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "phone_number", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "mem"], ["phone_number", "12035054487"], ["password_digest", "$2a$12$48yo/xnYCbhBSFuCSUr07eGghIOEBUlovGJ8ki.xl6Je1Fc3zGivS"], ["created_at", "2019-07-08 19:14:27.500563"], ["updated_at", "2019-07-08 19:14:27.500563"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/users" for ::1 at 2019-07-08 15:16:12 -0400
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by UsersController#index as */*
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "user"=>{"username"=>"mem"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 1.0ms | ActiveRecord: 3.8ms)


Started POST "/auth/login" for ::1 at 2019-07-08 15:17:07 -0400
Processing by AuthenticationController#login as */*
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:17
Completed 200 OK in 316ms (Views: 0.2ms | ActiveRecord: 8.6ms)


Started GET "/users" for ::1 at 2019-07-08 15:17:45 -0400
Processing by UsersController#index as */*
  Parameters: {"token"=>"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJ1c2VybmFtZSI6Im1lbSIsImV4cCI6MTU2MjY5OTgyN30.8bO9ERewWawa5BNrzR4PJpALLurcR7VQ_WveVxctbv8", "user"=>{}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/users/1/chats" for ::1 at 2019-07-08 16:09:32 -0400
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.2.3) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.3) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
rack-cors (1.0.3) lib/rack/cors.rb:95:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateChats (20190708200324)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (50.1ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "creator_id" bigint, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c940cb611d"
FOREIGN KEY ("creator_id")
  REFERENCES "creators" ("id")
)[0m
  â†³ db/migrate/20190708200324_create_chats.rb:3
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateChats (20190708200324)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "creator_id" bigint, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c940cb611d"
FOREIGN KEY ("creator_id")
  REFERENCES "creators" ("id")
)[0m
  â†³ db/migrate/20190708200324_create_chats.rb:3
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateChats (20190708200324)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (54.7ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "user_id" bigint, "title" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_e555f43151"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20190708200324_create_chats.rb:3
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_user_id" ON "chats"  ("user_id")[0m
  â†³ db/migrate/20190708200324_create_chats.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190708200324"]]
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started POST "/users/1/chats" for ::1 at 2019-07-08 16:19:48 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by ChatsController#create as */*
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "user_id"=>"1", "chat"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 2.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: chat):
  
app/controllers/chats_controller.rb:50:in `chat_params'
app/controllers/chats_controller.rb:19:in `create'
Started POST "/auth/login" for ::1 at 2019-07-08 16:20:19 -0400
Processing by AuthenticationController#login as */*
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 342ms (Views: 0.3ms | ActiveRecord: 16.7ms)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/bin/rake:22
Migrating to CreateChats (20190708200324)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (49.8ms)[0m  [1m[35mDROP TABLE "chats"[0m
  â†³ /usr/local/bin/rake:22
  [1m[36mActiveRecord::SchemaMigration Destroy (42.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20190708200324"]]
  â†³ /usr/local/bin/rake:22
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/bin/rake:22
Started POST "/auth/login" for ::1 at 2019-07-08 16:56:44 -0400
Processing by AuthenticationController#login as */*
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 363ms (Views: 0.2ms | ActiveRecord: 50.6ms)


Started POST "/auth/login" for ::1 at 2019-07-08 17:01:46 -0400
Processing by AuthenticationController#login as */*
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 323ms (Views: 0.2ms | ActiveRecord: 6.4ms)


Started POST "/auth/login" for ::1 at 2019-07-08 17:23:12 -0400
Processing by AuthenticationController#login as */*
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 319ms (Views: 0.5ms | ActiveRecord: 7.5ms)


Started GET "/users" for ::1 at 2019-07-08 17:27:20 -0400
Processing by UsersController#index as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:9
Completed 200 OK in 19ms (Views: 11.0ms | ActiveRecord: 4.8ms)


Started GET "/users?Authorization=%22eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJ1c2VybmFtZSI6Im1lbSIsImV4cCI6MTU2MjcwNzM5M30.8-3qFVkbHgPJkmSp2DHiThN5CiaeV1y1LMPetZ1P52A%22" for ::1 at 2019-07-08 17:27:45 -0400
Processing by UsersController#index as */*
  Parameters: {"Authorization"=>"\"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoxLCJ1c2VybmFtZSI6Im1lbSIsImV4cCI6MTU2MjcwNzM5M30.8-3qFVkbHgPJkmSp2DHiThN5CiaeV1y1LMPetZ1P52A\""}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/users" for ::1 at 2019-07-08 17:28:14 -0400
Processing by UsersController#index as */*
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/users" for ::1 at 2019-07-08 17:28:48 -0400
Processing by UsersController#index as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:9
Completed 200 OK in 43ms (Views: 1.2ms | ActiveRecord: 8.4ms)


Started GET "/users" for ::1 at 2019-07-08 17:28:58 -0400
Processing by UsersController#index as */*
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:9
Completed 200 OK in 8ms (Views: 2.2ms | ActiveRecord: 3.5ms)


Started GET "/users" for ::1 at 2019-07-08 17:29:08 -0400
Processing by UsersController#index as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:9
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 2.0ms)


Started GET "/users" for ::1 at 2019-07-08 17:29:23 -0400
Processing by UsersController#index as */*
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/users" for ::1 at 2019-07-08 17:29:36 -0400
Processing by UsersController#index as */*
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:9
Completed 200 OK in 7ms (Views: 2.0ms | ActiveRecord: 2.7ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateChats (20190708213503)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (45.1ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "title" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_e555f43151"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20190708213503_create_chats.rb:3
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_user_id" ON "chats"  ("user_id")[0m
  â†³ db/migrate/20190708213503_create_chats.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190708213503"]]
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Create (45.5ms)[0m  [1m[32mINSERT INTO "chats" ("title", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "myChat"], ["user_id", 1], ["created_at", "2019-07-08 21:45:01.868819"], ["updated_at", "2019-07-08 21:45:01.868819"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("title", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "My Other Chat"], ["user_id", 1], ["created_at", "2019-07-08 21:45:22.086162"], ["updated_at", "2019-07-08 21:45:22.086162"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 11]]
Started GET "/users1/chats" for ::1 at 2019-07-08 17:45:45 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
  
ActionController::RoutingError (No route matches [GET] "/users1/chats"):
  
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
rack-cors (1.0.3) lib/rack/cors.rb:95:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/users/1/chats" for ::1 at 2019-07-08 17:45:52 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:6
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 60ms (Views: 10.1ms | ActiveRecord: 28.2ms)


Started GET "/users/1/chats" for ::1 at 2019-07-08 17:45:59 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:6
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 2.2ms)


Started GET "/users/1/chats" for ::1 at 2019-07-08 17:46:02 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:6
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 1.6ms)


Started GET "/users/1/chats" for ::1 at 2019-07-08 17:46:26 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/users/1/chats" for ::1 at 2019-07-08 17:46:35 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:7
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 58ms (Views: 11.6ms | ActiveRecord: 13.7ms)


Started GET "/users/1/chats" for ::1 at 2019-07-08 17:46:51 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:7
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 50ms (Views: 10.7ms | ActiveRecord: 17.1ms)


Started GET "/users/1/chats/1" for ::1 at 2019-07-08 17:48:42 -0400
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:46
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."user_id" = $1 AND "chats"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:47
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 200 OK in 36ms (Views: 0.5ms | ActiveRecord: 9.4ms)


Started GET "/users/1/chats" for ::1 at 2019-07-08 17:49:54 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
Completed 404 Not Found in 9ms (ActiveRecord: 3.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/chats_controller.rb:45:in `set_chat'
Started GET "/users/1/chats" for ::1 at 2019-07-08 17:50:42 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:7
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 33ms (Views: 8.1ms | ActiveRecord: 7.2ms)


Started GET "/users/1/chats/1" for ::1 at 2019-07-08 17:50:45 -0400
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:46
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."user_id" = $1 AND "chats"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:47
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.4ms)


Started GET "/users/1/chats" for ::1 at 2019-07-08 17:52:52 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
Completed 404 Not Found in 10ms (ActiveRecord: 4.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/chats_controller.rb:51:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-08 17:53:15 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 38ms (Views: 9.4ms | ActiveRecord: 8.3ms)


Started POST "/users/1/chats" for ::1 at 2019-07-08 17:59:03 -0400
Processing by ChatsController#create as */*
  Parameters: {"title"=>"ChatChat", "user_id"=>"1", "chat"=>{"title"=>"ChatChat"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:52
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:23
  [1m[36mChat Create (0.8ms)[0m  [1m[32mINSERT INTO "chats" ("title", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "ChatChat"], ["user_id", 1], ["created_at", "2019-07-08 21:59:03.590627"], ["updated_at", "2019-07-08 21:59:03.590627"]]
  â†³ app/controllers/chats_controller.rb:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:23
Completed 200 OK in 32ms (Views: 0.4ms | ActiveRecord: 8.1ms)


Started GET "/users/1/chats" for ::1 at 2019-07-08 17:59:09 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:52
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 1.4ms)


Started PATCH "/users/1/chats/3" for ::1 at 2019-07-08 18:00:53 -0400
Processing by ChatsController#update as */*
  Parameters: {"title"=>"ChatChatChat", "user_id"=>"1", "id"=>"3", "chat"=>{"title"=>"ChatChatChat"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:46
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."user_id" = $1 AND "chats"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:47
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:31
  [1m[36mChat Update (0.6ms)[0m  [1m[33mUPDATE "chats" SET "title" = $1, "updated_at" = $2 WHERE "chats"."id" = $3[0m  [["title", "ChatChatChat"], ["updated_at", "2019-07-08 22:00:53.124162"], ["id", 3]]
  â†³ app/controllers/chats_controller.rb:31
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:31
Completed 200 OK in 47ms (Views: 0.6ms | ActiveRecord: 12.7ms)


Started GET "/users/1/chats" for ::1 at 2019-07-08 18:00:57 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 1.0ms)


Started DELETE "/users/1/chats/3" for ::1 at 2019-07-08 18:01:24 -0400
Processing by ChatsController#destroy as */*
  Parameters: {"title"=>"ChatChatChat", "user_id"=>"1", "id"=>"3", "chat"=>{"title"=>"ChatChatChat"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:46
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."user_id" = $1 AND "chats"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:47
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:40
  [1m[36mChat Destroy (1.4ms)[0m  [1m[31mDELETE FROM "chats" WHERE "chats"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/chats_controller.rb:40
  [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:40
Completed 204 No Content in 51ms (ActiveRecord: 43.7ms)


Started GET "/users/1/chats" for ::1 at 2019-07-08 18:01:27 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 1.6ms)


Started POST "/auth/login" for ::1 at 2019-07-09 11:54:33 -0400
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (41.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 477ms (Views: 0.3ms | ActiveRecord: 156.8ms)


Started POST "/auth/login" for ::1 at 2019-07-09 11:57:27 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 290ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/users" for ::1 at 2019-07-09 11:59:56 -0400
Processing by UsersController#create as HTML
  Parameters: {"username"=>"rob", "phone_number"=>"5555555555", "password"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "user"=>{"username"=>"rob", "phone_number"=>"5555555555"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "5555555555"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Create (6.0ms)[0m  [1m[32mINSERT INTO "users" ("username", "phone_number", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rob"], ["phone_number", "5555555555"], ["password_digest", "$2a$12$1pge72sbIP3YVFbvhklO8OZ4N9Se6P7h56mFvq.PE9tbnx8DNM1wS"], ["created_at", "2019-07-09 15:59:56.983398"], ["updated_at", "2019-07-09 15:59:56.983398"]]
  â†³ app/controllers/users_controller.rb:22
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 579ms (Views: 0.2ms | ActiveRecord: 8.6ms)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/bin/rake:22
Migrating to CreateChats (20190708213503)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (54.2ms)[0m  [1m[35mDROP TABLE "chats"[0m
  â†³ /usr/local/bin/rake:22
  [1m[36mActiveRecord::SchemaMigration Destroy (41.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20190708213503"]]
  â†³ /usr/local/bin/rake:22
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ /usr/local/bin/rake:22
Migrating to CreateUsers (20190708182802)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "users"[0m
  â†³ /usr/local/bin/rake:22
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20190708182802"]]
  â†³ /usr/local/bin/rake:22
  [1m[35m (24.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /usr/local/bin/rake:22
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateUsers (20190708182802)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (55.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "phone_number" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20190708182802_create_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190708182802"]]
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateChats (20190708213503)
  [1m[35m (39.5ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "title" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_e555f43151"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  â†³ db/migrate/20190708213503_create_chats.rb:3
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_user_id" ON "chats"  ("user_id")[0m
  â†³ db/migrate/20190708213503_create_chats.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190708213503"]]
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to AddToToChats (20190709172321)
  [1m[35m (39.5ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190709172321"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to AddToFromToChants (20190709172615)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (44.1ms)[0m  [1m[35mALTER TABLE "chants" ADD "to" integer[0m
  â†³ db/migrate/20190709172615_add_to_from_to_chants.rb:3
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (42.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started POST "/auth/login" for ::1 at 2019-07-09 13:28:57 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (11.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 500 Internal Server Error in 25ms (ActiveRecord: 15.0ms)


  
NoMethodError (undefined method `authenticate' for nil:NilClass):
  
app/controllers/application_controller.rb:19:in `handle_login'
app/controllers/authentication_controller.rb:4:in `login'
Started POST "/auth/login" for ::1 at 2019-07-09 13:29:58 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `authenticate' for nil:NilClass):
  
app/controllers/application_controller.rb:19:in `handle_login'
app/controllers/authentication_controller.rb:4:in `login'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/users" for ::1 at 2019-07-09 13:32:33 -0400
Processing by UsersController#create as HTML
  Parameters: {"username"=>"mem", "phone_number"=>"5555555555", "password"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "user"=>{"username"=>"mem", "phone_number"=>"5555555555"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "5555555555"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("username", "phone_number", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "mem"], ["phone_number", "5555555555"], ["password_digest", "$2a$12$J3zUc5puPcureMa2htiIRe/YttagAc15tcDFUBgovyL6RDEK053Nu"], ["created_at", "2019-07-09 17:32:33.613271"], ["updated_at", "2019-07-09 17:32:33.613271"]]
  â†³ app/controllers/users_controller.rb:22
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 605ms (Views: 0.2ms | ActiveRecord: 7.6ms)


Started POST "/auth/login" for ::1 at 2019-07-09 13:32:43 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 417ms (Views: 0.3ms | ActiveRecord: 1.1ms)


  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to AddDetailsToChats (20190709174812)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (41.2ms)[0m  [1m[35mALTER TABLE "chats" ADD "to" integer[0m
  â†³ db/migrate/20190709174812_add_details_to_chats.rb:3
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "chats" ADD "from" integer[0m
  â†³ db/migrate/20190709174812_add_details_to_chats.rb:4
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190709174812"]]
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to RemoveDetailsFromChats (20190709175232)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (42.2ms)[0m  [1m[35mALTER TABLE "chats" DROP COLUMN "title"[0m
  â†³ db/migrate/20190709175232_remove_details_from_chats.rb:3
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "chats" DROP COLUMN "user_id"[0m
  â†³ db/migrate/20190709175232_remove_details_from_chats.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "chats" DROP COLUMN "to"[0m
  â†³ db/migrate/20190709175232_remove_details_from_chats.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "chats" DROP COLUMN "from"[0m
  â†³ db/migrate/20190709175232_remove_details_from_chats.rb:6
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190709175232"]]
  â†³ bin/rails:9
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to AddToFromToChats (20190709175323)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "chats" ADD "to" bigint[0m
  â†³ db/migrate/20190709175323_add_to_from_to_chats.rb:3
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "chats" ADD "from" bigint[0m
  â†³ db/migrate/20190709175323_add_to_from_to_chats.rb:4
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190709175323"]]
  â†³ bin/rails:9
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to RemoveFromToFromChats (20190709175759)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "chats" DROP COLUMN "to"[0m
  â†³ db/migrate/20190709175759_remove_from_to_from_chats.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "chats" DROP COLUMN "from"[0m
  â†³ db/migrate/20190709175759_remove_from_to_from_chats.rb:4
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190709175759"]]
  â†³ bin/rails:9
  [1m[35m (39.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to AddReferncesToChats (20190709175830)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "chats" ADD "to_id" bigint[0m
  â†³ db/migrate/20190709175830_add_refernces_to_chats.rb:3
  [1m[35m (40.8ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/migrate/20190709175830_add_refernces_to_chats.rb:3
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "chats" ADD "from_id" bigint[0m
  â†³ db/migrate/20190709175830_add_refernces_to_chats.rb:4
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/migrate/20190709175830_add_refernces_to_chats.rb:4
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190709175830"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/users" for ::1 at 2019-07-09 14:05:17 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by UsersController#create as HTML
  Parameters: {"username"=>"rob", "phone_number"=>"5555555555", "password"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "user"=>{"username"=>"rob", "phone_number"=>"5555555555"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "5555555555"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:22
Completed 422 Unprocessable Entity in 304ms (Views: 0.2ms | ActiveRecord: 7.8ms)


Started POST "/users" for ::1 at 2019-07-09 14:06:14 -0400
Processing by UsersController#create as HTML
  Parameters: {"username"=>"rob", "phone_number"=>"5555555555", "password"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "user"=>{"username"=>"rob", "phone_number"=>"5555555555"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "5555555555"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:22
Completed 422 Unprocessable Entity in 299ms (Views: 0.3ms | ActiveRecord: 1.1ms)


  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "123456789"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "phone_number", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rob"], ["phone_number", "123456789"], ["password_digest", "$2a$12$/FaffGgR4C//jiZ9gqtQMurj/jhxLYTLXrDEfVlfYWjjWGTkhyici"], ["created_at", "2019-07-09 18:08:06.145498"], ["updated_at", "2019-07-09 18:08:06.145498"]]
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChat Create (44.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-09 18:08:59.234513"], ["updated_at", "2019-07-09 18:08:59.234513"], ["to_id", 2], ["from_id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" ORDER BY "chats"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" ORDER BY "chats"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/users" for ::1 at 2019-07-09 14:11:20 -0400
Processing by UsersController#create as HTML
  Parameters: {"username"=>"rob", "phone_number"=>"5555555555", "password"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "user"=>{"username"=>"rob", "phone_number"=>"5555555555"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "5555555555"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:22
Completed 422 Unprocessable Entity in 290ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started POST "/users" for ::1 at 2019-07-09 14:11:46 -0400
Processing by UsersController#create as HTML
  Parameters: {"username"=>"ted", "phone_number"=>"55555555", "password"=>"[FILTERED]", "passwordConfirm"=>"[FILTERED]", "user"=>{"username"=>"ted", "phone_number"=>"55555555"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ted"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "55555555"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("username", "phone_number", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "ted"], ["phone_number", "55555555"], ["password_digest", "$2a$12$fgFFWcw9wTKO4rsUItFdXOAXW4dZc1PXA0U9L.IAYn0cbJEQd6FNy"], ["created_at", "2019-07-09 18:11:47.271248"], ["updated_at", "2019-07-09 18:11:47.271248"]]
  â†³ app/controllers/users_controller.rb:22
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ted"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 602ms (Views: 0.4ms | ActiveRecord: 4.7ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/auth/login" for ::1 at 2019-07-09 14:19:29 -0400
Processing by AuthenticationController#login as */*
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 306ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/users/1/chats" for ::1 at 2019-07-09 14:19:50 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.4ms)


  
NoMethodError (undefined method `chats' for #<User:0x00007f8e424cb2b0>
Did you mean?  changes):
  
app/controllers/chats_controller.rb:8:in `index'
Started GET "/users" for ::1 at 2019-07-09 14:21:45 -0400
Processing by UsersController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:9
Completed 200 OK in 41ms (Views: 2.2ms | ActiveRecord: 15.8ms)


Started GET "/users/1" for ::1 at 2019-07-09 14:21:54 -0400
Processing by UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:46
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.9ms)


Started GET "/users/1/chats" for ::1 at 2019-07-09 14:21:59 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.1ms)


  
NoMethodError (undefined method `chats' for #<User:0x00007f8e4630d640>
Did you mean?  changes):
  
app/controllers/chats_controller.rb:8:in `index'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" ORDER BY "chats"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/users/1/chats" for ::1 at 2019-07-09 14:40:05 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/chats_controller.rb:8: syntax error, unexpected ':', expecting keyword_end
    @chats = Chat.find_by to_id : @user.id
                                 ^):
  
app/controllers/chats_controller.rb:8: syntax error, unexpected ':', expecting keyword_end
Started GET "/users/1/chats" for ::1 at 2019-07-09 14:40:53 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."to_id" = $1 LIMIT $2[0m  [["to_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:8
Completed 200 OK in 46ms (Views: 0.2ms | ActiveRecord: 11.1ms)


Started GET "/users/1/chats" for ::1 at 2019-07-09 14:41:04 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:8
Completed 200 OK in 45ms (Views: 0.5ms | ActiveRecord: 13.9ms)


Started GET "/users/1/chats/1" for ::1 at 2019-07-09 14:44:39 -0400
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"1", "id"=>"1"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:45
Completed 500 Internal Server Error in 20ms (ActiveRecord: 3.5ms)


  
NoMethodError (undefined method `chats' for #<Chat:0x00007f8e425e8878>
Did you mean?  changes):
  
app/controllers/chats_controller.rb:46:in `set_chat'
Started GET "/users/1/chats/1" for ::1 at 2019-07-09 14:45:27 -0400
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"1", "id"=>"1"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:45
Completed 500 Internal Server Error in 29ms (ActiveRecord: 4.9ms)


  
NoMethodError (undefined method `find' for #<Chat:0x00007f8e46377a40>):
  
app/controllers/chats_controller.rb:46:in `set_chat'
Started GET "/users/1/chats" for ::1 at 2019-07-09 14:47:16 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (1.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:8
Completed 200 OK in 46ms (Views: 1.3ms | ActiveRecord: 9.7ms)


  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-09 18:53:42.496222"], ["updated_at", "2019-07-09 18:53:42.496222"], ["to_id", 2], ["from_id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/1/chats" for ::1 at 2019-07-09 14:53:46 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (4.1ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:8
Completed 200 OK in 12ms (Views: 0.6ms | ActiveRecord: 5.9ms)


  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/users/1/chats" for ::1 at 2019-07-09 14:54:15 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (16.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (16.8ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:8
Completed 200 OK in 42ms (Views: 0.6ms | ActiveRecord: 37.1ms)


Started GET "/users/1/chats" for ::1 at 2019-07-09 14:56:52 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 50ms (Views: 9.7ms | ActiveRecord: 14.7ms)


Started GET "/users/1/chats/1" for ::1 at 2019-07-09 14:57:44 -0400
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"1", "id"=>"1"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."id" = $2 LIMIT $3[0m  [["from_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:46
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 200 OK in 42ms (Views: 0.5ms | ActiveRecord: 8.3ms)


Started GET "/users/1/chats/2" for ::1 at 2019-07-09 14:57:49 -0400
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"1", "id"=>"2"}
  [1m[36mChat Load (2.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."id" = $2 LIMIT $3[0m  [["from_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:46
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 3.0ms)


Started POST "/users/1/chats" for ::1 at 2019-07-09 15:00:19 -0400
Processing by ChatsController#create as */*
  Parameters: {"to_id"=>2, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>2, "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.7ms)


  
NoMethodError (undefined method `chats' for #<User:0x00007f8e46249858>
Did you mean?  changes):
  
app/controllers/chats_controller.rb:19:in `create'
Started POST "/users/1/chats" for ::1 at 2019-07-09 15:01:39 -0400
Processing by ChatsController#create as */*
  Parameters: {"to_id"=>2, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>2, "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Unpermitted parameters: :to_id, :from_id
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:21
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/chats_controller.rb:21
Completed 422 Unprocessable Entity in 47ms (Views: 0.3ms | ActiveRecord: 8.7ms)


Started POST "/users/1/chats" for ::1 at 2019-07-09 15:01:52 -0400
Processing by ChatsController#create as */*
  Parameters: {"to"=>2, "from"=>1, "user_id"=>"1", "chat"=>{}}
  [1m[36mUser Load (6.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (16.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 400 Bad Request in 27ms (ActiveRecord: 23.4ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: chat):
  
app/controllers/chats_controller.rb:55:in `chat_params'
app/controllers/chats_controller.rb:19:in `create'
Started POST "/users/1/chats" for ::1 at 2019-07-09 15:03:02 -0400
Processing by ChatsController#create as */*
  Parameters: {"to"=>2, "from"=>1, "user_id"=>"1", "chat"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Completed 400 Bad Request in 29ms (ActiveRecord: 4.8ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: chat):
  
app/controllers/chats_controller.rb:55:in `chat_params'
app/controllers/chats_controller.rb:19:in `create'
Started POST "/users/1/chats" for ::1 at 2019-07-09 15:05:11 -0400
Processing by ChatsController#create as */*
  Parameters: {"to_id"=>2, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>2, "from_id"=>1}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:21
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:21
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:21
  [1m[36mChat Create (0.6ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-09 19:05:11.993990"], ["updated_at", "2019-07-09 19:05:11.993990"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:21
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:21
Completed 200 OK in 85ms (Views: 0.7ms | ActiveRecord: 46.6ms)


Started GET "/users/1/chats" for ::1 at 2019-07-09 15:05:20 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (1.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 9ms (Views: 2.6ms | ActiveRecord: 2.8ms)


Started DELETE "/users/1/chats/3" for ::1 at 2019-07-09 15:06:01 -0400
Processing by ChatsController#destroy as */*
  Parameters: {"to_id"=>2, "from_id"=>1, "user_id"=>"1", "id"=>"3", "chat"=>{"to_id"=>2, "from_id"=>1}}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."id" = $2 LIMIT $3[0m  [["from_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:46
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:39
  [1m[36mChat Destroy (1.1ms)[0m  [1m[31mDELETE FROM "chats" WHERE "chats"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/chats_controller.rb:39
  [1m[35m (40.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:39
Completed 204 No Content in 48ms (ActiveRecord: 42.7ms)


Started GET "/users/1/chats" for ::1 at 2019-07-09 15:06:05 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 1.0ms)


Started POST "/auth/login" for ::1 at 2019-07-09 15:55:06 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 291ms (Views: 0.3ms | ActiveRecord: 0.9ms)


Started POST "/auth/login" for ::1 at 2019-07-09 16:00:55 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 287ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/user/undefined/chats" for ::1 at 2019-07-09 16:05:10 -0400
  
ActionController::RoutingError (No route matches [GET] "/user/undefined/chats"):
  
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
rack-cors (1.0.3) lib/rack/cors.rb:95:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/user/undefined/chats" for ::1 at 2019-07-09 16:05:11 -0400
  
ActionController::RoutingError (No route matches [GET] "/user/undefined/chats"):
  
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
rack-cors (1.0.3) lib/rack/cors.rb:95:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:05:28 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 14ms (ActiveRecord: 0.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:05:29 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 3ms (ActiveRecord: 1.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-09 16:05:49 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (1.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 8ms (Views: 2.8ms | ActiveRecord: 2.3ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:06:25 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (36.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 38ms (ActiveRecord: 36.9ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:06:32 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 3ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:06:59 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 3ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-09 16:07:00 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:10:15 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (14.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 16ms (ActiveRecord: 14.9ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started POST "/auth/login" for ::1 at 2019-07-09 16:11:34 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 286ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/users/1/chats" for ::1 at 2019-07-09 16:11:46 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:15:06 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-09 16:16:44 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 3.7ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:18:49 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 3ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-09 16:19:39 -0400
Processing by ChatsController#index as JSON
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.5ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:20:44 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 6ms (ActiveRecord: 4.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-09 16:20:59 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:23:10 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 3ms (ActiveRecord: 1.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-09 16:24:17 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:29:06 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 6ms (ActiveRecord: 4.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-09 16:29:33 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 1.1ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:29:41 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-09 16:29:42 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (11.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 21ms (Views: 4.2ms | ActiveRecord: 12.1ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-09 16:30:37 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:50:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-09 16:36:16 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started POST "/auth/login" for ::1 at 2019-07-09 16:37:03 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 295ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/users/1/chats" for ::1 at 2019-07-09 16:37:05 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (3.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 15ms (Views: 4.4ms | ActiveRecord: 7.0ms)


Started GET "/users/1/chats" for ::1 at 2019-07-09 16:38:02 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (1.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 10ms (Views: 2.5ms | ActiveRecord: 4.6ms)


Started GET "/users/1/chats" for ::1 at 2019-07-09 16:38:14 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:50
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (6.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 13ms (Views: 2.7ms | ActiveRecord: 7.2ms)


Started GET "/users/1/chats/2" for ::1 at 2019-07-10 09:24:37 -0400
  [1m[35m (4.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"1", "id"=>"2"}
  [1m[36mChat Load (27.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 239ms (ActiveRecord: 104.7ms)


  
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
NoMethodError (undefined method `to_id' for #<ChatsController:0x00007ff85cfe39c0>
Did you mean?  to_s
               to_a):
  
app/controllers/chats_controller.rb:46:in `set_chat'
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/users/1/chats/2" for ::1 at 2019-07-10 09:24:56 -0400
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"1", "id"=>"2"}
  [1m[36mUser Load (42.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/chats_controller.rb:14
Completed 200 OK in 93ms (Views: 15.6ms | ActiveRecord: 51.0ms)


Started GET "/users/1/chats" for ::1 at 2019-07-10 09:45:11 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.2.3) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.3) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
rack-cors (1.0.3) lib/rack/cors.rb:95:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
  [1m[35m (1.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateMessages (20190710133902)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (87.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
)[0m
  â†³ db/migrate/20190710133902_create_messages.rb:3
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/migrate/20190710133902_create_messages.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (3.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190710133902"]]
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/users/1/chats" for ::1 at 2019-07-10 09:45:29 -0400
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 92ms (Views: 1.8ms | ActiveRecord: 22.7ms)


Started GET "/users/1/chats" for ::1 at 2019-07-10 09:46:34 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 50ms (ActiveRecord: 8.3ms)


  
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
NoMethodError (undefined method `data' for #<Chat::ActiveRecord_Relation:0x00007ff85cf501c0>):
  
app/controllers/chats_controller.rb:9:in `index'
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 LIMIT $2[0m  [["from_id", 1], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/users/1/chats" for ::1 at 2019-07-10 09:47:46 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:9
Completed 200 OK in 43ms (Views: 0.6ms | ActiveRecord: 9.5ms)


Started GET "/users/1/chats" for ::1 at 2019-07-10 09:49:05 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/chats_controller.rb:11: syntax error, unexpected '\n', expecting =>
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/chats_controller.rb:59: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/chats_controller.rb:11: syntax error, unexpected '\n', expecting =>
app/controllers/chats_controller.rb:59: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/users/1/chats" for ::1 at 2019-07-10 09:49:23 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/chats_controller.rb:10: syntax error, unexpected '\n', expecting =>
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/chats_controller.rb:58: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/chats_controller.rb:10: syntax error, unexpected '\n', expecting =>
app/controllers/chats_controller.rb:58: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/users/1/chats" for ::1 at 2019-07-10 09:49:51 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/chats_controller.rb:10: syntax error, unexpected '\n', expecting =>
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/chats_controller.rb:58: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/chats_controller.rb:10: syntax error, unexpected '\n', expecting =>
app/controllers/chats_controller.rb:58: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/users/1/chats" for ::1 at 2019-07-10 09:50:12 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/chats_controller.rb:10: syntax error, unexpected tLABEL, expecting keyword_do or '{' or '('
    render json: @chats_from, render json: @chats_to
                                          ^):
  
app/controllers/chats_controller.rb:10: syntax error, unexpected tLABEL, expecting keyword_do or '{' or '('
Started GET "/users/1/chats" for ::1 at 2019-07-10 09:50:30 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:52
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 500 Internal Server Error in 42ms (Views: 8.7ms | ActiveRecord: 8.0ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/chats_controller.rb:11:in `index'
Started GET "/users/1/chats" for ::1 at 2019-07-10 09:50:48 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/chats_controller.rb:10: syntax error, unexpected '\n', expecting =>
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/chats_controller.rb:58: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/chats_controller.rb:10: syntax error, unexpected '\n', expecting =>
app/controllers/chats_controller.rb:58: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/users/1/chats" for ::1 at 2019-07-10 09:52:10 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 38ms (Views: 8.4ms | ActiveRecord: 8.2ms)


Started POST "/users/1/chats" for ::1 at 2019-07-10 09:53:39 -0400
Processing by ChatsController#create as */*
  Parameters: {"to_id"=>1, "from_id"=>2, "user_id"=>"1", "chat"=>{"to_id"=>1, "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (42.0ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-10 13:53:39.403491"], ["updated_at", "2019-07-10 13:53:39.403491"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 200 OK in 77ms (Views: 0.4ms | ActiveRecord: 43.9ms)


Started GET "/users/1/chats" for ::1 at 2019-07-10 09:53:43 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 15ms (Views: 11.1ms | ActiveRecord: 1.3ms)


Started GET "/users/1/chats/1" for ::1 at 2019-07-10 10:12:35 -0400
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:15
Completed 200 OK in 54ms (Views: 1.6ms | ActiveRecord: 12.9ms)


Started GET "/users/1/chats" for ::1 at 2019-07-10 10:13:02 -0400
Processing by ChatsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:51
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 45ms (Views: 20.8ms | ActiveRecord: 20.5ms)


  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Create (46.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hello"], ["chat_id", 1], ["created_at", "2019-07-10 14:13:57.727010"], ["updated_at", "2019-07-10 14:13:57.727010"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/1/chats/2" for ::1 at 2019-07-10 10:14:02 -0400
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"1", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/chats_controller.rb:15
Completed 200 OK in 6ms (Views: 2.4ms | ActiveRecord: 1.0ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:14:16 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  â†³ app/controllers/messages_controller.rb:9
Completed 200 OK in 25ms (Views: 14.2ms | ActiveRecord: 7.1ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:19:01 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:9
Completed 200 OK in 29ms (Views: 13.4ms | ActiveRecord: 4.9ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:19:23 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 45ms (ActiveRecord: 2.7ms)


  
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
NoMethodError (undefined method `messages' for #<Chat::ActiveRecord_Relation:0x00007ff85d1c2de0>):
  
app/controllers/messages_controller.rb:7:in `index'
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:20:04 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.9ms)


  
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
NoMethodError (undefined method `messages' for #<Chat::ActiveRecord_Relation:0x00007ff8602727d8>):
  
app/controllers/messages_controller.rb:7:in `index'
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:21:09 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.2ms)


  
NameError (uninitialized constant MessagesController::Messages):
  
app/controllers/messages_controller.rb:7:in `index'
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:21:30 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 29ms (ActiveRecord: 2.0ms)


  
  [1m[36mCACHE Chat Load (0.1ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
NoMethodError (undefined method `id' for #<Chat::ActiveRecord_Relation:0x00007ff85df46e30>
Did you mean?  ids):
  
app/controllers/messages_controller.rb:7:in `index'
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:21:51 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  â†³ app/controllers/messages_controller.rb:10
Completed 200 OK in 30ms (Views: 9.3ms | ActiveRecord: 9.9ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:23:15 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.2ms)


  
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
NoMethodError (undefined method `id' for #<Chat::ActiveRecord_Relation:0x00007ff8600e98f8>
Did you mean?  ids):
  
app/controllers/messages_controller.rb:7:in `index'
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:23:45 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:9
Completed 200 OK in 17ms (Views: 8.4ms | ActiveRecord: 4.3ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:24:22 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.3ms)


  
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
NoMethodError (undefined method `id' for #<Chat::ActiveRecord_Relation:0x00007ff8603194e8>
Did you mean?  ids):
  
app/controllers/messages_controller.rb:7:in `index'
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:24:51 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:9
Completed 200 OK in 23ms (Views: 11.4ms | ActiveRecord: 5.7ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:25:15 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  â†³ app/controllers/messages_controller.rb:9
Completed 200 OK in 25ms (Views: 9.5ms | ActiveRecord: 5.9ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:25:35 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 26ms (ActiveRecord: 2.4ms)


  
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
NoMethodError (undefined method `id' for #<Chat::ActiveRecord_Relation:0x00007ff860169030>
Did you mean?  ids):
  
app/controllers/messages_controller.rb:7:in `index'
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:25:48 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 31ms (ActiveRecord: 1.9ms)


  
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
NoMethodError (undefined method `id' for #<Chat::ActiveRecord_Relation:0x00007ff8603d7830>
Did you mean?  ids):
  
app/controllers/messages_controller.rb:7:in `index'
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:26:09 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:9
Completed 200 OK in 19ms (Views: 7.0ms | ActiveRecord: 5.6ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:26:34 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.8ms)


  
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
NoMethodError (undefined method `id' for #<Chat::ActiveRecord_Relation:0x00007ff85d222268>
Did you mean?  ids):
  
app/controllers/messages_controller.rb:7:in `index'
  [1m[36mCACHE Chat Load (0.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 11]]
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:26:56 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:49
Completed 500 Internal Server Error in 23ms (ActiveRecord: 6.8ms)


  
NoMethodError (undefined method `join' for {:from_id=>"1", :to_id=>"2"}:Hash
Did you mean?  JSON):
  
app/controllers/messages_controller.rb:49:in `set_chat'
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:27:30 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2 LIMIT $3[0m  [["from_id", 1], ["to_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:9
Completed 200 OK in 50ms (Views: 8.8ms | ActiveRecord: 21.3ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:28:07 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2)[0m  [["chat_id", 1], ["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:9
Completed 200 OK in 45ms (Views: 9.1ms | ActiveRecord: 10.3ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:29:56 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:9
Completed 200 OK in 42ms (Views: 7.5ms | ActiveRecord: 16.7ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:32:13 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:8
Completed 200 OK in 40ms (Views: 7.6ms | ActiveRecord: 7.1ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:32:21 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2)[0m  [["chat_id", 1], ["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:8
Completed 200 OK in 40ms (Views: 9.1ms | ActiveRecord: 17.2ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:35:28 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:45: syntax error, unexpected ')', expecting keyword_end
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:57: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/messages_controller.rb:45: syntax error, unexpected ')', expecting keyword_end
app/controllers/messages_controller.rb:57: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:36:14 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2)[0m  [["chat_id", 1], ["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
Completed 200 OK in 23ms (Views: 7.6ms | ActiveRecord: 6.8ms)


Started GET "/users/1/chats/2/messages/1" for ::1 at 2019-07-10 10:37:17 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:44: syntax error, unexpected ')', expecting keyword_end
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:56: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/messages_controller.rb:44: syntax error, unexpected ')', expecting keyword_end
app/controllers/messages_controller.rb:56: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/users/1/chats/2/messages/1" for ::1 at 2019-07-10 10:37:25 -0400
Processing by MessagesController#show as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2", "id"=>"1"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2) AND "messages"."id" = $3 LIMIT $4[0m  [["chat_id", 1], ["chat_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:44
Completed 200 OK in 28ms (Views: 0.5ms | ActiveRecord: 7.6ms)


Started POST "/users/1/chats/1/messages" for ::1 at 2019-07-10 10:40:01 -0400
Processing by MessagesController#create as */*
  Parameters: {"content"=>"goodbye", "chat_id"=>"1", "user_id"=>"1", "message"=>{"content"=>"goodbye", "chat_id"=>"1"}}
  [1m[35m (9.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "goodbye"], ["chat_id", 1], ["created_at", "2019-07-10 14:40:01.531567"], ["updated_at", "2019-07-10 14:40:01.531567"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 200 OK in 71ms (Views: 0.6ms | ActiveRecord: 51.2ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:40:07 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (3.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2)[0m  [["chat_id", 1], ["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
Completed 200 OK in 9ms (Views: 3.0ms | ActiveRecord: 3.9ms)


Started PATCH "/users/1/chats/1/messages/2" for ::1 at 2019-07-10 10:40:34 -0400
Processing by MessagesController#update as */*
  Parameters: {"content"=>"goodbye for now", "chat_id"=>"1", "user_id"=>"1", "id"=>"2", "message"=>{"content"=>"goodbye for now", "chat_id"=>"1"}}
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE 1=0 AND "messages"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:44
Completed 404 Not Found in 7ms (ActiveRecord: 3.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find Message with 'id'=2 [WHERE 1=0]):
  
app/controllers/messages_controller.rb:44:in `set_message'
Started PATCH "/users/1/chats/2/messages/2" for ::1 at 2019-07-10 10:41:15 -0400
Processing by MessagesController#update as */*
  Parameters: {"content"=>"goodbye for now", "chat_id"=>"2", "user_id"=>"1", "id"=>"2", "message"=>{"content"=>"goodbye for now", "chat_id"=>"2"}}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2) AND "messages"."id" = $3 LIMIT $4[0m  [["chat_id", 1], ["chat_id", 2], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:44
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:28
  [1m[36mMessage Update (82.1ms)[0m  [1m[33mUPDATE "messages" SET "content" = $1, "updated_at" = $2 WHERE "messages"."id" = $3[0m  [["content", "goodbye for now"], ["updated_at", "2019-07-10 14:41:15.017399"], ["id", 2]]
  â†³ app/controllers/messages_controller.rb:28
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28
Completed 200 OK in 94ms (Views: 0.4ms | ActiveRecord: 84.0ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:41:20 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2)[0m  [["chat_id", 1], ["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.2ms)


Started DELETE "/users/1/chats/2/messages/2" for ::1 at 2019-07-10 10:42:16 -0400
Processing by MessagesController#destroy as */*
  Parameters: {"content"=>"goodbye for now", "chat_id"=>"2", "user_id"=>"1", "id"=>"2", "message"=>{"content"=>"goodbye for now", "chat_id"=>"2"}}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2) AND "messages"."id" = $3 LIMIT $4[0m  [["chat_id", 1], ["chat_id", 2], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:44
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:37
  [1m[36mMessage Destroy (0.4ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/messages_controller.rb:37
  [1m[35m (47.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:37
Completed 204 No Content in 55ms (ActiveRecord: 48.6ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 10:42:19 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (1.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2)[0m  [["chat_id", 1], ["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
Completed 200 OK in 7ms (Views: 2.0ms | ActiveRecord: 2.2ms)


  [1m[35m (4.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (42.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (8391.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_development"[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (253.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_development"[0m
  â†³ bin/rails:9
  [1m[35m (264.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_test"[0m
  â†³ bin/rails:9
  [1m[35m (595.1ms)[0m  [1m[35mCREATE DATABASE "convey_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (456.4ms)[0m  [1m[35mCREATE DATABASE "convey_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35mSQL (3.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint)[0m
  â†³ db/schema.rb:18
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:27
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:27
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:27
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:35
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "phone_number" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:35
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:43
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190710133902)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190708182802),
(20190708213503),
(20190709175830),
(20190709174812);

[0m
  â†³ db/schema.rb:13
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-10 20:13:27.196255"], ["updated_at", "2019-07-10 20:13:27.196255"]]
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint)[0m
  â†³ db/schema.rb:18
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:27
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:27
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:27
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:35
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "phone_number" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:35
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:43
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190710133902)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190708182802),
(20190708213503),
(20190709175830),
(20190709174812);

[0m
  â†³ db/schema.rb:13
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-10 20:13:27.322309"], ["updated_at", "2019-07-10 20:13:27.322309"]]
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2019-07-10 20:13:27.326317"], ["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (5.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "55555555"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("username", "phone_number", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "mem"], ["phone_number", "55555555"], ["password_digest", "$2a$12$mqyWQODDSdF5wQnnTMcD9OE.7pErxnNKdrqTw1XiDAtyjm9Lf4A2i"], ["created_at", "2019-07-10 20:13:27.670735"], ["updated_at", "2019-07-10 20:13:27.670735"]]
  â†³ db/seeds.rb:10
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:11
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ db/seeds.rb:11
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "111111"], ["LIMIT", 1]]
  â†³ db/seeds.rb:11
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "phone_number", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "rob"], ["phone_number", "111111"], ["password_digest", "$2a$12$MYYmOZs50E5vyAIKnn/fbOuy2mBwWgb3vB7Y1l0Jd5MZiKMqJ9g8q"], ["created_at", "2019-07-10 20:13:27.986794"], ["updated_at", "2019-07-10 20:13:27.986794"]]
  â†³ db/seeds.rb:11
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:12
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ db/seeds.rb:12
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "22222222"], ["LIMIT", 1]]
  â†³ db/seeds.rb:12
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "phone_number", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "jill"], ["phone_number", "22222222"], ["password_digest", "$2a$12$vmGipmBMhodrlCi5T1gwAu7rN0sYV3URYrMCevh1AgmGs8BaQMhPm"], ["created_at", "2019-07-10 20:13:28.307157"], ["updated_at", "2019-07-10 20:13:28.307157"]]
  â†³ db/seeds.rb:12
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:15
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ db/seeds.rb:15
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ db/seeds.rb:15
  [1m[36mChat Create (0.8ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-10 20:13:28.337102"], ["updated_at", "2019-07-10 20:13:28.337102"], ["to_id", 1], ["from_id", 2]]
  â†³ db/seeds.rb:15
  [1m[35m (26.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:15
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:16
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ db/seeds.rb:16
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ db/seeds.rb:16
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-10 20:13:28.370940"], ["updated_at", "2019-07-10 20:13:28.370940"], ["to_id", 2], ["from_id", 1]]
  â†³ db/seeds.rb:16
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:16
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:17
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ db/seeds.rb:17
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ db/seeds.rb:17
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-10 20:13:28.375217"], ["updated_at", "2019-07-10 20:13:28.375217"], ["to_id", 1], ["from_id", 3]]
  â†³ db/seeds.rb:17
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:17
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:18
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ db/seeds.rb:18
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ db/seeds.rb:18
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-10 20:13:28.396924"], ["updated_at", "2019-07-10 20:13:28.396924"], ["to_id", 3], ["from_id", 1]]
  â†³ db/seeds.rb:18
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:18
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:19
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ db/seeds.rb:19
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ db/seeds.rb:19
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-10 20:13:28.401525"], ["updated_at", "2019-07-10 20:13:28.401525"], ["to_id", 2], ["from_id", 3]]
  â†³ db/seeds.rb:19
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:19
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ db/seeds.rb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ db/seeds.rb:20
  [1m[36mChat Create (0.2ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-10 20:13:28.405452"], ["updated_at", "2019-07-10 20:13:28.405452"], ["to_id", 3], ["from_id", 2]]
  â†³ db/seeds.rb:20
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:20
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:22
  [1m[36mMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hello"], ["chat_id", 1], ["created_at", "2019-07-10 20:13:28.420860"], ["updated_at", "2019-07-10 20:13:28.420860"]]
  â†³ db/seeds.rb:22
  [1m[35m (40.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:23
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 2], ["created_at", "2019-07-10 20:13:28.465677"], ["updated_at", "2019-07-10 20:13:28.465677"]]
  â†³ db/seeds.rb:23
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:24
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "whatsup"], ["chat_id", 1], ["created_at", "2019-07-10 20:13:28.468762"], ["updated_at", "2019-07-10 20:13:28.468762"]]
  â†³ db/seeds.rb:24
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:24
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:25
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "nm whats up with you"], ["chat_id", 2], ["created_at", "2019-07-10 20:13:28.470926"], ["updated_at", "2019-07-10 20:13:28.470926"]]
  â†³ db/seeds.rb:25
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:25
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:26
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yo is this jill"], ["chat_id", 3], ["created_at", "2019-07-10 20:13:28.473364"], ["updated_at", "2019-07-10 20:13:28.473364"]]
  â†³ db/seeds.rb:26
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:27
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey it is who is this"], ["chat_id", 4], ["created_at", "2019-07-10 20:13:28.475697"], ["updated_at", "2019-07-10 20:13:28.475697"]]
  â†³ db/seeds.rb:27
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:27
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "55555555"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:11
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ db/seeds.rb:11
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "111111"], ["LIMIT", 1]]
  â†³ db/seeds.rb:11
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:12
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ db/seeds.rb:12
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."phone_number" = $1 LIMIT $2[0m  [["phone_number", "22222222"], ["LIMIT", 1]]
  â†³ db/seeds.rb:12
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:15
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:15
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:16
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:16
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:17
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:17
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:18
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:18
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:19
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:19
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:20
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:20
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:22
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["content", "hello"], ["created_at", "2019-07-10 20:13:42.601992"], ["updated_at", "2019-07-10 20:13:42.601992"]]
  â†³ db/seeds.rb:22
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:22
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:23
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["content", "hey"], ["created_at", "2019-07-10 20:13:42.607772"], ["updated_at", "2019-07-10 20:13:42.607772"]]
  â†³ db/seeds.rb:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:24
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["content", "whatsup"], ["created_at", "2019-07-10 20:13:42.611160"], ["updated_at", "2019-07-10 20:13:42.611160"]]
  â†³ db/seeds.rb:24
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:24
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:25
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["content", "nm whats up with you"], ["created_at", "2019-07-10 20:13:42.615211"], ["updated_at", "2019-07-10 20:13:42.615211"]]
  â†³ db/seeds.rb:25
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:25
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:26
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["content", "yo is this jill"], ["created_at", "2019-07-10 20:13:42.619206"], ["updated_at", "2019-07-10 20:13:42.619206"]]
  â†³ db/seeds.rb:26
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:27
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["content", "hey it is who is this"], ["created_at", "2019-07-10 20:13:42.622706"], ["updated_at", "2019-07-10 20:13:42.622706"]]
  â†³ db/seeds.rb:27
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:27
Started POST "/auth/login" for ::1 at 2019-07-10 16:14:10 -0400
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by AuthenticationController#login as */*
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 323ms (Views: 0.4ms | ActiveRecord: 10.7ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-10 16:14:33 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
Completed 200 OK in 75ms (Views: 10.0ms | ActiveRecord: 48.9ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-10 16:14:47 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:49
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 1.4ms)


Started GET "/users/2/chats/1" for ::1 at 2019-07-10 16:16:17 -0400
Processing by ChatsController#show as */*
  Parameters: {"user_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:15
Completed 200 OK in 31ms (Views: 26.9ms | ActiveRecord: 0.8ms)


Started GET "/users/1/chats" for ::1 at 2019-07-11 09:51:02 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (42.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 141ms (Views: 1.9ms | ActiveRecord: 101.8ms)


Started POST "/auth/login" for ::1 at 2019-07-11 09:51:27 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 362ms (Views: 0.4ms | ActiveRecord: 1.8ms)


Started GET "/users/1/chats" for ::1 at 2019-07-11 09:51:29 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 87ms (Views: 14.9ms | ActiveRecord: 57.9ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 09:55:25 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (23.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 25ms (ActiveRecord: 23.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 09:59:09 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started POST "/auth/login" for ::1 at 2019-07-11 09:59:37 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 292ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/users/1/chats" for ::1 at 2019-07-11 09:59:39 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (5.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (5.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 22ms (Views: 5.5ms | ActiveRecord: 13.0ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 10:04:32 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 10:31:34 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 1.2ms | ActiveRecord: 2.2ms)


Started POST "/auth/login" for ::1 at 2019-07-11 10:31:44 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 311ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/users/1/chats" for ::1 at 2019-07-11 10:31:45 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (3.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 43ms (Views: 25.3ms | ActiveRecord: 10.0ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 10:32:45 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 3ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 10:33:39 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (10.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 13ms (Views: 0.3ms | ActiveRecord: 10.1ms)


Started POST "/auth/login" for ::1 at 2019-07-11 10:33:53 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 282ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/users/1/chats" for ::1 at 2019-07-11 10:33:55 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (4.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 24ms (Views: 5.8ms | ActiveRecord: 13.1ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 10:34:16 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (81.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 83ms (ActiveRecord: 81.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started POST "/auth/login" for ::1 at 2019-07-11 10:34:33 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
Completed 200 OK in 287ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started GET "/users/1/chats" for ::1 at 2019-07-11 10:34:36 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 9ms (Views: 4.1ms | ActiveRecord: 1.6ms)


Started GET "/users/1/chats" for ::1 at 2019-07-11 10:47:25 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 28ms (Views: 13.3ms | ActiveRecord: 2.2ms)


Started GET "/users/1/chats" for ::1 at 2019-07-11 10:47:30 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (4.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 15ms (Views: 5.2ms | ActiveRecord: 5.8ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 10:47:50 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (55.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 59ms (ActiveRecord: 55.9ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 10:47:53 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 10ms (Views: 4.1ms | ActiveRecord: 2.4ms)


Started GET "/users/1/chats" for ::1 at 2019-07-11 10:47:57 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (11.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 27ms (Views: 5.0ms | ActiveRecord: 16.7ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 10:54:45 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 110ms (ActiveRecord: 102.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable" for ::1 at 2019-07-11 11:21:48 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 11:21:48 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (50.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (7.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Started GET "/cable/" [WebSocket] for ::1 at 2019-07-11 11:21:49 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mChat Load (6.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (5.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 194ms (Views: 29.3ms | ActiveRecord: 79.8ms)


ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from chats_channel
Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from chats_channel
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from chats_channel
Started POST "/users/1/chats" for ::1 at 2019-07-11 11:21:54 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (48.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 15:21:54.602929"], ["updated_at", "2019-07-11 15:21:54.602929"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 91ms (ActiveRecord: 50.8ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Started POST "/users/1/chats" for ::1 at 2019-07-11 11:21:59 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"6", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"6", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 422 Unprocessable Entity in 55ms (Views: 0.3ms | ActiveRecord: 40.8ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 11:22:04 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 15:22:04.820855"], ["updated_at", "2019-07-11 15:22:04.820855"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 51ms (ActiveRecord: 41.2ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Finished "/cable/" [WebSocket] for ::1 at 2019-07-11 11:34:02 -0400
ChatsChannel stopped streaming from chats_channel
Started GET "/cable" for ::1 at 2019-07-11 11:34:02 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 11:34:02 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2019-07-11 11:34:02 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 112ms (ActiveRecord: 99.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable" for ::1 at 2019-07-11 11:34:10 -0400
Started GET "/cable/" [WebSocket] for ::1 at 2019-07-11 11:34:10 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2019-07-11 11:34:10 -0400
Finished "/cable/" [WebSocket] for ::1 at 2019-07-11 11:34:10 -0400
Started GET "/cable?user=1" for ::1 at 2019-07-11 11:56:48 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 11:56:49 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 11:56:49 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 63ms (Views: 13.7ms | ActiveRecord: 13.3ms)


Started GET "/cable?user=1" for ::1 at 2019-07-11 11:56:55 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 11:56:55 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started POST "/users/1/chats" for ::1 at 2019-07-11 11:57:00 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (7.1ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 15:57:00.090330"], ["updated_at", "2019-07-11 15:57:00.090330"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 22ms (ActiveRecord: 9.1ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 11:57:24 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=undefined" for ::1 at 2019-07-11 11:57:25 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 11:57:25 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 11:57:25 -0400
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 11:57:25 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 11:57:25 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 11:57:26 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
Started GET "/cable?user=1" for ::1 at 2019-07-11 11:57:26 -0400
  [1m[36mUser Load (48.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (6.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (6.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 73ms (Views: 5.8ms | ActiveRecord: 62.3ms)


Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 11:57:26 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 11:59:03 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 11:59:04 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:00:33 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:00:33 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:00:33 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
Processing by ChatsController#index as HTML
ChatsChannel is streaming from current_user_1
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 2.0ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started POST "/users/1/chats" for ::1 at 2019-07-11 12:00:41 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:00:41.086702"], ["updated_at", "2019-07-11 16:00:41.086702"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (43.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 54ms (ActiveRecord: 44.9ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:00:46 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:00:46 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:00:47 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:00:48 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:00:48 -0400
  [1m[36mUser Load (16.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 2.7ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started POST "/users/1/chats" for ::1 at 2019-07-11 12:00:52 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.8ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:00:52.865259"], ["updated_at", "2019-07-11 16:00:52.865259"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.8ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:00:54 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=undefined" for ::1 at 2019-07-11 12:00:54 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:00:54 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 12:00:54 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 12:00:54 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 4ms (ActiveRecord: 2.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 12:00:55 -0400
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:00:56 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:00:56 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:00:56 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 15ms (Views: 4.4ms | ActiveRecord: 7.4ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:01:19 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=undefined" for ::1 at 2019-07-11 12:01:20 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 12:01:20 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 12:01:20 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 12:01:20 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:01:20 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (11.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 55ms (ActiveRecord: 11.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:09:25 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:09:25 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:09:25 -0400
  Parameters: {"user_id"=>"1"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 35ms (Views: 12.4ms | ActiveRecord: 10.1ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started POST "/users/1/chats" for ::1 at 2019-07-11 12:09:28 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (1.0ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:09:28.617122"], ["updated_at", "2019-07-11 16:09:28.617122"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (18.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 44ms (ActiveRecord: 21.1ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:09:33 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:09:33 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (9.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 11ms (ActiveRecord: 9.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:09:34 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:09:34 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:09:34 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
Processing by ChatsController#index as HTML
ChatsChannel is transmitting the subscription confirmation
  Parameters: {"user_id"=>"1"}
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 13ms (Views: 6.5ms | ActiveRecord: 3.0ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:16:43 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:16:43 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:16:46 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:27:21 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=undefined" for ::1 at 2019-07-11 12:28:55 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 12:28:55 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 12:28:55 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:28:56 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 16ms (ActiveRecord: 8.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:28:59 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:28:59 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:28:59 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 23ms (Views: 11.3ms | ActiveRecord: 3.4ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started POST "/users/1/chats" for ::1 at 2019-07-11 12:29:05 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (37.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:29:05.334948"], ["updated_at", "2019-07-11 16:29:05.334948"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 54ms (ActiveRecord: 39.5ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:29:29 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:29:29 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 2ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:30:37 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:30:37 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:30:37 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 16ms (Views: 7.5ms | ActiveRecord: 4.5ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:31:35 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:31:35 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (85.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 87ms (ActiveRecord: 85.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:31:38 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:31:38 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:31:38 -0400
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 14ms (Views: 8.0ms | ActiveRecord: 2.9ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started POST "/users/1/chats" for ::1 at 2019-07-11 12:31:40 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:31:40.088389"], ["updated_at", "2019-07-11 16:31:40.088389"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.0ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Started POST "/users/1/chats" for ::1 at 2019-07-11 12:31:43 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (2.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:31:43.765732"], ["updated_at", "2019-07-11 16:31:43.765732"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.3ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:32:53 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:32:53 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 1ms (ActiveRecord: 0.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:37:12 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:37:12 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:37:12 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (18.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (9.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_1
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (1.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 57ms (Views: 13.2ms | ActiveRecord: 29.7ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:37:15 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (1.6ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:37:15.373891"], ["updated_at", "2019-07-11 16:37:15.373891"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 21ms (ActiveRecord: 4.2ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:37:29 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:37:30 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 4ms (ActiveRecord: 1.9ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 12:37:31 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:37:31 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:37:31 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (2.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/chats_controller.rb:10
ChatsChannel is streaming from current_user_1
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 21ms (Views: 8.0ms | ActiveRecord: 9.2ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 12:38:41 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:38:41 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 3ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:39:36 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
  [1m[36mChat Load (4.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
  â†³ app/controllers/chats_controller.rb:10
Completed 200 OK in 25ms (Views: 9.1ms | ActiveRecord: 11.1ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:39:40 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (10.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:39:40.444933"], ["updated_at", "2019-07-11 16:39:40.444933"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 22ms (ActiveRecord: 13.1ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Started POST "/users/1/chats" for ::1 at 2019-07-11 12:42:25 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:42:25.716095"], ["updated_at", "2019-07-11 16:42:25.716095"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
Completed 500 Internal Server Error in 54ms (ActiveRecord: 41.2ms)


  
NameError (uninitialized constant ChatsController::ActiveModelSerializers):
  
app/controllers/chats_controller.rb:24:in `create'
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:48:30 -0400
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 26ms (ActiveRecord: 6.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:48:32 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (10.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (2.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (35.63ms)
Completed 200 OK in 107ms (Views: 37.7ms | ActiveRecord: 28.2ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:49:09 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.8ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:49:09.825900"], ["updated_at", "2019-07-11 16:49:09.825900"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (43.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 19]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to chats_channel: {:chat=>{:id=>19, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 162ms (ActiveRecord: 65.1ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:49:18 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:49:18.905896"], ["updated_at", "2019-07-11 16:49:18.905896"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 20]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to chats_channel: {:chat=>{:id=>20, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 51ms (ActiveRecord: 41.4ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:49:22 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:49:22.249914"], ["updated_at", "2019-07-11 16:49:22.249914"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 21]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to chats_channel: {:chat=>{:id=>21, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 18ms (ActiveRecord: 3.2ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:49:24 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:49:26 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (13.16ms)
Completed 200 OK in 20ms (Views: 12.8ms | ActiveRecord: 3.3ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:53:18 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 53ms (ActiveRecord: 36.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:53:20 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (31.63ms)
Completed 200 OK in 66ms (Views: 33.4ms | ActiveRecord: 6.6ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:53:24 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (3.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:53:24.108137"], ["updated_at", "2019-07-11 16:53:24.108137"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 22]]
  â†³ app/controllers/chats_controller.rb:26
Completed 500 Internal Server Error in 152ms (ActiveRecord: 6.4ms)


  
NameError (undefined local variable or method `current_user' for #<ChatsController:0x00007fbef2d28a30>
Did you mean?  @current_user):
  
app/controllers/chats_controller.rb:27:in `create'
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:54:42 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (15.95ms)
Completed 200 OK in 59ms (Views: 18.4ms | ActiveRecord: 7.9ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:54:46 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:54:46.170126"], ["updated_at", "2019-07-11 16:54:46.170126"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 23]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>23, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 20ms (ActiveRecord: 4.6ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:54:50 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:54:50.117187"], ["updated_at", "2019-07-11 16:54:50.117187"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 24]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>24, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 12ms (ActiveRecord: 3.1ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:54:51 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (3.2ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:54:51.376967"], ["updated_at", "2019-07-11 16:54:51.376967"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 25]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>25, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 13ms (ActiveRecord: 4.7ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:54:54 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:54:56 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (10.31ms)
Completed 200 OK in 25ms (Views: 10.3ms | ActiveRecord: 5.0ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:55:02 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:55:02.863967"], ["updated_at", "2019-07-11 16:55:02.863967"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 26]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>26, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 3.0ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:55:05 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:55:05.252942"], ["updated_at", "2019-07-11 16:55:05.252942"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (2.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 27]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>27, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 53ms (ActiveRecord: 44.7ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 12:57:00 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 24ms (ActiveRecord: 1.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 12:57:06 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (22.9ms)
Completed 200 OK in 34ms (Views: 23.9ms | ActiveRecord: 3.9ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:57:09 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (40.6ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:57:09.980417"], ["updated_at", "2019-07-11 16:57:09.980417"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 28]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>28, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 58ms (ActiveRecord: 42.3ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:57:12 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.7ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:57:12.838816"], ["updated_at", "2019-07-11 16:57:12.838816"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 29]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>29, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 14ms (ActiveRecord: 3.6ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 12:59:40 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (9.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 16:59:40.363901"], ["updated_at", "2019-07-11 16:59:40.363901"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 30]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>30, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 61ms (ActiveRecord: 51.0ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:00:39 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:00:39.863091"], ["updated_at", "2019-07-11 17:00:39.863091"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 31]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>31, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 52ms (ActiveRecord: 41.7ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:00:41 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (3.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:00:41.220120"], ["updated_at", "2019-07-11 17:00:41.220120"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 32]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>32, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 15ms (ActiveRecord: 5.1ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 13:01:58 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (135.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 138ms (ActiveRecord: 135.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/users/1/chats" for ::1 at 2019-07-11 13:01:59 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (14.55ms)
Completed 200 OK in 19ms (Views: 14.2ms | ActiveRecord: 2.1ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:02:05 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:02:05.970888"], ["updated_at", "2019-07-11 17:02:05.970888"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 33]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>33, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 13ms (ActiveRecord: 3.3ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:02:07 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:02:07.393092"], ["updated_at", "2019-07-11 17:02:07.393092"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 34]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>34, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 12ms (ActiveRecord: 3.2ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:02:08 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:02:08.215111"], ["updated_at", "2019-07-11 17:02:08.215111"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 35]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>35, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 12ms (ActiveRecord: 3.1ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:02:08 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:02:08.722588"], ["updated_at", "2019-07-11 17:02:08.722588"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 36]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>36, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 12ms (ActiveRecord: 2.9ms)


Started GET "/users/undefined/chats" for ::1 at 2019-07-11 13:02:53 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 2ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 13:03:14 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 13:03:14 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 13:03:14 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (13.3ms)
Completed 200 OK in 30ms (Views: 12.7ms | ActiveRecord: 13.0ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:03:18 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.7ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:03:18.371611"], ["updated_at", "2019-07-11 17:03:18.371611"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 37]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>37, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 13ms (ActiveRecord: 4.1ms)


ChatsChannel transmitting {"chat"=>{"id"=>37, "to_id"=>3, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Started POST "/users/1/chats" for ::1 at 2019-07-11 13:03:20 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"4", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"4", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/chats_controller.rb:22
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.1ms)
Completed 422 Unprocessable Entity in 17ms (Views: 5.4ms | ActiveRecord: 0.9ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:03:27 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (9.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:03:27.147266"], ["updated_at", "2019-07-11 17:03:27.147266"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 38]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>38, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 22ms (ActiveRecord: 12.2ms)


ChatsChannel transmitting {"chat"=>{"id"=>38, "to_id"=>3, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Started POST "/users/1/chats" for ::1 at 2019-07-11 13:03:28 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"32", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"32", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/chats_controller.rb:22
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.07ms)
Completed 422 Unprocessable Entity in 7ms (Views: 0.6ms | ActiveRecord: 0.9ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:03:29 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:03:29.859545"], ["updated_at", "2019-07-11 17:03:29.859545"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 39]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>39, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 9ms (ActiveRecord: 1.7ms)


ChatsChannel transmitting {"chat"=>{"id"=>39, "to_id"=>2, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Started POST "/users/1/chats" for ::1 at 2019-07-11 13:03:31 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:03:31.284851"], ["updated_at", "2019-07-11 17:03:31.284851"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 40]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>40, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 3.1ms)


ChatsChannel transmitting {"chat"=>{"id"=>40, "to_id"=>1, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Started POST "/users/1/chats" for ::1 at 2019-07-11 13:03:32 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (7.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:03:32.337317"], ["updated_at", "2019-07-11 17:03:32.337317"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 41]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>41, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 18ms (ActiveRecord: 10.3ms)


ChatsChannel transmitting {"chat"=>{"id"=>41, "to_id"=>2, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Started POST "/users/1/chats" for ::1 at 2019-07-11 13:03:33 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:03:33.262055"], ["updated_at", "2019-07-11 17:03:33.262055"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 42]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>42, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 3.4ms)


ChatsChannel transmitting {"chat"=>{"id"=>42, "to_id"=>3, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 13:04:45 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 13:04:46 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 5ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 13:07:43 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 13:07:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/1/chats" for ::1 at 2019-07-11 13:07:43 -0400
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Processing by ChatsController#index as HTML
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  Parameters: {"user_id"=>"1"}
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (22.11ms)
Completed 200 OK in 36ms (Views: 21.7ms | ActiveRecord: 10.2ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:46 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.6ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:46.681591"], ["updated_at", "2019-07-11 17:07:46.681591"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 43]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>43, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 15ms (ActiveRecord: 3.7ms)


ChatsChannel transmitting {"chat"=>{"id"=>43, "to_id"=>1, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:49 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:49.347831"], ["updated_at", "2019-07-11 17:07:49.347831"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 44]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>44, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 17ms (ActiveRecord: 3.8ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:49 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:49.827584"], ["updated_at", "2019-07-11 17:07:49.827584"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 45]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>45, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 10ms (ActiveRecord: 2.1ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:51 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:51.066681"], ["updated_at", "2019-07-11 17:07:51.066681"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 46]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>46, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 10ms (ActiveRecord: 2.0ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:51 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:51.694164"], ["updated_at", "2019-07-11 17:07:51.694164"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 47]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>47, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 3.4ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:52 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:52.084829"], ["updated_at", "2019-07-11 17:07:52.084829"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 48]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>48, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 3.2ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:54 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:54.062642"], ["updated_at", "2019-07-11 17:07:54.062642"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 49]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>49, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 10ms (ActiveRecord: 1.7ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:56 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (6.6ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:56.050333"], ["updated_at", "2019-07-11 17:07:56.050333"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 50]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>50, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 18ms (ActiveRecord: 9.2ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:56 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (3.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:56.301295"], ["updated_at", "2019-07-11 17:07:56.301295"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 51]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>51, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 18ms (ActiveRecord: 7.9ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:57 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:57.982012"], ["updated_at", "2019-07-11 17:07:57.982012"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (8.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 52]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>52, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 20ms (ActiveRecord: 11.1ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:58 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:58.280102"], ["updated_at", "2019-07-11 17:07:58.280102"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 53]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>53, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 3.0ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:07:58 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:07:58.486097"], ["updated_at", "2019-07-11 17:07:58.486097"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 54]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>54, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 1.9ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:08:00 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:08:00.458780"], ["updated_at", "2019-07-11 17:08:00.458780"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 55]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>55, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 16ms (ActiveRecord: 3.2ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:08:00 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (6.1ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:08:00.637661"], ["updated_at", "2019-07-11 17:08:00.637661"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 56]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>56, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 19ms (ActiveRecord: 7.6ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:08:00 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:08:00.821237"], ["updated_at", "2019-07-11 17:08:00.821237"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 57]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>57, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 15ms (ActiveRecord: 3.6ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 13:08:14 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 13:08:15 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (35.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
Completed 404 Not Found in 38ms (ActiveRecord: 35.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:56:in `set_user'
Started GET "/cable?user=1" for ::1 at 2019-07-11 13:08:27 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 13:08:27 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 13:08:27 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
ChatsChannel is transmitting the subscription confirmation
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
ChatsChannel is streaming from current_user_1
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (45.49ms)
Completed 200 OK in 56ms (Views: 44.3ms | ActiveRecord: 7.1ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:08:31 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"2", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:08:31.871775"], ["updated_at", "2019-07-11 17:08:31.871775"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 58]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>58, :to_id=>2, :from_id=>1, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 1.9ms)


ChatsChannel transmitting {"chat"=>{"id"=>58, "to_id"=>2, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Started POST "/users/1/chats" for ::1 at 2019-07-11 13:08:34 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"3", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (6.9ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:08:34.460686"], ["updated_at", "2019-07-11 17:08:34.460686"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 59]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>59, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 22ms (ActiveRecord: 9.8ms)


ChatsChannel transmitting {"chat"=>{"id"=>59, "to_id"=>3, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Started POST "/users/1/chats" for ::1 at 2019-07-11 13:08:37 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"4", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"4", "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (50.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/chats_controller.rb:22
[active_model_serializers] Rendered ActiveModel::Serializer::Null with ActiveModel::Errors (0.11ms)
Completed 422 Unprocessable Entity in 62ms (Views: 0.8ms | ActiveRecord: 51.6ms)


Started POST "/users/1/chats" for ::1 at 2019-07-11 13:08:39 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>"1", "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 17:08:39.481229"], ["updated_at", "2019-07-11 17:08:39.481229"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 60]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>60, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 10ms (ActiveRecord: 2.7ms)


ChatsChannel transmitting {"chat"=>{"id"=>60, "to_id"=>1, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 13:44:08 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-11 13:44:08 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 13:44:08 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 14:15:53 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-11 14:15:54 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 14:15:54 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 14:15:54 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:56
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 2.2ms | ActiveRecord: 2.6ms)


ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 14:16:00 -0400
ChatsChannel stopped streaming from current_user_1
Started POST "/auth/login" for ::1 at 2019-07-11 14:16:12 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 296ms (Views: 0.8ms | ActiveRecord: 0.4ms)


Started GET "/cable?user=1" for ::1 at 2019-07-11 14:16:15 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-11 14:16:15 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 14:16:15 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (30.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:56
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/application_controller.rb:8
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (2.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (31.36ms)
Completed 200 OK in 68ms (Views: 29.0ms | ActiveRecord: 33.9ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-11 14:18:15 -0400
ChatsChannel stopped streaming from current_user_1
Started POST "/auth/login" for ::1 at 2019-07-11 14:18:27 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"jill", "password"=>"[FILTERED]", "authentication"=>{"username"=>"jill", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 200 OK in 320ms (Views: 4.4ms | ActiveRecord: 10.3ms)


Started GET "/cable?user=3" for ::1 at 2019-07-11 14:18:29 -0400
Started GET "/users/3/chats" for ::1 at 2019-07-11 14:18:29 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-11 14:18:29 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (23.52ms)
Completed 200 OK in 67ms (Views: 16.3ms | ActiveRecord: 36.7ms)


Started POST "/users/3/chats" for ::1 at 2019-07-11 14:18:36 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>3, "user_id"=>"3", "chat"=>{"to_id"=>"2", "from_id"=>3}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.8ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 18:18:36.146165"], ["updated_at", "2019-07-11 18:18:36.146165"], ["to_id", 2], ["from_id", 3]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (41.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 61]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>61, :to_id=>2, :from_id=>3, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>61, :to_id=>2, :from_id=>3, :messages=>[]}}
Completed 200 OK in 105ms (ActiveRecord: 79.8ms)


ChatsChannel transmitting {"chat"=>{"id"=>61, "to_id"=>2, "from_id"=>3, "messages"=>[]}} (via streamed from current_user_3)
Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-11 14:18:38 -0400
ChatsChannel stopped streaming from current_user_3
Started POST "/auth/login" for ::1 at 2019-07-11 14:18:47 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"rob", "password"=>"[FILTERED]", "authentication"=>{"username"=>"rob", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 295ms (Views: 0.7ms | ActiveRecord: 0.3ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 14:18:49 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 14:18:49 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:18:49 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
[active_model_serializers]   [1m[36mChat Load (2.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
ChatsChannel is streaming from current_user_2
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (14.77ms)
Completed 200 OK in 23ms (Views: 11.7ms | ActiveRecord: 7.8ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:25:24 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 14:37:03 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 14:37:03 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:37:03 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (20.89ms)
Completed 200 OK in 38ms (Views: 21.6ms | ActiveRecord: 4.4ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:37:05 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 14:38:04 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 14:38:04 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:38:04 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (2.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (13.8ms)
Completed 200 OK in 25ms (Views: 11.4ms | ActiveRecord: 7.6ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:38:36 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/undefined/chats" for ::1 at 2019-07-11 14:38:37 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Completed 404 Not Found in 3ms (ActiveRecord: 1.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:62:in `set_user'
Started GET "/cable?user=2" for ::1 at 2019-07-11 14:47:24 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 14:47:24 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:47:24 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (24.11ms)
Completed 200 OK in 73ms (Views: 16.4ms | ActiveRecord: 23.9ms)


Started GET "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 14:47:37 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"undefined", "chat_id"=>"undefined"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 0], ["to_id", 0]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (5.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.22ms)
Completed 200 OK in 163ms (Views: 2.3ms | ActiveRecord: 84.2ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 14:47:38 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 14:47:38 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:47:38 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.75ms)
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 1.9ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:47:39 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 14:47:39 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"undefined", "chat_id"=>"undefined"}
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 0], ["to_id", 0]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (4.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 15ms (Views: 2.2ms | ActiveRecord: 5.2ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 14:48:58 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (4.1ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (41.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.28ms)
Completed 200 OK in 84ms (Views: 19.4ms | ActiveRecord: 62.3ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 14:49:42 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 14:49:42 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:49:42 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
[active_model_serializers]   [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
ChatsChannel is streaming from current_user_2
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (2.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (15.09ms)
Completed 200 OK in 28ms (Views: 11.7ms | ActiveRecord: 10.3ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:49:43 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 14:49:43 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"undefined", "chat_id"=>"undefined"}
  [1m[35m (4.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 0], ["to_id", 0]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (3.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.12ms)
Completed 200 OK in 12ms (Views: 2.1ms | ActiveRecord: 7.5ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 14:50:14 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.86ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 1.9ms)


Started GET "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 14:50:35 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"undefined", "chat_id"=>"undefined"}
  [1m[35m (13.2ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 0], ["to_id", 0]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (2.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 19ms (Views: 1.9ms | ActiveRecord: 15.4ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 14:50:37 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 14:50:37 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:50:38 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Parameters: {"user_id"=>"2"}
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (19.88ms)
Completed 200 OK in 30ms (Views: 19.5ms | ActiveRecord: 6.3ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:50:56 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 14:50:56 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"undefined", "chat_id"=>"undefined"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 0], ["to_id", 0]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (2.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 8ms (Views: 2.0ms | ActiveRecord: 3.2ms)


Started GET "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 14:51:15 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"undefined", "chat_id"=>"undefined"}
  [1m[35m (140.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 0], ["to_id", 0]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (15.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 160ms (Views: 1.8ms | ActiveRecord: 155.9ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 14:51:19 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 14:51:19 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:51:19 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (6.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (16.22ms)
Completed 200 OK in 23ms (Views: 10.4ms | ActiveRecord: 8.3ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:51:20 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 14:51:20 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"undefined", "chat_id"=>"undefined"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 0], ["to_id", 0]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.12ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 1.0ms)


Started GET "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 14:51:45 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"undefined", "chat_id"=>"undefined"}
  [1m[35m (3.9ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 0], ["to_id", 0]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.09ms)
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 4.2ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 14:51:48 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:51:48 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/2/chats" for ::1 at 2019-07-11 14:51:48 -0400
Processing by ChatsController#index as HTML
  [1m[36mUser Load (8.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Parameters: {"user_id"=>"2"}
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
ChatsChannel is streaming from current_user_2
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (22.71ms)
Completed 200 OK in 31ms (Views: 22.1ms | ActiveRecord: 3.9ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:51:49 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 14:51:49 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"undefined", "chat_id"=>"undefined"}
  [1m[35m (26.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 0], ["to_id", 0]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.16ms)
Completed 200 OK in 32ms (Views: 2.2ms | ActiveRecord: 27.5ms)


Started GET "/users/2/chats/undefined/messages" for ::1 at 2019-07-11 14:53:19 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"undefined"}
  [1m[35m (3.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 0]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (3.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 12ms (Views: 3.3ms | ActiveRecord: 6.7ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 14:53:27 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 14:53:27 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:53:27 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (4.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (15.74ms)
Completed 200 OK in 24ms (Views: 12.9ms | ActiveRecord: 5.5ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 14:53:28 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 14:53:28 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.68ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 1.0ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 14:55:11 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.67ms)
Completed 200 OK in 8ms (Views: 4.0ms | ActiveRecord: 1.1ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 15:07:10 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 15:07:10 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:07:10 -0400
  Parameters: {"user_id"=>"2"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (3.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (23.0ms)
Completed 200 OK in 49ms (Views: 20.9ms | ActiveRecord: 13.2ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:07:11 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:08:06 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.13ms)
Completed 200 OK in 14ms (Views: 7.1ms | ActiveRecord: 1.6ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 15:08:07 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 15:08:07 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:08:07 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (12.48ms)
Completed 200 OK in 21ms (Views: 11.4ms | ActiveRecord: 4.7ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:08:08 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:08:08 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (3.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.94ms)
Completed 200 OK in 21ms (Views: 5.6ms | ActiveRecord: 4.7ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:09:08 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (8.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (3.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.77ms)
Completed 200 OK in 17ms (Views: 2.7ms | ActiveRecord: 12.1ms)


Started GET "/users/2/chats" for ::1 at 2019-07-11 15:14:05 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:14:05 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (15.07ms)
Completed 200 OK in 70ms (Views: 16.2ms | ActiveRecord: 16.8ms)


Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:14:05 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:14:06 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:14:06 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:14:06 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:14:06 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.62ms)
Completed 200 OK in 24ms (Views: 10.5ms | ActiveRecord: 7.9ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:14:10 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 15:14:10 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:14:10 -0400
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:14:10 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (6.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (69.19ms)
Completed 200 OK in 97ms (Views: 72.9ms | ActiveRecord: 14.2ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:14:12 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:14:12 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:14:12 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:14:12 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (17.0ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.81ms)
Completed 200 OK in 25ms (Views: 4.0ms | ActiveRecord: 18.7ms)


Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
Started POST "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 15:14:17 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"undefined", "content"=>"nm", "user_id"=>"undefined", "message"=>{"content"=>"nm", "chat_id"=>"undefined"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (50.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "nm"], ["chat_id", 1], ["created_at", "2019-07-11 19:14:17.847809"], ["updated_at", "2019-07-11 19:14:17.847809"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 198ms (ActiveRecord: 51.6ms)


  
NameError (undefined local variable or method `message' for #<MessagesController:0x00007fbef32ee280>
Did you mean?  @message):
  
app/controllers/messages_controller.rb:22:in `create'
Started POST "/users/undefined/chats/undefined/messages" for ::1 at 2019-07-11 15:14:19 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"undefined", "content"=>"nm", "user_id"=>"undefined", "message"=>{"content"=>"nm", "chat_id"=>"undefined"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "nm"], ["chat_id", 1], ["created_at", "2019-07-11 19:14:19.172821"], ["updated_at", "2019-07-11 19:14:19.172821"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 159ms (ActiveRecord: 1.5ms)


  
NameError (undefined local variable or method `message' for #<MessagesController:0x00007fbef2f46808>
Did you mean?  @message):
  
app/controllers/messages_controller.rb:22:in `create'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:15:56 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-11 15:15:56 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:15:56 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:15:56 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:15:56 -0400
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:15:56 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (39.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.64ms)
Completed 200 OK in 126ms (Views: 4.7ms | ActiveRecord: 41.7ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 15:16:04 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 15:16:04 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:16:04 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.03ms)
Completed 200 OK in 15ms (Views: 6.1ms | ActiveRecord: 4.6ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:16:06 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:16:06 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:16:06 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:16:06 -0400
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.43ms)
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 2.5ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
Started POST "/users/2/chats/undefined/messages" for ::1 at 2019-07-11 15:16:10 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"undefined", "content"=>"yo", "user_id"=>"2", "message"=>{"content"=>"yo", "chat_id"=>"undefined"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (43.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yo"], ["chat_id", 1], ["created_at", "2019-07-11 19:16:10.954794"], ["updated_at", "2019-07-11 19:16:10.954794"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 167ms (ActiveRecord: 44.6ms)


  
NameError (undefined local variable or method `message' for #<MessagesController:0x00007fbef370ba98>
Did you mean?  @message):
  
app/controllers/messages_controller.rb:22:in `create'
Started POST "/users/2/chats/undefined/messages" for ::1 at 2019-07-11 15:16:11 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"undefined", "content"=>"yo", "user_id"=>"2", "message"=>{"content"=>"yo", "chat_id"=>"undefined"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yo"], ["chat_id", 1], ["created_at", "2019-07-11 19:16:11.900792"], ["updated_at", "2019-07-11 19:16:11.900792"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 178ms (ActiveRecord: 41.3ms)


  
NameError (undefined local variable or method `message' for #<MessagesController:0x00007fbef195a760>
Did you mean?  @message):
  
app/controllers/messages_controller.rb:22:in `create'
Started POST "/users/2/chats/undefined/messages" for ::1 at 2019-07-11 15:16:17 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"undefined", "content"=>"yo", "user_id"=>"2", "message"=>{"content"=>"yo", "chat_id"=>"undefined"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yo"], ["chat_id", 1], ["created_at", "2019-07-11 19:16:17.852140"], ["updated_at", "2019-07-11 19:16:17.852140"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 120ms (ActiveRecord: 2.7ms)


  
NameError (undefined local variable or method `message' for #<MessagesController:0x00007fbef3334a00>
Did you mean?  @message):
  
app/controllers/messages_controller.rb:22:in `create'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:17:14 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:17:15 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (9.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.13ms)
Completed 200 OK in 19ms (Views: 5.9ms | ActiveRecord: 10.7ms)


Started GET "/users/2/chats" for ::1 at 2019-07-11 15:17:35 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:17:35 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:17:35 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (19.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
[active_model_serializers]   [1m[36mChat Load (2.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (31.65ms)
Completed 200 OK in 58ms (Views: 30.1ms | ActiveRecord: 21.7ms)


ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:17:36 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:17:36 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:17:36 -0400
  [1m[35m (16.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (21.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:17:36 -0400
  â†³ app/controllers/messages_controller.rb:7
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.18ms)
Completed 200 OK in 52ms (Views: 11.3ms | ActiveRecord: 37.9ms)


  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:17:39 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"q", "user_id"=>"2", "message"=>{"content"=>"q", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "q"], ["chat_id", 1], ["created_at", "2019-07-11 19:17:39.407797"], ["updated_at", "2019-07-11 19:17:39.407797"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 163ms (ActiveRecord: 42.5ms)


  
NameError (undefined local variable or method `message' for #<MessagesController:0x00007fbef19d92e0>
Did you mean?  @message):
  
app/controllers/messages_controller.rb:22:in `create'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:18:57 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:18:57 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 15:18:57 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:18:57 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (13.93ms)
Completed 200 OK in 48ms (Views: 15.2ms | ActiveRecord: 10.2ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:18:58 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:18:58 -0400
  [1m[35m (32.2ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:18:58 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mMessage Load (2.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.35ms)
Completed 200 OK in 80ms (Views: 17.1ms | ActiveRecord: 53.1ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:19:05 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"mem", "user_id"=>"2", "message"=>{"content"=>"mem", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "mem"], ["chat_id", 1], ["created_at", "2019-07-11 19:19:05.624372"], ["updated_at", "2019-07-11 19:19:05.624372"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 161ms (ActiveRecord: 41.8ms)


  
NameError (undefined local variable or method `chat' for #<MessagesController:0x00007fbef5800500>):
  
app/controllers/messages_controller.rb:24:in `create'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:20:03 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-11 15:20:03 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:20:04 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:20:04 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (5.81ms)
Completed 200 OK in 103ms (Views: 45.1ms | ActiveRecord: 39.8ms)


Started GET "/users/2/chats" for ::1 at 2019-07-11 15:20:04 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:20:04 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:20:04 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (9.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (26.21ms)
Completed 200 OK in 117ms (Views: 23.4ms | ActiveRecord: 56.3ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:20:05 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:20:05 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (3.51ms)
Completed 200 OK in 11ms (Views: 7.1ms | ActiveRecord: 1.1ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 15:20:05 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:20:05 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:20:10 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-11 19:20:10.022800"], ["updated_at", "2019-07-11 19:20:10.022800"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 168ms (ActiveRecord: 41.8ms)


  
NameError (undefined local variable or method `serrialized_data' for #<MessagesController:0x00007fbef2daeae0>
Did you mean?  serialized_date):
  
app/controllers/messages_controller.rb:24:in `create'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:20:41 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-11 15:20:41 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:20:42 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:20:42 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.3ms)
Completed 200 OK in 59ms (Views: 12.8ms | ActiveRecord: 28.3ms)


Started GET "/users/2/chats" for ::1 at 2019-07-11 15:20:42 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:20:42 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:20:42 -0400
  [1m[36mUser Load (4.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (12.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (9.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (27.39ms)
Completed 200 OK in 120ms (Views: 29.9ms | ActiveRecord: 52.2ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:20:44 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:20:44 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:20:44 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:20:44 -0400
  [1m[36mUser Load (21.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
  [1m[35m (3.2ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (11.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (3.85ms)
Completed 200 OK in 25ms (Views: 8.1ms | ActiveRecord: 14.2ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:20:48 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"say", "user_id"=>"2", "message"=>{"content"=>"say", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "say"], ["chat_id", 1], ["created_at", "2019-07-11 19:20:48.360895"], ["updated_at", "2019-07-11 19:20:48.360895"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 164ms (ActiveRecord: 41.3ms)


  
NameError (undefined local variable or method `serrialized_data' for #<MessagesController:0x00007fbef2a9f4a8>
Did you mean?  serialized_data):
  
app/controllers/messages_controller.rb:24:in `create'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:20:49 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"say", "user_id"=>"2", "message"=>{"content"=>"say", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "say"], ["chat_id", 1], ["created_at", "2019-07-11 19:20:49.235942"], ["updated_at", "2019-07-11 19:20:49.235942"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 157ms (ActiveRecord: 2.5ms)


  
NameError (undefined local variable or method `serrialized_data' for #<MessagesController:0x00007fbef37e2958>
Did you mean?  serialized_data):
  
app/controllers/messages_controller.rb:24:in `create'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:21:02 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:21:03 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 15:21:03 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:21:03 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (26.3ms)
Completed 200 OK in 66ms (Views: 29.7ms | ActiveRecord: 8.1ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 15:21:04 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:21:04 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:21:04 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (4.32ms)
Completed 200 OK in 44ms (Views: 19.8ms | ActiveRecord: 13.8ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:21:08 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bro", "user_id"=>"2", "message"=>{"content"=>"bro", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (41.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bro"], ["chat_id", 1], ["created_at", "2019-07-11 19:21:08.430433"], ["updated_at", "2019-07-11 19:21:08.430433"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>23, :chat_id=>1, :content=>"bro", :created_at=>Thu, 11 Jul 2019 19:21:08 UTC +00:00}}
Completed 200 OK in 50ms (ActiveRecord: 42.4ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:21:10 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bro", "user_id"=>"2", "message"=>{"content"=>"bro", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bro"], ["chat_id", 1], ["created_at", "2019-07-11 19:21:10.988641"], ["updated_at", "2019-07-11 19:21:10.988641"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>24, :chat_id=>1, :content=>"bro", :created_at=>Thu, 11 Jul 2019 19:21:10 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.6ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:21:11 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bro", "user_id"=>"2", "message"=>{"content"=>"bro", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bro"], ["chat_id", 1], ["created_at", "2019-07-11 19:21:11.905126"], ["updated_at", "2019-07-11 19:21:11.905126"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>25, :chat_id=>1, :content=>"bro", :created_at=>Thu, 11 Jul 2019 19:21:11 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.5ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:21:12 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bro", "user_id"=>"2", "message"=>{"content"=>"bro", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bro"], ["chat_id", 1], ["created_at", "2019-07-11 19:21:12.488184"], ["updated_at", "2019-07-11 19:21:12.488184"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>26, :chat_id=>1, :content=>"bro", :created_at=>Thu, 11 Jul 2019 19:21:12 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.7ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:21:13 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bro", "user_id"=>"2", "message"=>{"content"=>"bro", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bro"], ["chat_id", 1], ["created_at", "2019-07-11 19:21:13.031336"], ["updated_at", "2019-07-11 19:21:13.031336"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>27, :chat_id=>1, :content=>"bro", :created_at=>Thu, 11 Jul 2019 19:21:13 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.6ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:22:32 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-11 15:22:33 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:22:33 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:22:33 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:22:33 -0400
  [1m[36mUser Load (132.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:22:33 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (2.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (3.72ms)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 2.6ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 15:22:34 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 15:22:34 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:22:34 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (15.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.81ms)
Completed 200 OK in 33ms (Views: 8.1ms | ActiveRecord: 19.9ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:22:36 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:22:36 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:22:36 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:22:36 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (3.43ms)
Completed 200 OK in 17ms (Views: 7.8ms | ActiveRecord: 3.1ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:24:08 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-11 15:24:09 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:24:09 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:24:09 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:24:09 -0400
  [1m[36mUser Load (170.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:24:09 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (4.02ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.7ms)


Started GET "/users/2/chats" for ::1 at 2019-07-11 15:24:10 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:24:10 -0400
  [1m[36mUser Load (23.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (14.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:24:10 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[active_model_serializers]   [1m[36mChat Load (5.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
  â†³ app/channels/application_cable/connection.rb:13
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (35.2ms)
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Completed 200 OK in 67ms (Views: 17.3ms | ActiveRecord: 45.1ms)


ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:24:11 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:24:11 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:24:11 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:24:11 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:54
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mMessage Load (1.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (5.78ms)
Completed 200 OK in 17ms (Views: 10.6ms | ActiveRecord: 3.9ms)


  [1m[36mChat Load (2.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:24:16 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-11 19:24:16.009934"], ["updated_at", "2019-07-11 19:24:16.009934"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>28, :chat_id=>1, :content=>"hey", :created_at=>Thu, 11 Jul 2019 19:24:16 UTC +00:00}}
Completed 200 OK in 48ms (ActiveRecord: 41.2ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:24:16 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-11 19:24:16.832723"], ["updated_at", "2019-07-11 19:24:16.832723"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>29, :chat_id=>1, :content=>"hey", :created_at=>Thu, 11 Jul 2019 19:24:16 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.7ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:27:34 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=undefined" for ::1 at 2019-07-11 15:27:37 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:27:37 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-11 15:27:37 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:27:37 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (3.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (5.91ms)
Completed 200 OK in 18ms (Views: 10.9ms | ActiveRecord: 4.8ms)


Started POST "/auth/login" for ::1 at 2019-07-11 15:27:56 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"rob", "password"=>"[FILTERED]", "authentication"=>{"username"=>"rob", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 200 OK in 293ms (Views: 0.9ms | ActiveRecord: 0.7ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 15:27:58 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 15:27:58 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:27:58 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (11.2ms)
Completed 200 OK in 24ms (Views: 10.5ms | ActiveRecord: 9.5ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:27:59 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:27:59 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:27:59 -0400
Processing by MessagesController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:27:59 -0400
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (6.04ms)
Completed 200 OK in 20ms (Views: 13.0ms | ActiveRecord: 3.5ms)


  [1m[36mChat Load (14.8ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:28:05 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"zz", "user_id"=>"2", "message"=>{"content"=>"zz", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (42.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "zz"], ["chat_id", 1], ["created_at", "2019-07-11 19:28:05.928167"], ["updated_at", "2019-07-11 19:28:05.928167"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>30, :chat_id=>1, :content=>"zz", :created_at=>Thu, 11 Jul 2019 19:28:05 UTC +00:00}}
Completed 200 OK in 51ms (ActiveRecord: 44.4ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:28:07 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"zz", "user_id"=>"2", "message"=>{"content"=>"zz", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "zz"], ["chat_id", 1], ["created_at", "2019-07-11 19:28:07.999425"], ["updated_at", "2019-07-11 19:28:07.999425"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>31, :chat_id=>1, :content=>"zz", :created_at=>Thu, 11 Jul 2019 19:28:07 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.7ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:29:43 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:29:43 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 15:29:43 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:29:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (6.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (17.53ms)
Completed 200 OK in 26ms (Views: 10.9ms | ActiveRecord: 10.6ms)


Started POST "/users/2/chats" for ::1 at 2019-07-11 15:29:47 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"2", "from_id"=>2}}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (3.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:29:47.995311"], ["updated_at", "2019-07-11 19:29:47.995311"], ["to_id", 2], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 62]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>62, :to_id=>2, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>62, :to_id=>2, :from_id=>2, :messages=>[]}}
Completed 200 OK in 35ms (ActiveRecord: 11.1ms)


ChatsChannel transmitting {"chat"=>{"id"=>62, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
ChatsChannel transmitting {"chat"=>{"id"=>62, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Started POST "/users/2/chats" for ::1 at 2019-07-11 15:29:58 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"2", "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:29:58.274224"], ["updated_at", "2019-07-11 19:29:58.274224"], ["to_id", 2], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 63]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>63, :to_id=>2, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>63, :to_id=>2, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>63, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 20ms (ActiveRecord: 10.4ms)


ChatsChannel transmitting {"chat"=>{"id"=>63, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Started POST "/users/2/chats" for ::1 at 2019-07-11 15:31:48 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (41.7ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:31:48.705451"], ["updated_at", "2019-07-11 19:31:48.705451"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (37.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 64]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>64, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>64, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 134ms (ActiveRecord: 83.4ms)


Started POST "/users/2/chats" for ::1 at 2019-07-11 15:31:49 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:31:49.812381"], ["updated_at", "2019-07-11 19:31:49.812381"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 65]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>65, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>65, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 9ms (ActiveRecord: 1.7ms)


Started POST "/users/2/chats" for ::1 at 2019-07-11 15:31:52 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:31:52.506304"], ["updated_at", "2019-07-11 19:31:52.506304"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 66]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>66, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>66, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 3.2ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 15:31:55 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:31:55 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started POST "/users/2/chats" for ::1 at 2019-07-11 15:32:13 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:32:13.781596"], ["updated_at", "2019-07-11 19:32:13.781596"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 67]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>67, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>67, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 13ms (ActiveRecord: 3.7ms)


ChatsChannel transmitting {"chat"=>{"id"=>67, "to_id"=>1, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Started POST "/users/2/chats" for ::1 at 2019-07-11 15:32:21 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:32:21.070139"], ["updated_at", "2019-07-11 19:32:21.070139"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (39.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 68]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>68, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>68, :to_id=>3, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>68, "to_id"=>3, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 50ms (ActiveRecord: 41.3ms)


Started POST "/users/2/chats" for ::1 at 2019-07-11 15:32:36 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:32:36.870130"], ["updated_at", "2019-07-11 19:32:36.870130"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 69]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>69, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>69, :to_id=>1, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>69, "to_id"=>1, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 13ms (ActiveRecord: 3.3ms)


Started POST "/users/2/chats" for ::1 at 2019-07-11 15:32:40 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"2", "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:32:40.933387"], ["updated_at", "2019-07-11 19:32:40.933387"], ["to_id", 2], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 70]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>70, :to_id=>2, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>70, :to_id=>2, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>70, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 14ms (ActiveRecord: 3.8ms)


ChatsChannel transmitting {"chat"=>{"id"=>70, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Started POST "/users/2/chats" for ::1 at 2019-07-11 15:32:43 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (8.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:32:43.483926"], ["updated_at", "2019-07-11 19:32:43.483926"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 71]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>71, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>71, :to_id=>3, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>71, "to_id"=>3, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 21ms (ActiveRecord: 10.9ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:32:54 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:32:54 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:32:54 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:32:54 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (3.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvNjk
  [1m[36mMessage Load (56.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (8.51ms)
Completed 200 OK in 86ms (Views: 18.8ms | ActiveRecord: 64.4ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:33:02 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"w", "user_id"=>"2", "message"=>{"content"=>"w", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "w"], ["chat_id", 69], ["created_at", "2019-07-11 19:33:02.178261"], ["updated_at", "2019-07-11 19:33:02.178261"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>32, :chat_id=>69, :content=>"w", :created_at=>Thu, 11 Jul 2019 19:33:02 UTC +00:00}}
Completed 200 OK in 48ms (ActiveRecord: 42.0ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:44:04 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvNjk
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:44:05 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (4.68ms)
Completed 200 OK in 29ms (Views: 11.7ms | ActiveRecord: 2.6ms)


Started GET "/users/2/chats" for ::1 at 2019-07-11 15:44:14 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:44:14 -0400
  [1m[36mUser Load (48.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (45.91ms)
Completed 200 OK in 129ms (Views: 61.8ms | ActiveRecord: 52.8ms)


Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:44:14 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:44:16 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:44:16 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:44:16 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:44:16 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (5.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:7
  â†³ app/channels/application_cable/connection.rb:13
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (8.5ms)
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Completed 200 OK in 29ms (Views: 17.2ms | ActiveRecord: 7.0ms)


  [1m[36mChat Load (6.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:44:22 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"say", "user_id"=>"2", "message"=>{"content"=>"say", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (45.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "say"], ["chat_id", 1], ["created_at", "2019-07-11 19:44:22.550993"], ["updated_at", "2019-07-11 19:44:22.550993"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>33, :chat_id=>1, :content=>"say", :created_at=>Thu, 11 Jul 2019 19:44:22 UTC +00:00}}
Completed 200 OK in 58ms (ActiveRecord: 48.3ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:49:09 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"say", "user_id"=>"2", "message"=>{"content"=>"say", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "say"], ["chat_id", 1], ["created_at", "2019-07-11 19:49:09.359338"], ["updated_at", "2019-07-11 19:49:09.359338"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>34, :chat_id=>1, :content=>"say", :created_at=>Thu, 11 Jul 2019 19:49:09 UTC +00:00}}
Completed 200 OK in 47ms (ActiveRecord: 41.0ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:49:27 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"say", "user_id"=>"2", "message"=>{"content"=>"say", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "say"], ["chat_id", 1], ["created_at", "2019-07-11 19:49:27.555319"], ["updated_at", "2019-07-11 19:49:27.555319"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>35, :chat_id=>1, :content=>"say", :created_at=>Thu, 11 Jul 2019 19:49:27 UTC +00:00}}
Completed 200 OK in 47ms (ActiveRecord: 41.7ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:49:51 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:49:51 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (5.56ms)
Completed 200 OK in 66ms (Views: 33.7ms | ActiveRecord: 15.2ms)


Started GET "/users/2/chats" for ::1 at 2019-07-11 15:49:52 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:49:52 -0400
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (15.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (20.76ms)
Completed 200 OK in 119ms (Views: 28.3ms | ActiveRecord: 34.3ms)


Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:49:52 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:49:54 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:49:54 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:49:54 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:49:54 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (25.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\",\"chat\":1}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
  [1m[35m (53.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (9.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (4.86ms)
Completed 200 OK in 88ms (Views: 16.2ms | ActiveRecord: 62.3ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:49:58 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"please", "user_id"=>"2", "message"=>{"content"=>"please", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "please"], ["chat_id", 1], ["created_at", "2019-07-11 19:49:58.812290"], ["updated_at", "2019-07-11 19:49:58.812290"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>36, :chat_id=>1, :content=>"please", :created_at=>Thu, 11 Jul 2019 19:49:58 UTC +00:00}}
Completed 200 OK in 49ms (ActiveRecord: 42.3ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:53:40 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:53:40 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 15:53:40 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:53:40 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (2.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (25.16ms)
Completed 200 OK in 84ms (Views: 24.4ms | ActiveRecord: 20.4ms)


Started POST "/users/2/chats" for ::1 at 2019-07-11 15:53:43 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"2", "from_id"=>2}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:53:43.755781"], ["updated_at", "2019-07-11 19:53:43.755781"], ["to_id", 2], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 72]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>72, :to_id=>2, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>72, :to_id=>2, :from_id=>2, :messages=>[]}}
Completed 200 OK in 29ms (ActiveRecord: 12.0ms)


Started POST "/users/2/chats" for ::1 at 2019-07-11 15:53:45 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"2", "from_id"=>2}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:53:45.027469"], ["updated_at", "2019-07-11 19:53:45.027469"], ["to_id", 2], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 73]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>73, :to_id=>2, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>73, :to_id=>2, :from_id=>2, :messages=>[]}}
Completed 200 OK in 10ms (ActiveRecord: 2.0ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 15:53:46 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:53:46 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started POST "/users/2/chats" for ::1 at 2019-07-11 15:53:49 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:53:49.321634"], ["updated_at", "2019-07-11 19:53:49.321634"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 74]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>74, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>74, :to_id=>1, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>74, "to_id"=>1, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 22ms (ActiveRecord: 1.9ms)


Started POST "/users/2/chats" for ::1 at 2019-07-11 15:53:53 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"2", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:53:53.748116"], ["updated_at", "2019-07-11 19:53:53.748116"], ["to_id", 2], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 75]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>75, :to_id=>2, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>75, :to_id=>2, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>75, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 12ms (ActiveRecord: 3.3ms)


ChatsChannel transmitting {"chat"=>{"id"=>75, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Started POST "/users/2/chats" for ::1 at 2019-07-11 15:53:56 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-11 19:53:56.625329"], ["updated_at", "2019-07-11 19:53:56.625329"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 76]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>76, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>76, :to_id=>3, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>76, "to_id"=>3, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 13ms (ActiveRecord: 3.5ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:57:54 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:57:54 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 15:57:54 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.55ms)
Completed 200 OK in 55ms (Views: 24.8ms | ActiveRecord: 12.7ms)


Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 15:57:54 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chat_1
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:57:57 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"2", "user_id"=>"2", "message"=>{"content"=>"2", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (2.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "2"], ["chat_id", 1], ["created_at", "2019-07-11 19:57:57.422257"], ["updated_at", "2019-07-11 19:57:57.422257"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>37, :chat_id=>1, :content=>"2", :created_at=>Thu, 11 Jul 2019 19:57:57 UTC +00:00}}
Completed 200 OK in 18ms (ActiveRecord: 6.1ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 15:57:58 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"2", "user_id"=>"2", "message"=>{"content"=>"2", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "2"], ["chat_id", 1], ["created_at", "2019-07-11 19:57:58.573129"], ["updated_at", "2019-07-11 19:57:58.573129"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>38, :chat_id=>1, :content=>"2", :created_at=>Thu, 11 Jul 2019 19:57:58 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.6ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:00:11 -0400
MessagesChannel stopped streaming from chat_1
Started GET "/users/2/chats" for ::1 at 2019-07-11 16:00:11 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:00:11 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (16.86ms)
Completed 200 OK in 59ms (Views: 17.8ms | ActiveRecord: 12.5ms)


Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:00:11 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:00:12 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:00:12 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:00:12 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:00:12 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:24: syntax error, unexpected tIDENTIFIER, expecting keyword_end
...oadcast_to " stream_from "chat_#{@chat.id}", serialized_data
...                               ^):
  
app/controllers/messages_controller.rb:24: syntax error, unexpected tIDENTIFIER, expecting keyword_end
  [1m[36mUser Load (73.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chat_1
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:00:18 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:24: syntax error, unexpected tIDENTIFIER, expecting keyword_end
...oadcast_to " stream_from "chat_#{@chat.id}", serialized_data
...                               ^):
  
app/controllers/messages_controller.rb:24: syntax error, unexpected tIDENTIFIER, expecting keyword_end
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:00:19 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:24: syntax error, unexpected tIDENTIFIER, expecting keyword_end
...oadcast_to " stream_from "chat_#{@chat.id}", serialized_data
...                               ^):
  
app/controllers/messages_controller.rb:24: syntax error, unexpected tIDENTIFIER, expecting keyword_end
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:01:03 -0400
MessagesChannel stopped streaming from chat_1
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:01:03 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 16:01:03 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:01:03 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (17.39ms)
Completed 200 OK in 53ms (Views: 18.3ms | ActiveRecord: 7.5ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:01:04 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:01:04 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:01:04 -0400
  [1m[35m (39.0ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mMessage Load (14.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:7
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chat_1
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (4.43ms)
Completed 200 OK in 101ms (Views: 16.4ms | ActiveRecord: 71.5ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:01:07 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"yo", "user_id"=>"2", "message"=>{"content"=>"yo", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (8.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yo"], ["chat_id", 1], ["created_at", "2019-07-11 20:01:07.609101"], ["updated_at", "2019-07-11 20:01:07.609101"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (41.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 60ms (ActiveRecord: 50.2ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:24:in `create'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:01:08 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"yo", "user_id"=>"2", "message"=>{"content"=>"yo", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yo"], ["chat_id", 1], ["created_at", "2019-07-11 20:01:08.356726"], ["updated_at", "2019-07-11 20:01:08.356726"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (44.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 51ms (ActiveRecord: 45.2ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:24:in `create'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:01:08 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"yo", "user_id"=>"2", "message"=>{"content"=>"yo", "chat_id"=>"1"}}
  [1m[35m (12.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yo"], ["chat_id", 1], ["created_at", "2019-07-11 20:01:08.954358"], ["updated_at", "2019-07-11 20:01:08.954358"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 22ms (ActiveRecord: 15.7ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:24:in `create'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:02:11 -0400
MessagesChannel stopped streaming from chat_1
Started GET "/users/2/chats" for ::1 at 2019-07-11 16:02:11 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:02:11 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (7.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (26.33ms)
Completed 200 OK in 69ms (Views: 21.8ms | ActiveRecord: 14.3ms)


Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:02:11 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:02:12 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:02:12 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:02:12 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:02:12 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (2.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chat_1
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (8.54ms)
Completed 200 OK in 80ms (Views: 21.8ms | ActiveRecord: 42.3ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:02:17 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"mem", "user_id"=>"2", "message"=>{"content"=>"mem", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "mem"], ["chat_id", 1], ["created_at", "2019-07-11 20:02:17.425027"], ["updated_at", "2019-07-11 20:02:17.425027"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_from chat_: {:message=>{:id=>42, :chat_id=>1, :content=>"mem", :created_at=>Thu, 11 Jul 2019 20:02:17 UTC +00:00}}
Completed 200 OK in 48ms (ActiveRecord: 42.1ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:05:10 -0400
MessagesChannel stopped streaming from chat_1
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:05:10 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 16:05:11 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:05:11 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (18.8ms)
Completed 200 OK in 55ms (Views: 20.3ms | ActiveRecord: 10.6ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:05:12 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:05:12 -0400
Processing by MessagesController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:05:12 -0400
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  â†³ app/controllers/messages_controller.rb:7
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chat_1
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (6.62ms)
Completed 200 OK in 52ms (Views: 22.5ms | ActiveRecord: 19.5ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:05:16 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bros", "user_id"=>"2", "message"=>{"content"=>"bros", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bros"], ["chat_id", 1], ["created_at", "2019-07-11 20:05:16.610315"], ["updated_at", "2019-07-11 20:05:16.610315"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_from chat_1: {:message=>{:id=>43, :chat_id=>1, :content=>"bros", :created_at=>Thu, 11 Jul 2019 20:05:16 UTC +00:00}}
Completed 200 OK in 47ms (ActiveRecord: 40.8ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:05:55 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bros", "user_id"=>"2", "message"=>{"content"=>"bros", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (42.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bros"], ["chat_id", 1], ["created_at", "2019-07-11 20:05:55.475495"], ["updated_at", "2019-07-11 20:05:55.475495"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_from chat_1: {:message=>{:id=>44, :chat_id=>1, :content=>"bros", :created_at=>Thu, 11 Jul 2019 20:05:55 UTC +00:00}}
Completed 200 OK in 78ms (ActiveRecord: 50.5ms)


Started GET "/users/2/chats" for ::1 at 2019-07-11 16:06:03 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:06:03 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:06:03 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (24.94ms)
Completed 200 OK in 107ms (Views: 29.7ms | ActiveRecord: 41.9ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:06:07 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:06:07 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:06:07 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:06:07 -0400
Processing by MessagesController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (9.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mMessage Load (2.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.5ms)
  [1m[36mChat Load (4.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 71ms (Views: 55.4ms | ActiveRecord: 11.9ms)


  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:06:10 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"b", "user_id"=>"2", "message"=>{"content"=>"b", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (7.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "b"], ["chat_id", 1], ["created_at", "2019-07-11 20:06:10.298558"], ["updated_at", "2019-07-11 20:06:10.298558"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_from chat_1: {:message=>{:id=>45, :chat_id=>1, :content=>"b", :created_at=>Thu, 11 Jul 2019 20:06:10 UTC +00:00}}
Completed 200 OK in 55ms (ActiveRecord: 49.1ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:08:25 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"j", "user_id"=>"2", "message"=>{"content"=>"j", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "j"], ["chat_id", 1], ["created_at", "2019-07-11 20:08:25.166773"], ["updated_at", "2019-07-11 20:08:25.166773"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_for chat_1: {:message=>{:id=>46, :chat_id=>1, :content=>"j", :created_at=>Thu, 11 Jul 2019 20:08:25 UTC +00:00}}
Completed 200 OK in 70ms (ActiveRecord: 40.7ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 16:08:31 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:08:31 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:08:51 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"n", "user_id"=>"2", "message"=>{"content"=>"n", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "n"], ["chat_id", 1], ["created_at", "2019-07-11 20:08:51.935954"], ["updated_at", "2019-07-11 20:08:51.935954"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_for chat_1: {:message=>{:id=>47, :chat_id=>1, :content=>"n", :created_at=>Thu, 11 Jul 2019 20:08:51 UTC +00:00}}
Completed 200 OK in 78ms (ActiveRecord: 53.1ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:08:52 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"n", "user_id"=>"2", "message"=>{"content"=>"n", "chat_id"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "n"], ["chat_id", 1], ["created_at", "2019-07-11 20:08:52.915559"], ["updated_at", "2019-07-11 20:08:52.915559"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_for chat_1: {:message=>{:id=>48, :chat_id=>1, :content=>"n", :created_at=>Thu, 11 Jul 2019 20:08:52 UTC +00:00}}
Completed 200 OK in 6ms (ActiveRecord: 2.4ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:08:53 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"n", "user_id"=>"2", "message"=>{"content"=>"n", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "n"], ["chat_id", 1], ["created_at", "2019-07-11 20:08:53.665677"], ["updated_at", "2019-07-11 20:08:53.665677"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_for chat_1: {:message=>{:id=>49, :chat_id=>1, :content=>"n", :created_at=>Thu, 11 Jul 2019 20:08:53 UTC +00:00}}
Completed 200 OK in 6ms (ActiveRecord: 1.6ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 16:08:58 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:08:58 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:chat_1
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:09:09 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"n", "user_id"=>"2", "message"=>{"content"=>"n", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "n"], ["chat_id", 1], ["created_at", "2019-07-11 20:09:09.756870"], ["updated_at", "2019-07-11 20:09:09.756870"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_for chat_1: {:message=>{:id=>50, :chat_id=>1, :content=>"n", :created_at=>Thu, 11 Jul 2019 20:09:09 UTC +00:00}}
Completed 200 OK in 9ms (ActiveRecord: 3.2ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:09:34 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"pkle", "user_id"=>"2", "message"=>{"content"=>"pkle", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (1.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "pkle"], ["chat_id", 1], ["created_at", "2019-07-11 20:09:34.367796"], ["updated_at", "2019-07-11 20:09:34.367796"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_for chat_1: {:message=>{:id=>51, :chat_id=>1, :content=>"pkle", :created_at=>Thu, 11 Jul 2019 20:09:34 UTC +00:00}}
Completed 200 OK in 48ms (ActiveRecord: 42.9ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:10:50 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"pkle", "user_id"=>"2", "message"=>{"content"=>"pkle", "chat_id"=>"1"}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (34.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "pkle"], ["chat_id", 1], ["created_at", "2019-07-11 20:10:50.307624"], ["updated_at", "2019-07-11 20:10:50.307624"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:stream_for chat_1: {:message=>{:id=>52, :chat_id=>1, :content=>"pkle", :created_at=>Thu, 11 Jul 2019 20:10:50 UTC +00:00}}
Completed 200 OK in 41ms (ActiveRecord: 35.2ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:10:53 -0400
MessagesChannel stopped streaming from messages:chat_1
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:10:53 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (2.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.47ms)
Completed 200 OK in 29ms (Views: 22.4ms | ActiveRecord: 4.0ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 16:10:54 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 16:10:54 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:10:54 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (5.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (22.13ms)
Completed 200 OK in 61ms (Views: 38.8ms | ActiveRecord: 11.5ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:10:55 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:10:55 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:10:55 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:10:55 -0400
Processing by MessagesController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mMessage Load (5.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (5.7ms)
Completed 200 OK in 20ms (Views: 11.9ms | ActiveRecord: 5.8ms)


  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:chat_1
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:12:14 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"qw", "user_id"=>"2", "message"=>{"content"=>"qw", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "qw"], ["chat_id", 1], ["created_at", "2019-07-11 20:12:14.761938"], ["updated_at", "2019-07-11 20:12:14.761938"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (47.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>53, :chat_id=>1, :content=>"qw", :created_at=>Thu, 11 Jul 2019 20:12:14 UTC +00:00}}
Completed 200 OK in 81ms (ActiveRecord: 48.8ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 16:12:23 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:12:23 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:18:21 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:18:21 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (2.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.94ms)
Completed 200 OK in 97ms (Views: 42.5ms | ActiveRecord: 31.1ms)


Started GET "/cable?user=2" for ::1 at 2019-07-11 16:18:28 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-11 16:18:28 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:18:28 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mUser Load (9.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (17.94ms)
Completed 200 OK in 40ms (Views: 20.7ms | ActiveRecord: 14.4ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:18:28 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:18:28 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:18:29 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:18:29 -0400
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Processing by MessagesController#index as HTML
  â†³ app/channels/application_cable/connection.rb:13
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (18.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (12.22ms)
Completed 200 OK in 45ms (Views: 23.0ms | ActiveRecord: 18.8ms)


  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-11 16:18:31 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"w", "user_id"=>"2", "message"=>{"content"=>"w", "chat_id"=>"1"}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (9.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "w"], ["chat_id", 1], ["created_at", "2019-07-11 20:18:31.489477"], ["updated_at", "2019-07-11 20:18:31.489477"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>54, :chat_id=>1, :content=>"w", :created_at=>Thu, 11 Jul 2019 20:18:31 UTC +00:00}}
Completed 200 OK in 58ms (ActiveRecord: 50.3ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:46:53 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-11 16:46:54 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 16:46:57 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 18:01:25 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-11 18:01:28 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-11 18:01:28 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (9.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:07:30 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 08:07:31 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:07:34 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (65.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (105.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:09:45 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:10:35 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:35 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:35 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:35 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:10:35 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (3.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (48.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (34.91ms)
Completed 200 OK in 189ms (Views: 46.0ms | ActiveRecord: 52.0ms)


Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:10:38 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:10:38 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:38 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:38 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:38 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (12.83ms)
Completed 200 OK in 19ms (Views: 12.2ms | ActiveRecord: 2.3ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:10:40 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:10:40 -0400
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:40 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  [1m[36mMessage Load (30.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74]]
  â†³ app/controllers/messages_controller.rb:7
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (15.42ms)
Completed 200 OK in 68ms (Views: 29.3ms | ActiveRecord: 31.5ms)


Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:41 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:41 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:10:42 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:10:42 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:42 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
  â†³ app/controllers/application_controller.rb:8
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:42 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:42 -0400
[active_model_serializers]   [1m[36mChat Load (19.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (36.7ms)
Completed 200 OK in 55ms (Views: 17.7ms | ActiveRecord: 30.1ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:10:46 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (18.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (35.0ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:10:46.361810"], ["updated_at", "2019-07-12 12:10:46.361810"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 77]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>77, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>77, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 104ms (ActiveRecord: 56.3ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:10:49 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:10:49.559134"], ["updated_at", "2019-07-12 12:10:49.559134"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 78]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>78, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>78, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 12ms (ActiveRecord: 3.3ms)


Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:10:50 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:50 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:50 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:50 -0400
Started POST "/users/2/chats" for ::1 at 2019-07-12 08:10:50 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:10:50.858794"], ["updated_at", "2019-07-12 12:10:50.858794"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 79]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>79, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>79, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 54ms (ActiveRecord: 42.2ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:10:51 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:10:51.938058"], ["updated_at", "2019-07-12 12:10:51.938058"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 80]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>80, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>80, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 1.9ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:10:53 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:10:53.915232"], ["updated_at", "2019-07-12 12:10:53.915232"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (5.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 81]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>81, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>81, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 61ms (ActiveRecord: 47.9ms)


Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:10:55 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-12 08:10:55 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:55 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (14.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Completed 404 Not Found in 16ms (ActiveRecord: 14.4ms)


  
  [1m[36mUser Load (14.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  â†³ app/channels/application_cable/connection.rb:13
  
An unauthorized connection attempt was rejected
app/controllers/chats_controller.rb:62:in `set_user'
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:55 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:55 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:10:56 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:10:56 -0400
  [1m[36mUser Load (19.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:56 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (16.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
  â†³ app/channels/application_cable/connection.rb:13
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:56 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:10:56 -0400
[active_model_serializers]   [1m[36mChat Load (1.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (25.76ms)
Completed 200 OK in 69ms (Views: 24.0ms | ActiveRecord: 38.2ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:11:01 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.9ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:11:01.085122"], ["updated_at", "2019-07-12 12:11:01.085122"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 82]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>82, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>82, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 52ms (ActiveRecord: 42.6ms)


Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:11:04 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:04 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:04 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:04 -0400
Started POST "/users/2/chats" for ::1 at 2019-07-12 08:11:05 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:11:05.588193"], ["updated_at", "2019-07-12 12:11:05.588193"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (39.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 83]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>83, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>83, :to_id=>3, :from_id=>2, :messages=>[]}}
Completed 200 OK in 53ms (ActiveRecord: 41.4ms)


Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:11:17 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:17 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:17 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:17 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:11:20 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:20 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:20 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:20 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:11:21 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:21 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:21 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:21 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:11:27 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:27 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:27 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:27 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:11:36 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:36 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:36 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:36 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:11:41 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-12 08:11:41 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:41 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Completed 404 Not Found in 3ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:62:in `set_user'
  [1m[36mUser Load (245.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:42 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:11:42 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:12:20 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:12:20 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:20 -0400
  Parameters: {"user_id"=>"2"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:20 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:20 -0400
[active_model_serializers]   [1m[36mChat Load (3.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (20.9ms)
Completed 200 OK in 31ms (Views: 17.9ms | ActiveRecord: 9.7ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:12:23 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"2", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:12:23.513204"], ["updated_at", "2019-07-12 12:12:23.513204"], ["to_id", 2], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 84]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>84, :to_id=>2, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>84, :to_id=>2, :from_id=>2, :messages=>[]}}
Completed 200 OK in 57ms (ActiveRecord: 41.4ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:12:26 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:12:26.817738"], ["updated_at", "2019-07-12 12:12:26.817738"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 85]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>85, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>85, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 14ms (ActiveRecord: 3.8ms)


Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:12:30 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:30 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:30 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:30 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:12:43 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:43 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:43 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:12:52 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:52 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:52 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:12:52 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:13:02 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:02 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:02 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:02 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:13:05 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:05 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:05 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:05 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:13:11 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:11 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:12 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:12 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:13:16 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:16 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:16 -0400
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:16 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-12 08:13:16 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:62:in `set_user'
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:13:17 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:13:17 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:17 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:17 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:17 -0400
  [1m[36mUser Load (30.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (24.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (52.93ms)
Completed 200 OK in 89ms (Views: 28.9ms | ActiveRecord: 55.6ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:13:20 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:13:20.846753"], ["updated_at", "2019-07-12 12:13:20.846753"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (31.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 86]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>86, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>86, :to_id=>3, :from_id=>2, :messages=>[]}}
Completed 200 OK in 44ms (ActiveRecord: 32.8ms)


Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:13:27 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:27 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:27 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:27 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:13:39 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:39 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:39 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:39 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:13:47 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:47 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:47 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:47 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:13:56 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:56 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:56 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:13:56 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:14:06 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:06 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:06 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:06 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:14:16 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:16 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:16 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:16 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:14:27 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:27 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:27 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:27 -0400
Started POST "/users/2/chats" for ::1 at 2019-07-12 08:14:30 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:14:30.528850"], ["updated_at", "2019-07-12 12:14:30.528850"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 87]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>87, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>87, :to_id=>3, :from_id=>2, :messages=>[]}}
Completed 200 OK in 14ms (ActiveRecord: 2.0ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:14:33 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:14:33.678843"], ["updated_at", "2019-07-12 12:14:33.678843"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 88]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>88, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>88, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 3.0ms)


Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:14:39 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:39 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:39 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:39 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:14:51 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:51 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:51 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:14:51 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:15:03 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:03 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:03 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:03 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:15:16 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:16 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:16 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:16 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:15:29 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:29 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:29 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:29 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:15:43 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:43 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:43 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:15:56 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:56 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:56 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:15:56 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:16:11 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:16:11 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:16:11 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:16:11 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:16:25 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:16:25 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:16:25 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:16:25 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:18:21 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-12 08:18:21 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:21 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:21 -0400
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:21 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Completed 404 Not Found in 2ms (ActiveRecord: 0.5ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:62:in `set_user'
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:18:23 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:18:23 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (10.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:23 -0400
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (6.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (26.68ms)
  [1m[36mUser Load (11.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
Completed 200 OK in 46ms (Views: 20.7ms | ActiveRecord: 18.3ms)


  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:23 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:23 -0400
Started POST "/users/2/chats" for ::1 at 2019-07-12 08:18:27 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (3.6ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:18:27.257122"], ["updated_at", "2019-07-12 12:18:27.257122"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 89]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>89, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>89, :to_id=>3, :from_id=>2, :messages=>[]}}
Completed 200 OK in 20ms (ActiveRecord: 9.4ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:18:31 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (6.6ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:18:31.026943"], ["updated_at", "2019-07-12 12:18:31.026943"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (41.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 90]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>90, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>90, :to_id=>3, :from_id=>2, :messages=>[]}}
Completed 200 OK in 108ms (ActiveRecord: 49.1ms)


Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:18:32 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:32 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:32 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:32 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:18:35 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:35 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:35 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:35 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:18:36 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:36 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:36 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:36 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:18:36 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:36 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:36 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:36 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:18:40 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:40 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:40 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:40 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:18:53 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:53 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:53 -0400
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:53 -0400
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:18:53 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-12 08:18:53 -0400
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:53 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:53 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:18:53 -0400
  [1m[36mUser Load (11.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Completed 404 Not Found in 13ms (ActiveRecord: 11.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:62:in `set_user'
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:18:54 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (7.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
Started GET "/cable?user=2" for ::1 at 2019-07-12 08:18:54 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:18:54 -0400
[active_model_serializers]   [1m[36mChat Load (6.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (45.88ms)
Completed 200 OK in 52ms (Views: 32.7ms | ActiveRecord: 15.6ms)


  [1m[36mUser Load (11.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started POST "/users/2/chats" for ::1 at 2019-07-12 08:18:59 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:18:59.416503"], ["updated_at", "2019-07-12 12:18:59.416503"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (4.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 91]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>91, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>91, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 55ms (ActiveRecord: 45.4ms)


ChatsChannel transmitting {"chat"=>{"id"=>91, "to_id"=>1, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Started POST "/users/2/chats" for ::1 at 2019-07-12 08:19:02 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:19:02.655986"], ["updated_at", "2019-07-12 12:19:02.655986"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 92]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>92, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>92, :to_id=>3, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>92, "to_id"=>3, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 13ms (ActiveRecord: 3.0ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:19:35 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/undefined/chats" for ::1 at 2019-07-12 08:19:36 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"undefined"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
  
app/controllers/chats_controller.rb:62:in `set_user'
Started GET "/cable?user=2" for ::1 at 2019-07-12 08:22:57 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:22:57 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:22:57 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (5.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (23.32ms)
Completed 200 OK in 32ms (Views: 18.3ms | ActiveRecord: 6.8ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:23:00 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"2", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:23:00.525450"], ["updated_at", "2019-07-12 12:23:00.525450"], ["to_id", 2], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 93]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>93, :to_id=>2, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>93, :to_id=>2, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>93, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 15ms (ActiveRecord: 3.1ms)


ChatsChannel transmitting {"chat"=>{"id"=>93, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:31:34 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=undefined" for ::1 at 2019-07-12 08:31:34 -0400
Started GET "/users/undefined/chats" for ::1 at 2019-07-12 08:31:34 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:31:35 -0400
  Parameters: {"user_id"=>"undefined"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:31:35 -0400
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Completed 404 Not Found in 6ms (ActiveRecord: 2.6ms)


  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  
  â†³ app/channels/application_cable/connection.rb:13
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=undefined):
An unauthorized connection attempt was rejected
  
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
app/controllers/chats_controller.rb:62:in `set_user'
Finished "/cable/?user=undefined" [WebSocket] for ::1 at 2019-07-12 08:31:35 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-12 08:31:53 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:31:53 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:31:53 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (23.3ms)
Completed 200 OK in 36ms (Views: 22.9ms | ActiveRecord: 6.5ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:31:57 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.7ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:31:57.832035"], ["updated_at", "2019-07-12 12:31:57.832035"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (41.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 94]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>94, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>94, :to_id=>3, :from_id=>2, :messages=>[]}}
Completed 200 OK in 57ms (ActiveRecord: 44.6ms)


ChatsChannel transmitting {"chat"=>{"id"=>94, "to_id"=>3, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Started POST "/users/2/chats" for ::1 at 2019-07-12 08:32:03 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"2", "from_id"=>2}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:32:03.505390"], ["updated_at", "2019-07-12 12:32:03.505390"], ["to_id", 2], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (10.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 95]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>95, :to_id=>2, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>95, :to_id=>2, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>95, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 21ms (ActiveRecord: 11.6ms)


ChatsChannel transmitting {"chat"=>{"id"=>95, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:32:12 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 08:32:12 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:32:12 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:32:12 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
MessagesChannel is transmitting the subscription confirmation
  â†³ app/controllers/messages_controller.rb:54
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
  [1m[36mMessage Load (1.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.94ms)
Completed 200 OK in 24ms (Views: 14.5ms | ActiveRecord: 3.3ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:32:18 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"b", "user_id"=>"2", "message"=>{"content"=>"b", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (52.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "b"], ["chat_id", 1], ["created_at", "2019-07-12 12:32:18.499902"], ["updated_at", "2019-07-12 12:32:18.499902"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>55, :chat_id=>1, :content=>"b", :created_at=>Fri, 12 Jul 2019 12:32:18 UTC +00:00}}
Completed 200 OK in 59ms (ActiveRecord: 53.2ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:34:50 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 08:34:50 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:34:50 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:34:50 -0400
  Parameters: {"user_id"=>"2"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (2.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (37.92ms)
Completed 200 OK in 47ms (Views: 36.3ms | ActiveRecord: 4.9ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:35:02 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 08:35:02 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:35:02 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:35:02 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (3.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (5.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mMessage Load (3.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.01ms)
Completed 200 OK in 34ms (Views: 24.3ms | ActiveRecord: 7.0ms)


  [1m[36mChat Load (4.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvNzg
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:39:13 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvNzg
Started GET "/cable?user=2" for ::1 at 2019-07-12 08:41:34 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:41:34 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:41:34 -0400
  Parameters: {"user_id"=>"2"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (17.89ms)
Completed 200 OK in 35ms (Views: 17.4ms | ActiveRecord: 7.3ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 08:41:38 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.7ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:41:38.312656"], ["updated_at", "2019-07-12 12:41:38.312656"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 96]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>96, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>96, :to_id=>1, :from_id=>2, :messages=>[]}}
Completed 200 OK in 37ms (ActiveRecord: 5.0ms)


ChatsChannel transmitting {"chat"=>{"id"=>96, "to_id"=>1, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Started POST "/users/2/chats" for ::1 at 2019-07-12 08:41:44 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"2", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"2", "from_id"=>2}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 12:41:44.534576"], ["updated_at", "2019-07-12 12:41:44.534576"], ["to_id", 2], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 97]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>97, :to_id=>2, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>97, :to_id=>2, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>97, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 12ms (ActiveRecord: 3.3ms)


ChatsChannel transmitting {"chat"=>{"id"=>97, "to_id"=>2, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:42:16 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (2.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.9ms)
  [1m[36mChat Load (23.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
Completed 200 OK in 37ms (Views: 27.2ms | ActiveRecord: 3.1ms)


MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:42:22 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"ge==hey", "user_id"=>"2", "message"=>{"content"=>"ge==hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "ge==hey"], ["chat_id", 1], ["created_at", "2019-07-12 12:42:22.465477"], ["updated_at", "2019-07-12 12:42:22.465477"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>56, :chat_id=>1, :content=>"ge==hey", :created_at=>Fri, 12 Jul 2019 12:42:22 UTC +00:00}}
Completed 200 OK in 47ms (ActiveRecord: 41.7ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:42:25 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-12 12:42:25.437665"], ["updated_at", "2019-07-12 12:42:25.437665"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>57, :chat_id=>1, :content=>"hey", :created_at=>Fri, 12 Jul 2019 12:42:25 UTC +00:00}}
Completed 200 OK in 5ms (ActiveRecord: 1.2ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:43:55 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 08:44:57 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:44:57 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 08:44:57 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mUser Load (12.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (3.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (40.17ms)
Completed 200 OK in 58ms (Views: 36.4ms | ActiveRecord: 17.3ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:46:25 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[36mChat Load (9.1ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
  [1m[35m (4.0ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.8ms)
Completed 200 OK in 27ms (Views: 18.9ms | ActiveRecord: 4.9ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:46:30 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"whta", "user_id"=>"2", "message"=>{"content"=>"whta", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "whta"], ["chat_id", 1], ["created_at", "2019-07-12 12:46:30.746331"], ["updated_at", "2019-07-12 12:46:30.746331"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>58, :chat_id=>1, :content=>"whta", :created_at=>Fri, 12 Jul 2019 12:46:30 UTC +00:00}}
Completed 200 OK in 46ms (ActiveRecord: 41.1ms)


Unsubscribing from channel: {"channel":"MessagesChannel","chat":1}
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 08:55:57 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (19.41ms)
Completed 200 OK in 24ms (Views: 18.9ms | ActiveRecord: 2.1ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 08:56:15 -0400
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.0ms)
Completed 200 OK in 29ms (Views: 25.2ms | ActiveRecord: 2.0ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:00:39 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 09:01:56 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 09:01:56 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:01:56 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (35.09ms)
Completed 200 OK in 142ms (Views: 62.5ms | ActiveRecord: 50.2ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:01:58 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.2ms)
Completed 200 OK in 42ms (Views: 33.1ms | ActiveRecord: 4.2ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 09:02:02 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:02:02 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:02:03 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"sa", "user_id"=>"2", "message"=>{"content"=>"sa", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "sa"], ["chat_id", 1], ["created_at", "2019-07-12 13:02:03.600264"], ["updated_at", "2019-07-12 13:02:03.600264"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (41.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>59, :chat_id=>1, :content=>"sa", :created_at=>Fri, 12 Jul 2019 13:02:03 UTC +00:00}}
Completed 200 OK in 50ms (ActiveRecord: 42.9ms)


Unsubscribing from channel: {"channel":"MessagesChannel","chat":1}
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/users/2/chats" for ::1 at 2019-07-12 09:05:21 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (27.34ms)
Completed 200 OK in 39ms (Views: 26.0ms | ActiveRecord: 4.6ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:15:34 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 09:15:35 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:15:35 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
  [1m[36mChat Load (1.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvNg
Started GET "/users/2/chats/3/messages" for ::1 at 2019-07-12 09:18:25 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"3"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 3]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["chat_id", 6], ["chat_id", 68], ["chat_id", 71], ["chat_id", 76], ["chat_id", 83], ["chat_id", 86], ["chat_id", 87], ["chat_id", 89], ["chat_id", 90], ["chat_id", 92], ["chat_id", 94]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.2ms)
Completed 200 OK in 34ms (Views: 2.6ms | ActiveRecord: 11.6ms)


Started POST "/users/2/chats/3/messages" for ::1 at 2019-07-12 09:18:28 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"3", "content"=>"q", "user_id"=>"2", "message"=>{"content"=>"q", "chat_id"=>"3"}}
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "q"], ["chat_id", 6], ["created_at", "2019-07-12 13:18:28.452167"], ["updated_at", "2019-07-12 13:18:28.452167"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>60, :chat_id=>6, :content=>"q", :created_at=>Fri, 12 Jul 2019 13:18:28 UTC +00:00}}
Completed 200 OK in 44ms (ActiveRecord: 6.4ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 09:18:33 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:18:33 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\",\"chat\":6}"}) [NoMethodError - undefined method `data' for #<Chat:0x00007fbef1c6c1d8>]: /Library/Ruby/Gems/2.3.0/gems/activemodel-5.2.3/lib/active_model/attribute_methods.rb:430:in `method_missing' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:5:in `subscribed' | /Library/Ruby/Gems/2.3.0/gems/actioncable-5.2.3/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/execution_wrapper.rb:83:in `wrap'
Started POST "/users/2/chats/3/messages" for ::1 at 2019-07-12 09:19:51 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"3", "content"=>"q", "user_id"=>"2", "message"=>{"content"=>"q", "chat_id"=>"3"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "q"], ["chat_id", 6], ["created_at", "2019-07-12 13:19:51.471108"], ["updated_at", "2019-07-12 13:19:51.471108"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (42.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>61, :chat_id=>6, :content=>"q", :created_at=>Fri, 12 Jul 2019 13:19:51 UTC +00:00}}
Completed 200 OK in 79ms (ActiveRecord: 50.7ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 09:20:00 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:20:00 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvNg
Unsubscribing from channel: {"channel":"MessagesChannel","chat":6}
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvNg
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 09:23:48 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (25.7ms)
Completed 200 OK in 67ms (Views: 27.7ms | ActiveRecord: 8.9ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 09:23:49 -0400
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:23:49 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:23:49 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:chat_1
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (8.91ms)
Completed 200 OK in 37ms (Views: 21.4ms | ActiveRecord: 9.7ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:23:53 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bro", "user_id"=>"2", "message"=>{"content"=>"bro", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bro"], ["chat_id", 1], ["created_at", "2019-07-12 13:23:53.247281"], ["updated_at", "2019-07-12 13:23:53.247281"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>62, :chat_id=>1, :content=>"bro", :created_at=>Fri, 12 Jul 2019 13:23:53 UTC +00:00}}
Completed 200 OK in 49ms (ActiveRecord: 42.4ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:23:53 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bro", "user_id"=>"2", "message"=>{"content"=>"bro", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bro"], ["chat_id", 1], ["created_at", "2019-07-12 13:23:53.576277"], ["updated_at", "2019-07-12 13:23:53.576277"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>63, :chat_id=>1, :content=>"bro", :created_at=>Fri, 12 Jul 2019 13:23:53 UTC +00:00}}
Completed 200 OK in 8ms (ActiveRecord: 2.9ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:23:55 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bro", "user_id"=>"2", "message"=>{"content"=>"bro", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bro"], ["chat_id", 1], ["created_at", "2019-07-12 13:23:55.667921"], ["updated_at", "2019-07-12 13:23:55.667921"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>64, :chat_id=>1, :content=>"bro", :created_at=>Fri, 12 Jul 2019 13:23:55 UTC +00:00}}
Completed 200 OK in 47ms (ActiveRecord: 41.6ms)


Unsubscribing from channel: {"channel":"MessagesChannel","chat":1}
MessagesChannel stopped streaming from messages:chat_1
Started GET "/users/2/chats" for ::1 at 2019-07-12 09:25:19 -0400
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (21.4ms)
Completed 200 OK in 52ms (Views: 23.2ms | ActiveRecord: 8.5ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 09:25:21 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:25:21 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/2/chats/2/messages" for ::1 at 2019-07-12 09:25:21 -0400
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"2"}
  [1m[36mChat Load (3.8ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:54
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:chat_93
  [1m[36mMessage Load (10.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["chat_id", 62], ["chat_id", 63], ["chat_id", 70], ["chat_id", 72], ["chat_id", 73], ["chat_id", 75], ["chat_id", 84], ["chat_id", 93], ["chat_id", 95], ["chat_id", 97]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.11ms)
Completed 200 OK in 30ms (Views: 2.0ms | ActiveRecord: 13.3ms)


Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 09:25:26 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 93], ["created_at", "2019-07-12 13:25:26.305731"], ["updated_at", "2019-07-12 13:25:26.305731"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 17ms (ActiveRecord: 3.0ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/messages_controller.rb:24:in `create'
Unsubscribing from channel: {"channel":"MessagesChannel","chat":93}
MessagesChannel stopped streaming from messages:chat_93
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 09:26:39 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (36.37ms)
Completed 200 OK in 74ms (Views: 40.0ms | ActiveRecord: 1.5ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 09:26:41 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:26:41 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/2/chats/2/messages" for ::1 at 2019-07-12 09:26:41 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:24: syntax error, unexpected tSTRING_BEG, expecting tSTRING_DEND
...st_to "chat_#{params[:chat_id]", serialized_data
...                               ^
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:57: syntax error, unexpected tIDENTIFIER, expecting tSTRING_DEND
    # Only allow a trusted parameter "white list" through.
                                           ^
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:61: unterminated string meets end of file
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:61: syntax error, unexpected end-of-input, expecting tSTRING_DEND):
  
app/controllers/messages_controller.rb:24: syntax error, unexpected tSTRING_BEG, expecting tSTRING_DEND
app/controllers/messages_controller.rb:57: syntax error, unexpected tIDENTIFIER, expecting tSTRING_DEND
app/controllers/messages_controller.rb:61: unterminated string meets end of file
app/controllers/messages_controller.rb:61: syntax error, unexpected end-of-input, expecting tSTRING_DEND
  [1m[36mUser Load (15.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (6.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:chat_62
Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 09:26:43 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:24: syntax error, unexpected tSTRING_BEG, expecting tSTRING_DEND
...st_to "chat_#{params[:chat_id]", serialized_data
...                               ^
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:57: syntax error, unexpected tIDENTIFIER, expecting tSTRING_DEND
    # Only allow a trusted parameter "white list" through.
                                           ^
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:61: unterminated string meets end of file
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:61: syntax error, unexpected end-of-input, expecting tSTRING_DEND):
  
app/controllers/messages_controller.rb:24: syntax error, unexpected tSTRING_BEG, expecting tSTRING_DEND
app/controllers/messages_controller.rb:57: syntax error, unexpected tIDENTIFIER, expecting tSTRING_DEND
app/controllers/messages_controller.rb:61: unterminated string meets end of file
app/controllers/messages_controller.rb:61: syntax error, unexpected end-of-input, expecting tSTRING_DEND
Unsubscribing from channel: {"channel":"MessagesChannel","chat":62}
MessagesChannel stopped streaming from messages:chat_62
Started GET "/users/2/chats" for ::1 at 2019-07-12 09:31:53 -0400
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (25.26ms)
Completed 200 OK in 76ms (Views: 29.6ms | ActiveRecord: 7.8ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 09:31:55 -0400
Started GET "/users/2/chats/3/messages" for ::1 at 2019-07-12 09:31:55 -0400
Processing by MessagesController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:31:55 -0400
  Parameters: {"user_id"=>"2", "chat_id"=>"3"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (3.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 3]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["chat_id", 6], ["chat_id", 68], ["chat_id", 71], ["chat_id", 76], ["chat_id", 83], ["chat_id", 86], ["chat_id", 87], ["chat_id", 89], ["chat_id", 90], ["chat_id", 92], ["chat_id", 94]]
  â†³ app/controllers/messages_controller.rb:7
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:chat_6
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.54ms)
Completed 200 OK in 39ms (Views: 10.8ms | ActiveRecord: 16.5ms)


Started POST "/users/2/chats/3/messages" for ::1 at 2019-07-12 09:32:01 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"3", "content"=>"yo", "user_id"=>"2", "message"=>{"content"=>"yo", "chat_id"=>"3"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yo"], ["chat_id", 6], ["created_at", "2019-07-12 13:32:01.539192"], ["updated_at", "2019-07-12 13:32:01.539192"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:chat_3: {:message=>{:id=>66, :chat_id=>6, :content=>"yo", :created_at=>Fri, 12 Jul 2019 13:32:01 UTC +00:00}}
Completed 200 OK in 22ms (ActiveRecord: 13.1ms)


Unsubscribing from channel: {"channel":"MessagesChannel","chat":6}
MessagesChannel stopped streaming from messages:chat_6
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 09:39:20 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (24.47ms)
Completed 200 OK in 75ms (Views: 27.1ms | ActiveRecord: 23.4ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:39:21 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-12 09:39:21 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (7.78ms)
Completed 200 OK in 43ms (Views: 27.6ms | ActiveRecord: 8.4ms)


Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 09:39:21 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:39:26 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"go", "user_id"=>"2", "message"=>{"content"=>"go", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (42.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "go"], ["chat_id", 1], ["created_at", "2019-07-12 13:39:26.241306"], ["updated_at", "2019-07-12 13:39:26.241306"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>67, :chat_id=>1, :content=>"go", :created_at=>Fri, 12 Jul 2019 13:39:26 UTC +00:00}}
Completed 200 OK in 53ms (ActiveRecord: 44.1ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:53:39 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"go", "user_id"=>"2", "message"=>{"content"=>"go", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "go"], ["chat_id", 1], ["created_at", "2019-07-12 13:53:39.149124"], ["updated_at", "2019-07-12 13:53:39.149124"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>68, :chat_id=>1, :content=>"go", :created_at=>Fri, 12 Jul 2019 13:53:39 UTC +00:00}}
Completed 200 OK in 23ms (ActiveRecord: 3.3ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:54:19 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"go", "user_id"=>"2", "message"=>{"content"=>"go", "chat_id"=>"1"}}
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "go"], ["chat_id", 1], ["created_at", "2019-07-12 13:54:19.066435"], ["updated_at", "2019-07-12 13:54:19.066435"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (41.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>69, :chat_id=>1, :content=>"go", :created_at=>Fri, 12 Jul 2019 13:54:19 UTC +00:00}}
Completed 200 OK in 50ms (ActiveRecord: 43.1ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:54:21 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"go", "user_id"=>"2", "message"=>{"content"=>"go", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "go"], ["chat_id", 1], ["created_at", "2019-07-12 13:54:21.289365"], ["updated_at", "2019-07-12 13:54:21.289365"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>70, :chat_id=>1, :content=>"go", :created_at=>Fri, 12 Jul 2019 13:54:21 UTC +00:00}}
Completed 200 OK in 8ms (ActiveRecord: 2.8ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:54:22 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"go", "user_id"=>"2", "message"=>{"content"=>"go", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "go"], ["chat_id", 1], ["created_at", "2019-07-12 13:54:22.313913"], ["updated_at", "2019-07-12 13:54:22.313913"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>71, :chat_id=>1, :content=>"go", :created_at=>Fri, 12 Jul 2019 13:54:22 UTC +00:00}}
Completed 200 OK in 8ms (ActiveRecord: 2.6ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 09:54:26 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"gq", "user_id"=>"2", "message"=>{"content"=>"gq", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "gq"], ["chat_id", 1], ["created_at", "2019-07-12 13:54:26.351303"], ["updated_at", "2019-07-12 13:54:26.351303"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>72, :chat_id=>1, :content=>"gq", :created_at=>Fri, 12 Jul 2019 13:54:26 UTC +00:00}}
Completed 200 OK in 15ms (ActiveRecord: 8.8ms)


Unsubscribing from channel: {"channel":"MessagesChannel","chat":1}
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:02:50 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (28.71ms)
Completed 200 OK in 41ms (Views: 29.3ms | ActiveRecord: 3.3ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:04:18 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 10:04:20 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:04:20 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:04:20 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (23.5ms)
Completed 200 OK in 34ms (Views: 23.2ms | ActiveRecord: 6.2ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:04:22 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
  [1m[35m (8.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (3.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.48ms)
Completed 200 OK in 53ms (Views: 38.2ms | ActiveRecord: 11.7ms)


Unsubscribing from channel: {"channel":"MessagesChannel","chat":1}
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:06:49 -0400
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (9.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (24.94ms)
Completed 200 OK in 40ms (Views: 24.9ms | ActiveRecord: 11.2ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 10:06:52 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.8ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 14:06:52.811549"], ["updated_at", "2019-07-12 14:06:52.811549"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 98]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>98, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>98, :to_id=>3, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>98, "to_id"=>3, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 37ms (ActiveRecord: 10.4ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:07:18 -0400
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (3.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (20.11ms)
Completed 200 OK in 43ms (Views: 31.2ms | ActiveRecord: 4.5ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:07:23 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"bro", "user_id"=>"2", "message"=>{"content"=>"bro", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "bro"], ["chat_id", 1], ["created_at", "2019-07-12 14:07:23.541506"], ["updated_at", "2019-07-12 14:07:23.541506"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>73, :chat_id=>1, :content=>"bro", :created_at=>Fri, 12 Jul 2019 14:07:23 UTC +00:00}}
Completed 200 OK in 50ms (ActiveRecord: 42.5ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:10:20 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:11:34 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-12 10:11:34 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:11:34 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (4.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (51.23ms)
Completed 200 OK in 92ms (Views: 49.4ms | ActiveRecord: 17.2ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:11:52 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-12 10:11:56 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:11:56 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:11:56 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (41.07ms)
Completed 200 OK in 61ms (Views: 41.3ms | ActiveRecord: 13.0ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:12:51 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 10:12:53 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:12:53 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:12:53 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (17.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (6.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/application_controller.rb:8
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
[active_model_serializers]   [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
ChatsChannel is transmitting the subscription confirmation
[active_model_serializers]   [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
ChatsChannel is streaming from current_user_2
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (54.61ms)
Completed 200 OK in 85ms (Views: 53.3ms | ActiveRecord: 20.7ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:13:19 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 10:13:45 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:13:45 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:13:45 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (7.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
  [1m[36mUser Load (20.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
[active_model_serializers]   [1m[36mChat Load (4.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (59.19ms)
ChatsChannel is transmitting the subscription confirmation
Completed 200 OK in 76ms (Views: 54.3ms | ActiveRecord: 13.1ms)


ChatsChannel is streaming from current_user_2
Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:13:47 -0400
  [1m[36mChat Load (32.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
Processing by MessagesController#index as HTML
MessagesChannel is transmitting the subscription confirmation
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.11ms)
Completed 200 OK in 45ms (Views: 39.0ms | ActiveRecord: 2.3ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:13:50 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"n", "user_id"=>"2", "message"=>{"content"=>"n", "chat_id"=>"1"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "n"], ["chat_id", 1], ["created_at", "2019-07-12 14:13:50.122120"], ["updated_at", "2019-07-12 14:13:50.122120"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>74, :chat_id=>1, :content=>"n", :created_at=>Fri, 12 Jul 2019 14:13:50 UTC +00:00}}
Completed 200 OK in 50ms (ActiveRecord: 41.6ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:13:59 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"n", "user_id"=>"2", "message"=>{"content"=>"n", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (10.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "n"], ["chat_id", 1], ["created_at", "2019-07-12 14:13:59.861756"], ["updated_at", "2019-07-12 14:13:59.861756"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>75, :chat_id=>1, :content=>"n", :created_at=>Fri, 12 Jul 2019 14:13:59 UTC +00:00}}
Completed 200 OK in 57ms (ActiveRecord: 51.6ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:14:03 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>",", "user_id"=>"2", "message"=>{"content"=>",", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", ","], ["chat_id", 1], ["created_at", "2019-07-12 14:14:03.184328"], ["updated_at", "2019-07-12 14:14:03.184328"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>76, :chat_id=>1, :content=>",", :created_at=>Fri, 12 Jul 2019 14:14:03 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.6ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:21:28 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 10:21:38 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:21:38 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:21:38 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (38.1ms)
Completed 200 OK in 68ms (Views: 39.8ms | ActiveRecord: 6.1ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:21:39 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (25.85ms)
Completed 200 OK in 54ms (Views: 39.1ms | ActiveRecord: 2.2ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:21:43 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"2", "user_id"=>"2", "message"=>{"content"=>"2", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "2"], ["chat_id", 1], ["created_at", "2019-07-12 14:21:43.187081"], ["updated_at", "2019-07-12 14:21:43.187081"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (42.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>77, :chat_id=>1, :content=>"2", :created_at=>Fri, 12 Jul 2019 14:21:43 UTC +00:00}}
Completed 200 OK in 55ms (ActiveRecord: 44.2ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:21:46 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"3", "user_id"=>"2", "message"=>{"content"=>"3", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "3"], ["chat_id", 1], ["created_at", "2019-07-12 14:21:46.867821"], ["updated_at", "2019-07-12 14:21:46.867821"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (41.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>78, :chat_id=>1, :content=>"3", :created_at=>Fri, 12 Jul 2019 14:21:46 UTC +00:00}}
Completed 200 OK in 48ms (ActiveRecord: 42.6ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:28:38 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 10:33:12 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:33:12 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:33:12 -0400
  Parameters: {"user_id"=>"2"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (30.14ms)
Completed 200 OK in 49ms (Views: 30.5ms | ActiveRecord: 7.1ms)


Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:33:14 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (42.55ms)
Completed 200 OK in 79ms (Views: 52.2ms | ActiveRecord: 3.5ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:33:17 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"d", "user_id"=>"2", "message"=>{"content"=>"d", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (42.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "d"], ["chat_id", 1], ["created_at", "2019-07-12 14:33:17.294535"], ["updated_at", "2019-07-12 14:33:17.294535"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>79, :chat_id=>1, :content=>"d", :created_at=>Fri, 12 Jul 2019 14:33:17 UTC +00:00}}
Completed 200 OK in 52ms (ActiveRecord: 43.5ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:33:20 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"1", "user_id"=>"2", "message"=>{"content"=>"1", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "1"], ["chat_id", 1], ["created_at", "2019-07-12 14:33:20.439340"], ["updated_at", "2019-07-12 14:33:20.439340"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>80, :chat_id=>1, :content=>"1", :created_at=>Fri, 12 Jul 2019 14:33:20 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.3ms)


Unsubscribing from channel: {"channel":"MessagesChannel"}
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:34:07 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (29.37ms)
Completed 200 OK in 107ms (Views: 31.1ms | ActiveRecord: 32.7ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:34:09 -0400
Processing by MessagesController#index as HTML
Started GET "/cable?user=2" for ::1 at 2019-07-12 10:34:09 -0400
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:34:09 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (3.0ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.61ms)
Completed 200 OK in 88ms (Views: 39.8ms | ActiveRecord: 13.5ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:34:12 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"as", "user_id"=>"2", "message"=>{"content"=>"as", "chat_id"=>"1"}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "as"], ["chat_id", 1], ["created_at", "2019-07-12 14:34:12.839807"], ["updated_at", "2019-07-12 14:34:12.839807"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (34.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>81, :chat_id=>1, :content=>"as", :created_at=>Fri, 12 Jul 2019 14:34:12 UTC +00:00}}
Completed 200 OK in 49ms (ActiveRecord: 37.4ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:34:16 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"ewl", "user_id"=>"2", "message"=>{"content"=>"ewl", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "ewl"], ["chat_id", 1], ["created_at", "2019-07-12 14:34:16.296359"], ["updated_at", "2019-07-12 14:34:16.296359"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>82, :chat_id=>1, :content=>"ewl", :created_at=>Fri, 12 Jul 2019 14:34:16 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.5ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:39:37 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-12 10:39:38 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:39:40 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:42:29 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"now", "user_id"=>"2", "message"=>{"content"=>"now", "chat_id"=>"1"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "now"], ["chat_id", 1], ["created_at", "2019-07-12 14:42:29.610154"], ["updated_at", "2019-07-12 14:42:29.610154"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>83, :chat_id=>1, :content=>"now", :created_at=>Fri, 12 Jul 2019 14:42:29 UTC +00:00}}
Completed 200 OK in 80ms (ActiveRecord: 50.1ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 10:42:36 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:42:36 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\"}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:43:02 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-12 10:43:04 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:43:04 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/2/chats" for ::1 at 2019-07-12 10:43:04 -0400
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (28.85ms)
Completed 200 OK in 60ms (Views: 37.0ms | ActiveRecord: 13.0ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
  [1m[36mChat Load (3.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:43:05 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (36.95ms)
Completed 200 OK in 48ms (Views: 43.7ms | ActiveRecord: 1.5ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 10:43:10 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"right", "user_id"=>"2", "message"=>{"content"=>"right", "chat_id"=>"1"}}
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "right"], ["chat_id", 1], ["created_at", "2019-07-12 14:43:10.321144"], ["updated_at", "2019-07-12 14:43:10.321144"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>84, :chat_id=>1, :content=>"right", :created_at=>Fri, 12 Jul 2019 14:43:10 UTC +00:00}}
Completed 200 OK in 50ms (ActiveRecord: 42.6ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 10:50:12 -0400
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:03:54 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:03:54 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:03:55 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (7.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (32.59ms)
Completed 200 OK in 67ms (Views: 27.2ms | ActiveRecord: 20.8ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:06:47 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:06:48 -0400
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:06:49 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:06:49 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (3.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (40.69ms)
Completed 200 OK in 56ms (Views: 38.0ms | ActiveRecord: 11.8ms)


  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:06:50 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.32ms)
Completed 200 OK in 32ms (Views: 27.5ms | ActiveRecord: 1.7ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:06:56 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"please", "user_id"=>"2", "message"=>{"content"=>"please", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (6.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "please"], ["chat_id", 1], ["created_at", "2019-07-12 15:06:56.546722"], ["updated_at", "2019-07-12 15:06:56.546722"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>85, :chat_id=>1, :content=>"please", :created_at=>Fri, 12 Jul 2019 15:06:56 UTC +00:00}}
Completed 200 OK in 19ms (ActiveRecord: 8.1ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:07:22 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:07:23 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:07:23 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:07:23 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
ChatsChannel is streaming from current_user_2
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (2.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (73.41ms)
Completed 200 OK in 82ms (Views: 71.3ms | ActiveRecord: 5.6ms)


  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:07:24 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.68ms)
Completed 200 OK in 37ms (Views: 31.4ms | ActiveRecord: 2.0ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:07:50 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:07:52 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:07:52 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:07:52 -0400
  Parameters: {"user_id"=>"2"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (7.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (22.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (49.88ms)
Completed 200 OK in 62ms (Views: 27.8ms | ActiveRecord: 29.8ms)


  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:07:53 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (21.79ms)
Completed 200 OK in 33ms (Views: 29.7ms | ActiveRecord: 1.3ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:07:58 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"b", "user_id"=>"2", "message"=>{"content"=>"b", "chat_id"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "b"], ["chat_id", 1], ["created_at", "2019-07-12 15:07:58.794586"], ["updated_at", "2019-07-12 15:07:58.794586"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>86, :chat_id=>1, :content=>"b", :created_at=>Fri, 12 Jul 2019 15:07:58 UTC +00:00}}
Completed 200 OK in 46ms (ActiveRecord: 40.8ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:29:11 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:29:13 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:29:13 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:29:13 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (25.8ms)
Completed 200 OK in 127ms (Views: 29.5ms | ActiveRecord: 61.0ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:29:14 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (3.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (10.91ms)
Completed 200 OK in 47ms (Views: 30.1ms | ActiveRecord: 8.7ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:29:17 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"q", "user_id"=>"2", "message"=>{"content"=>"q", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (49.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "q"], ["chat_id", 1], ["created_at", "2019-07-12 15:29:17.010568"], ["updated_at", "2019-07-12 15:29:17.010568"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 64ms (ActiveRecord: 51.0ms)


  
NoMethodError (undefined method `broadcast' for ActionCable:Module):
  
app/controllers/messages_controller.rb:24:in `create'
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:29:19 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:29:19 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\",\"chat\":1}"}) [SyntaxError - /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:12: unterminated string meets end of file
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:12: syntax error, unexpected end-of-input, expecting keyword_end]: /Library/Ruby/Gems/2.3.0/gems/bootsnap-1.4.4/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:54:in `load' | /Library/Ruby/Gems/2.3.0/gems/bootsnap-1.4.4/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:54:in `load' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:476:in `block in load_file' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:661:in `new_constants_in' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:475:in `load_file'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:29:51 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"q", "user_id"=>"2", "message"=>{"content"=>"q", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (5.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "q"], ["chat_id", 1], ["created_at", "2019-07-12 15:29:51.482453"], ["updated_at", "2019-07-12 15:29:51.482453"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 80ms (ActiveRecord: 53.4ms)


  
NoMethodError (undefined method `broadcast' for ActionCable:Module):
  
app/controllers/messages_controller.rb:24:in `create'
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:29:58 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:29:58 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\",\"chat\":1}"}) [SyntaxError - /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:12: unterminated string meets end of file
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:12: syntax error, unexpected end-of-input, expecting keyword_end]: /Library/Ruby/Gems/2.3.0/gems/bootsnap-1.4.4/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:54:in `load' | /Library/Ruby/Gems/2.3.0/gems/bootsnap-1.4.4/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:54:in `load' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:476:in `block in load_file' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:661:in `new_constants_in' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:475:in `load_file'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:30:19 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:30:20 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:30:20 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:30:20 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (2.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (36.42ms)
Completed 200 OK in 54ms (Views: 42.1ms | ActiveRecord: 6.0ms)


Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\",\"chat\":1}"}) [SyntaxError - /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:12: unterminated string meets end of file
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:12: syntax error, unexpected end-of-input, expecting keyword_end]: /Library/Ruby/Gems/2.3.0/gems/bootsnap-1.4.4/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:54:in `load' | /Library/Ruby/Gems/2.3.0/gems/bootsnap-1.4.4/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:54:in `load' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:476:in `block in load_file' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:661:in `new_constants_in' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:475:in `load_file'
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:30:21 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (10.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.54ms)
Completed 200 OK in 45ms (Views: 27.0ms | ActiveRecord: 12.8ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:30:25 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"a", "user_id"=>"2", "message"=>{"content"=>"a", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "a"], ["chat_id", 1], ["created_at", "2019-07-12 15:30:25.034801"], ["updated_at", "2019-07-12 15:30:25.034801"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 51ms (ActiveRecord: 41.7ms)


  
NoMethodError (undefined method `broadcast' for ActionCable:Module):
  
app/controllers/messages_controller.rb:24:in `create'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:30:52 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:30:54 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:30:54 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:30:54 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (9.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (35.21ms)
Completed 200 OK in 69ms (Views: 26.5ms | ActiveRecord: 20.7ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:30:55 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (12.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (11.98ms)
Completed 200 OK in 49ms (Views: 27.1ms | ActiveRecord: 15.6ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:30:59 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"z", "user_id"=>"2", "message"=>{"content"=>"z", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "z"], ["chat_id", 1], ["created_at", "2019-07-12 15:30:59.281414"], ["updated_at", "2019-07-12 15:30:59.281414"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to chat_channel_1: {:message=>{:id=>90, :chat_id=>1, :content=>"z", :created_at=>Fri, 12 Jul 2019 15:30:59 UTC +00:00}}
Completed 200 OK in 49ms (ActiveRecord: 40.7ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 11:31:00 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:31:00 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\",\"chat\":1}"}) [SyntaxError - /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:12: unterminated string meets end of file
/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:12: syntax error, unexpected end-of-input, expecting keyword_end]: /Library/Ruby/Gems/2.3.0/gems/bootsnap-1.4.4/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:54:in `load' | /Library/Ruby/Gems/2.3.0/gems/bootsnap-1.4.4/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:54:in `load' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:476:in `block in load_file' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:661:in `new_constants_in' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/dependencies.rb:475:in `load_file'
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:31:26 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:31:28 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:31:28 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:31:28 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (26.73ms)
Completed 200 OK in 57ms (Views: 28.0ms | ActiveRecord: 7.2ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:31:29 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (23.01ms)
Completed 200 OK in 50ms (Views: 41.7ms | ActiveRecord: 3.6ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:31:33 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"w", "user_id"=>"2", "message"=>{"content"=>"w", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "w"], ["chat_id", 1], ["created_at", "2019-07-12 15:31:33.432354"], ["updated_at", "2019-07-12 15:31:33.432354"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (16.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to chat_channel_1: {:message=>{:id=>91, :chat_id=>1, :content=>"w", :created_at=>Fri, 12 Jul 2019 15:31:33 UTC +00:00}}
Completed 200 OK in 24ms (ActiveRecord: 17.9ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 11:31:34 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:31:34 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chat_channel_
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:31:35 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"w", "user_id"=>"2", "message"=>{"content"=>"w", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "w"], ["chat_id", 1], ["created_at", "2019-07-12 15:31:35.218126"], ["updated_at", "2019-07-12 15:31:35.218126"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to chat_channel_1: {:message=>{:id=>92, :chat_id=>1, :content=>"w", :created_at=>Fri, 12 Jul 2019 15:31:35 UTC +00:00}}
Completed 200 OK in 8ms (ActiveRecord: 2.4ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:34:46 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from chat_channel_
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:34:47 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:34:47 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:34:47 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (28.71ms)
Completed 200 OK in 80ms (Views: 30.5ms | ActiveRecord: 19.8ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:34:49 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.17ms)
Completed 200 OK in 43ms (Views: 33.1ms | ActiveRecord: 4.2ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:34:53 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"b", "user_id"=>"2", "message"=>{"content"=>"b", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (40.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "b"], ["chat_id", 1], ["created_at", "2019-07-12 15:34:53.117599"], ["updated_at", "2019-07-12 15:34:53.117599"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to message_channel_: {:message=>{:id=>93, :chat_id=>1, :content=>"b", :created_at=>Fri, 12 Jul 2019 15:34:53 UTC +00:00}}
Completed 200 OK in 48ms (ActiveRecord: 41.3ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 11:34:54 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:34:54 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from message_channel_
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:40:06 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from message_channel_
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:40:09 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:40:09 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:40:09 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (24.12ms)
Completed 200 OK in 84ms (Views: 27.3ms | ActiveRecord: 9.1ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:40:10 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.52ms)
Completed 200 OK in 57ms (Views: 32.9ms | ActiveRecord: 18.2ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:40:14 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"j", "user_id"=>"2", "message"=>{"content"=>"j", "chat_id"=>"1"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "j"], ["chat_id", 1], ["created_at", "2019-07-12 15:40:14.131952"], ["updated_at", "2019-07-12 15:40:14.131952"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (38.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to message_channel_: {:message=>{:id=>94, :chat_id=>1, :content=>"j", :created_at=>Fri, 12 Jul 2019 15:40:14 UTC +00:00}}
Completed 200 OK in 49ms (ActiveRecord: 39.5ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 11:40:15 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:40:15 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from message_channel_
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:41:20 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from message_channel_
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:41:21 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:41:21 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:41:21 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (29.15ms)
Completed 200 OK in 69ms (Views: 31.3ms | ActiveRecord: 12.6ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:41:23 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (10.25ms)
Completed 200 OK in 46ms (Views: 24.5ms | ActiveRecord: 14.9ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:41:26 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"c", "user_id"=>"2", "message"=>{"content"=>"c", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (41.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "c"], ["chat_id", 1], ["created_at", "2019-07-12 15:41:26.016768"], ["updated_at", "2019-07-12 15:41:26.016768"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to message_channel_: {:message=>{:id=>95, :chat_id=>1, :content=>"c", :created_at=>Fri, 12 Jul 2019 15:41:26 UTC +00:00}}
Completed 200 OK in 49ms (ActiveRecord: 41.9ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 11:41:27 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:41:27 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\",\"chat\":1}"}) [NoMethodError - undefined method `id' for nil:NilClass]: /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:5:in `subscribed' | /Library/Ruby/Gems/2.3.0/gems/actioncable-5.2.3/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Library/Ruby/Gems/2.3.0/gems/actioncable-5.2.3/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:45:51 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:45:52 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:45:52 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:45:52 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (25.86ms)
Completed 200 OK in 78ms (Views: 27.9ms | ActiveRecord: 18.2ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:45:54 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.8ms)
Completed 200 OK in 49ms (Views: 38.3ms | ActiveRecord: 4.3ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:45:57 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"b", "user_id"=>"2", "message"=>{"content"=>"b", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (40.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "b"], ["chat_id", 1], ["created_at", "2019-07-12 15:45:57.506004"], ["updated_at", "2019-07-12 15:45:57.506004"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 334ms (ActiveRecord: 41.5ms)


  
NameError (undefined local variable or method `chat_id' for #<MessagesController:0x00007fbef6cdc438>):
  
app/controllers/messages_controller.rb:24:in `create'
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:45:59 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:45:59 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\",\"chat\":1}"}) [NameError - undefined local variable or method `chat_id' for #<MessagesChannel:0x00007fbef5b74d08>]: /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:5:in `subscribed' | /Library/Ruby/Gems/2.3.0/gems/actioncable-5.2.3/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Library/Ruby/Gems/2.3.0/gems/actioncable-5.2.3/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:54:09 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:54:09 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:54:09 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\",\"chat\":1}"}) [NameError - undefined local variable or method `chat_id' for #<MessagesChannel:0x00007fbef5929a08>]: /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:5:in `subscribed' | /Library/Ruby/Gems/2.3.0/gems/actioncable-5.2.3/lib/action_cable/channel/base.rb:179:in `block in subscribe_to_channel' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:109:in `block in run_callbacks' | /Library/Ruby/Gems/2.3.0/gems/activesupport-5.2.3/lib/active_support/execution_wrapper.rb:83:in `wrap' | /Library/Ruby/Gems/2.3.0/gems/actioncable-5.2.3/lib/action_cable/engine.rb:68:in `block (3 levels) in <class:Engine>'
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:57:16 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:57:18 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:57:18 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:57:18 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (50.13ms)
Completed 200 OK in 116ms (Views: 50.8ms | ActiveRecord: 16.6ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:57:19 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (13.14ms)
Completed 200 OK in 48ms (Views: 32.1ms | ActiveRecord: 7.3ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:57:23 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"m", "user_id"=>"2", "message"=>{"content"=>"m", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (41.2ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "m"], ["chat_id", 1], ["created_at", "2019-07-12 15:57:23.856360"], ["updated_at", "2019-07-12 15:57:23.856360"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 170ms (ActiveRecord: 42.1ms)


  
NameError (undefined local variable or method `chat_id' for #<MessagesController:0x00007fbef6bede28>):
  
app/controllers/messages_controller.rb:24:in `create'
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:57:24 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:57:24 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chats_channel_1
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:58:17 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from chats_channel_1
Started GET "/cable?user=2" for ::1 at 2019-07-12 11:58:19 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 11:58:19 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:58:19 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (20.83ms)
Completed 200 OK in 50ms (Views: 22.5ms | ActiveRecord: 8.0ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:58:20 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (12.04ms)
Completed 200 OK in 36ms (Views: 26.1ms | ActiveRecord: 5.7ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 11:58:24 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"l", "user_id"=>"2", "message"=>{"content"=>"l", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "l"], ["chat_id", 1], ["created_at", "2019-07-12 15:58:24.587024"], ["updated_at", "2019-07-12 15:58:24.587024"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (43.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to chat_channel_1: {:message=>{:id=>98, :chat_id=>1, :content=>"l", :created_at=>Fri, 12 Jul 2019 15:58:24 UTC +00:00}}
Completed 200 OK in 52ms (ActiveRecord: 44.8ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 11:58:25 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 11:58:25 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chats_channel_1
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 12:00:25 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from chats_channel_1
Started GET "/cable?user=2" for ::1 at 2019-07-12 12:00:26 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 12:00:26 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 12:00:26 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (33.92ms)
Completed 200 OK in 65ms (Views: 35.3ms | ActiveRecord: 7.5ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:00:28 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.82ms)
Completed 200 OK in 58ms (Views: 48.4ms | ActiveRecord: 4.4ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:00:32 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (40.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-12 16:00:32.502317"], ["updated_at", "2019-07-12 16:00:32.502317"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 53ms (ActiveRecord: 41.2ms)


  
NameError (uninitialized constant MessagesController::MessaageChannel):
  
app/controllers/messages_controller.rb:24:in `create'
Started GET "/cable?user=2" for ::1 at 2019-07-12 12:00:33 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 12:00:33 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chats_channel_1
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:00:34 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-12 16:00:34.458699"], ["updated_at", "2019-07-12 16:00:34.458699"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.5ms)


  
NameError (uninitialized constant MessagesController::MessaageChannel):
  
app/controllers/messages_controller.rb:24:in `create'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:00:41 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-12 16:00:41.053095"], ["updated_at", "2019-07-12 16:00:41.053095"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.8ms)


  
NameError (uninitialized constant MessagesController::MessaageChannel):
  
app/controllers/messages_controller.rb:24:in `create'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:22:38 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (2.9ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (2.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-12 16:22:38.670845"], ["updated_at", "2019-07-12 16:22:38.670845"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 57ms (ActiveRecord: 45.7ms)


  
NameError (uninitialized constant MessagesController::MessaageChannel):
  
app/controllers/messages_controller.rb:24:in `create'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:22:40 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (2.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-12 16:22:40.100927"], ["updated_at", "2019-07-12 16:22:40.100927"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.9ms)


  
NameError (uninitialized constant MessagesController::MessaageChannel):
  
app/controllers/messages_controller.rb:24:in `create'
Started POST "/users/2/chats" for ::1 at 2019-07-12 12:23:04 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (8.9ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 16:23:04.742893"], ["updated_at", "2019-07-12 16:23:04.742893"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 99]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>99, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>99, :to_id=>1, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>99, "to_id"=>1, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 46ms (ActiveRecord: 10.7ms)


Started POST "/users/2/chats" for ::1 at 2019-07-12 12:23:07 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"3", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"3", "from_id"=>2}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 16:23:07.787617"], ["updated_at", "2019-07-12 16:23:07.787617"], ["to_id", 3], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 100]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>100, :to_id=>3, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>100, :to_id=>3, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>100, "to_id"=>3, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 13ms (ActiveRecord: 2.2ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:23:12 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-12 16:23:12.162909"], ["updated_at", "2019-07-12 16:23:12.162909"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.4ms)


  
NameError (uninitialized constant MessagesController::MessaageChannel):
  
app/controllers/messages_controller.rb:24:in `create'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:23:12 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"2", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-12 16:23:12.735046"], ["updated_at", "2019-07-12 16:23:12.735046"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.1ms)


  
NameError (uninitialized constant MessagesController::MessaageChannel):
  
app/controllers/messages_controller.rb:24:in `create'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:25:53 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"GO]\\", "user_id"=>"2", "message"=>{"content"=>"GO]\\", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "GO]\\"], ["chat_id", 1], ["created_at", "2019-07-12 16:25:53.654227"], ["updated_at", "2019-07-12 16:25:53.654227"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (62.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 100ms (ActiveRecord: 74.5ms)


  
NameError (uninitialized constant MessagesController::MessageChannel):
  
app/controllers/messages_controller.rb:24:in `create'
Started GET "/cable?user=2" for ::1 at 2019-07-12 12:26:02 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 12:26:02 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
  [1m[36mChat Load (1.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
ChatsChannel is streaming from current_user_2
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chats_channel_1
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:26:11 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"k", "user_id"=>"2", "message"=>{"content"=>"k", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (6.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "k"], ["chat_id", 1], ["created_at", "2019-07-12 16:26:11.347523"], ["updated_at", "2019-07-12 16:26:11.347523"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:chat_channel_1: {:message=>{:id=>107, :chat_id=>1, :content=>"k", :created_at=>Fri, 12 Jul 2019 16:26:11 UTC +00:00}}
Completed 200 OK in 37ms (ActiveRecord: 13.2ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 12:26:17 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 12:26:17 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from chats_channel_1
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:49:03 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"c", "user_id"=>"2", "message"=>{"content"=>"c", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (45.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "c"], ["chat_id", 1], ["created_at", "2019-07-12 16:49:03.353195"], ["updated_at", "2019-07-12 16:49:03.353195"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: {:message=>{:id=>108, :chat_id=>1, :content=>"c", :created_at=>Fri, 12 Jul 2019 16:49:03 UTC +00:00}}
Completed 200 OK in 92ms (ActiveRecord: 59.6ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 12:49:11 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 12:49:11 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 12:54:52 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"f", "user_id"=>"2", "message"=>{"content"=>"f", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (41.8ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "f"], ["chat_id", 1], ["created_at", "2019-07-12 16:54:52.804157"], ["updated_at", "2019-07-12 16:54:52.804157"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: #<Message id: 109, content: "f", chat_id: 1, created_at: "2019-07-12 16:54:52", updated_at: "2019-07-12 16:54:52">
Completed 200 OK in 73ms (ActiveRecord: 54.8ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 12:55:00 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 12:55:00 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/messages_channel.rb:4
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:03:58 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages:Z2lkOi8vY29udmV5L0NoYXQvMQ
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:04:04 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 13:04:04 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:04:04 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (21.8ms)
Completed 200 OK in 37ms (Views: 25.8ms | ActiveRecord: 2.7ms)


Could not execute command from ({"command"=>"subscribe", "identifier"=>"{\"channel\":\"MessagesChannel\",\"chat_id\":1}"}) [ActiveRecord::RecordNotFound - Couldn't find Chat without an ID]: /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:433:in `find_with_ids' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/relation/finder_methods.rb:69:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/querying.rb:5:in `find' | /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/core.rb:167:in `find' | /Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/channels/messages_channel.rb:4:in `subscribed'
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:04:05 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (39.1ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:54
  [1m[36mMessage Load (2.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.49ms)
Completed 200 OK in 82ms (Views: 35.0ms | ActiveRecord: 42.0ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:04:09 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"q", "user_id"=>"2", "message"=>{"content"=>"q", "chat_id"=>"1"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (42.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "q"], ["chat_id", 1], ["created_at", "2019-07-12 17:04:09.340466"], ["updated_at", "2019-07-12 17:04:09.340466"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: #<Message id: 110, content: "q", chat_id: 1, created_at: "2019-07-12 17:04:09", updated_at: "2019-07-12 17:04:09">
Completed 200 OK in 91ms (ActiveRecord: 83.8ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:20:29 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:21:32 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 13:21:32 -0400
  [1m[35m (6.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:21:33 -0400
  [1m[35m (61.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (1.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (28.99ms)
Completed 200 OK in 86ms (Views: 34.2ms | ActiveRecord: 17.4ms)


MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:21:34 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (19.6ms)
Completed 200 OK in 64ms (Views: 52.0ms | ActiveRecord: 5.4ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:21:39 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"h", "user_id"=>"2", "message"=>{"content"=>"h", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (43.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "h"], ["chat_id", 1], ["created_at", "2019-07-12 17:21:39.960490"], ["updated_at", "2019-07-12 17:21:39.960490"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
Completed 500 Internal Server Error in 59ms (ActiveRecord: 44.0ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/messages_controller.rb:25:in `create'
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:22:03 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"a", "user_id"=>"2", "message"=>{"content"=>"a", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "a"], ["chat_id", 1], ["created_at", "2019-07-12 17:22:03.443458"], ["updated_at", "2019-07-12 17:22:03.443458"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages__: #<Message id: 112, content: "a", chat_id: 1, created_at: "2019-07-12 17:22:03", updated_at: "2019-07-12 17:22:03">
Completed 200 OK in 77ms (ActiveRecord: 49.9ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 13:22:11 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:22:11 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:22:51 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages_1_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:23:15 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:23:15 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/2/chats" for ::1 at 2019-07-12 13:23:15 -0400
Processing by ChatsController#index as HTML
  [1m[36mUser Load (32.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Parameters: {"user_id"=>"2"}
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (33.05ms)
Completed 200 OK in 54ms (Views: 40.2ms | ActiveRecord: 4.4ms)


MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:23:17 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (35.11ms)
Completed 200 OK in 63ms (Views: 57.0ms | ActiveRecord: 3.1ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:23:46 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"1", "user_id"=>"2", "message"=>{"content"=>"1", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (41.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "1"], ["chat_id", 1], ["created_at", "2019-07-12 17:23:46.761352"], ["updated_at", "2019-07-12 17:23:46.761352"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages__: #<Message id: 113, content: "1", chat_id: 1, created_at: "2019-07-12 17:23:46", updated_at: "2019-07-12 17:23:46">
Completed 200 OK in 48ms (ActiveRecord: 42.6ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:25:59 -0400
  
SyntaxError (/Users/michaelmcguire/Documents/GA/SEI/Convey/convey/app/controllers/messages_controller.rb:25: syntax error, unexpected ':', expecting tSTRING_DEND
..._#{params[:chat_id]}_#{from_id: params[:user_id]}", @message
...                               ^):
  
app/controllers/messages_controller.rb:25: syntax error, unexpected ':', expecting tSTRING_DEND
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:26:07 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:26:07 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:26:25 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"b", "user_id"=>"2", "message"=>{"content"=>"b", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "b"], ["chat_id", 1], ["created_at", "2019-07-12 17:26:25.674490"], ["updated_at", "2019-07-12 17:26:25.674490"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: #<Message id: 114, content: "b", chat_id: 1, created_at: "2019-07-12 17:26:25", updated_at: "2019-07-12 17:26:25">
Completed 200 OK in 77ms (ActiveRecord: 57.8ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 13:26:34 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:26:34 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:27:03 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages_1_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:27:05 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 13:27:05 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:27:05 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (29.99ms)
Completed 200 OK in 46ms (Views: 33.4ms | ActiveRecord: 4.6ms)


MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:27:08 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (14.92ms)
Completed 200 OK in 37ms (Views: 30.6ms | ActiveRecord: 3.3ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:27:16 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"a", "user_id"=>"2", "message"=>{"content"=>"a", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "a"], ["chat_id", 1], ["created_at", "2019-07-12 17:27:16.824283"], ["updated_at", "2019-07-12 17:27:16.824283"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (41.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: #<Message id: 115, content: "a", chat_id: 1, created_at: "2019-07-12 17:27:16", updated_at: "2019-07-12 17:27:16">
Completed 200 OK in 47ms (ActiveRecord: 42.3ms)


MessagesChannel transmitting {"id"=>115, "content"=>"a", "chat_id"=>1, "created_at"=>"2019-07-12T17:27:16.824Z", "updated_at"=>"2019-07-12T17:27:16.824Z"} (via streamed from messages_1_2)
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:27:16 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages_1_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:29:13 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 13:29:14 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:29:14 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (29.52ms)
Completed 200 OK in 36ms (Views: 29.2ms | ActiveRecord: 2.1ms)


MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:29:15 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (2.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (12.8ms)
Completed 200 OK in 37ms (Views: 22.3ms | ActiveRecord: 3.0ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:29:18 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"2", "user_id"=>"2", "message"=>{"content"=>"2", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (41.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "2"], ["chat_id", 1], ["created_at", "2019-07-12 17:29:18.343137"], ["updated_at", "2019-07-12 17:29:18.343137"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: #<Message id: 116, content: "2", chat_id: 1, created_at: "2019-07-12 17:29:18", updated_at: "2019-07-12 17:29:18">
Completed 200 OK in 47ms (ActiveRecord: 42.1ms)


MessagesChannel transmitting {"id"=>116, "content"=>"2", "chat_id"=>1, "created_at"=>"2019-07-12T17:29:18.343Z", "updated_at"=>"2019-07-12T17:29:18.343Z"} (via streamed from messages_1_2)
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:29:18 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages_1_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:30:51 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 13:30:51 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:30:51 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (37.52ms)
Completed 200 OK in 72ms (Views: 35.5ms | ActiveRecord: 12.0ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:30:52 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (16.07ms)
Completed 200 OK in 49ms (Views: 36.6ms | ActiveRecord: 5.9ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:30:55 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"e", "user_id"=>"2", "message"=>{"content"=>"e", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "e"], ["chat_id", 1], ["created_at", "2019-07-12 17:30:55.236484"], ["updated_at", "2019-07-12 17:30:55.236484"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages:: #<Message id: 117, content: "e", chat_id: 1, created_at: "2019-07-12 17:30:55", updated_at: "2019-07-12 17:30:55">
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>117, :chat_id=>1, :content=>"e", :created_at=>Fri, 12 Jul 2019 17:30:55 UTC +00:00}}
Completed 200 OK in 52ms (ActiveRecord: 40.6ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 13:30:58 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:30:58 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:32:29 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"e", "user_id"=>"2", "message"=>{"content"=>"e", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "e"], ["chat_id", 1], ["created_at", "2019-07-12 17:32:29.365143"], ["updated_at", "2019-07-12 17:32:29.365143"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (32.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>118, :chat_id=>1, :content=>"e", :created_at=>Fri, 12 Jul 2019 17:32:29 UTC +00:00}}
Completed 200 OK in 62ms (ActiveRecord: 40.6ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 13:32:37 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:32:37 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:34:09 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 13:34:09 -0400
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:34:09 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (33.26ms)
Completed 200 OK in 90ms (Views: 37.6ms | ActiveRecord: 15.4ms)


MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:34:10 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (17.13ms)
Completed 200 OK in 65ms (Views: 53.5ms | ActiveRecord: 4.5ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:34:13 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"1", "user_id"=>"2", "message"=>{"content"=>"1", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (41.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "1"], ["chat_id", 1], ["created_at", "2019-07-12 17:34:13.710188"], ["updated_at", "2019-07-12 17:34:13.710188"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>119, :chat_id=>1, :content=>"1", :created_at=>Fri, 12 Jul 2019 17:34:13 UTC +00:00}}
Completed 200 OK in 59ms (ActiveRecord: 42.8ms)


MessagesChannel transmitting {"message"=>{"id"=>119, "chat_id"=>1, "content"=>"1", "created_at"=>"2019-07-12T17:34:13.710Z"}} (via streamed from messages_1_2)
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:34:16 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"13", "user_id"=>"2", "message"=>{"content"=>"13", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (8.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "13"], ["chat_id", 1], ["created_at", "2019-07-12 17:34:16.315548"], ["updated_at", "2019-07-12 17:34:16.315548"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>120, :chat_id=>1, :content=>"13", :created_at=>Fri, 12 Jul 2019 17:34:16 UTC +00:00}}
Completed 200 OK in 15ms (ActiveRecord: 9.8ms)


MessagesChannel transmitting {"message"=>{"id"=>120, "chat_id"=>1, "content"=>"13", "created_at"=>"2019-07-12T17:34:16.315Z"}} (via streamed from messages_1_2)
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:34:16 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"13", "user_id"=>"2", "message"=>{"content"=>"13", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (19.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "13"], ["chat_id", 1], ["created_at", "2019-07-12 17:34:16.861070"], ["updated_at", "2019-07-12 17:34:16.861070"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>121, :chat_id=>1, :content=>"13", :created_at=>Fri, 12 Jul 2019 17:34:16 UTC +00:00}}
Completed 200 OK in 26ms (ActiveRecord: 20.7ms)


MessagesChannel transmitting {"message"=>{"id"=>121, "chat_id"=>1, "content"=>"13", "created_at"=>"2019-07-12T17:34:16.861Z"}} (via streamed from messages_1_2)
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:34:17 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"1343", "user_id"=>"2", "message"=>{"content"=>"1343", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "1343"], ["chat_id", 1], ["created_at", "2019-07-12 17:34:17.477498"], ["updated_at", "2019-07-12 17:34:17.477498"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>122, :chat_id=>1, :content=>"1343", :created_at=>Fri, 12 Jul 2019 17:34:17 UTC +00:00}}
Completed 200 OK in 6ms (ActiveRecord: 1.4ms)


MessagesChannel transmitting {"message"=>{"id"=>122, "chat_id"=>1, "content"=>"1343", "created_at"=>"2019-07-12T17:34:17.477Z"}} (via streamed from messages_1_2)
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:34:17 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"13431", "user_id"=>"2", "message"=>{"content"=>"13431", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "13431"], ["chat_id", 1], ["created_at", "2019-07-12 17:34:17.901492"], ["updated_at", "2019-07-12 17:34:17.901492"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>123, :chat_id=>1, :content=>"13431", :created_at=>Fri, 12 Jul 2019 17:34:17 UTC +00:00}}
Completed 200 OK in 6ms (ActiveRecord: 1.5ms)


MessagesChannel transmitting {"message"=>{"id"=>123, "chat_id"=>1, "content"=>"13431", "created_at"=>"2019-07-12T17:34:17.901Z"}} (via streamed from messages_1_2)
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:34:18 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"1343112", "user_id"=>"2", "message"=>{"content"=>"1343112", "chat_id"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "1343112"], ["chat_id", 1], ["created_at", "2019-07-12 17:34:18.272962"], ["updated_at", "2019-07-12 17:34:18.272962"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>124, :chat_id=>1, :content=>"1343112", :created_at=>Fri, 12 Jul 2019 17:34:18 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 1.3ms)


MessagesChannel transmitting {"message"=>{"id"=>124, "chat_id"=>1, "content"=>"1343112", "created_at"=>"2019-07-12T17:34:18.272Z"}} (via streamed from messages_1_2)
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:35:08 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"we", "user_id"=>"2", "message"=>{"content"=>"we", "chat_id"=>"1"}}
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "we"], ["chat_id", 1], ["created_at", "2019-07-12 17:35:08.854020"], ["updated_at", "2019-07-12 17:35:08.854020"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>125, :chat_id=>1, :content=>"we", :created_at=>Fri, 12 Jul 2019 17:35:08 UTC +00:00}}
Completed 200 OK in 50ms (ActiveRecord: 42.0ms)


MessagesChannel transmitting {"message"=>{"id"=>125, "chat_id"=>1, "content"=>"we", "created_at"=>"2019-07-12T17:35:08.854Z"}} (via streamed from messages_1_2)
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 13:35:11 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"wewe", "user_id"=>"2", "message"=>{"content"=>"wewe", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "wewe"], ["chat_id", 1], ["created_at", "2019-07-12 17:35:11.375936"], ["updated_at", "2019-07-12 17:35:11.375936"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>126, :chat_id=>1, :content=>"wewe", :created_at=>Fri, 12 Jul 2019 17:35:11 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 1.4ms)


MessagesChannel transmitting {"message"=>{"id"=>126, "chat_id"=>1, "content"=>"wewe", "created_at"=>"2019-07-12T17:35:11.375Z"}} (via streamed from messages_1_2)
Started POST "/users/2/chats/3/messages" for ::1 at 2019-07-12 13:37:04 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"3", "content"=>"wewefd", "user_id"=>"2", "message"=>{"content"=>"wewefd", "chat_id"=>"3"}}
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "wewefd"], ["chat_id", 1], ["created_at", "2019-07-12 17:37:04.935134"], ["updated_at", "2019-07-12 17:37:04.935134"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_3_2: {:message=>{:id=>127, :chat_id=>1, :content=>"wewefd", :created_at=>Fri, 12 Jul 2019 17:37:04 UTC +00:00}}
Completed 200 OK in 47ms (ActiveRecord: 41.8ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:37:10 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages_1_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:37:11 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 13:37:11 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:37:11 -0400
  Parameters: {"user_id"=>"2"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (7.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (31.54ms)
Completed 200 OK in 38ms (Views: 23.9ms | ActiveRecord: 10.6ms)


MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_3_2
Started GET "/users/2/chats/3/messages" for ::1 at 2019-07-12 13:37:12 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 3]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["chat_id", 6], ["chat_id", 68], ["chat_id", 71], ["chat_id", 76], ["chat_id", 83], ["chat_id", 86], ["chat_id", 87], ["chat_id", 89], ["chat_id", 90], ["chat_id", 92], ["chat_id", 94], ["chat_id", 98], ["chat_id", 100]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.24ms)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 1.5ms)


Started POST "/users/2/chats/3/messages" for ::1 at 2019-07-12 13:37:16 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"3", "content"=>"df", "user_id"=>"2", "message"=>{"content"=>"df", "chat_id"=>"3"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "df"], ["chat_id", 6], ["created_at", "2019-07-12 17:37:16.199654"], ["updated_at", "2019-07-12 17:37:16.199654"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_3_2: {:message=>{:id=>128, :chat_id=>6, :content=>"df", :created_at=>Fri, 12 Jul 2019 17:37:16 UTC +00:00}}
Completed 200 OK in 47ms (ActiveRecord: 41.9ms)


MessagesChannel transmitting {"message"=>{"id"=>128, "chat_id"=>6, "content"=>"df", "created_at"=>"2019-07-12T17:37:16.199Z"}} (via streamed from messages_3_2)
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:46:38 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages_3_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:46:38 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:46:38 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_3_2
Started POST "/users/2/chats/3/messages" for ::1 at 2019-07-12 13:51:04 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"3", "content"=>"as", "user_id"=>"2", "message"=>{"content"=>"as", "chat_id"=>"3"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (3.5ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (42.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "as"], ["chat_id", 6], ["created_at", "2019-07-12 17:51:04.182721"], ["updated_at", "2019-07-12 17:51:04.182721"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_3_2: {:message=>{:id=>129, :chat_id=>6, :content=>"as", :created_at=>Fri, 12 Jul 2019 17:51:04 UTC +00:00}}
Completed 200 OK in 58ms (ActiveRecord: 47.5ms)


MessagesChannel transmitting {"message"=>{"id"=>129, "chat_id"=>6, "content"=>"as", "created_at"=>"2019-07-12T17:51:04.182Z"}} (via streamed from messages_3_2)
Started POST "/users/2/chats/3/messages" for ::1 at 2019-07-12 13:51:04 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"3", "content"=>"assa", "user_id"=>"2", "message"=>{"content"=>"assa", "chat_id"=>"3"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "assa"], ["chat_id", 6], ["created_at", "2019-07-12 17:51:04.999513"], ["updated_at", "2019-07-12 17:51:04.999513"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_3_2: {:message=>{:id=>130, :chat_id=>6, :content=>"assa", :created_at=>Fri, 12 Jul 2019 17:51:04 UTC +00:00}}
Completed 200 OK in 8ms (ActiveRecord: 3.3ms)


MessagesChannel transmitting {"message"=>{"id"=>130, "chat_id"=>6, "content"=>"assa", "created_at"=>"2019-07-12T17:51:04.999Z"}} (via streamed from messages_3_2)
Started POST "/users/2/chats" for ::1 at 2019-07-12 13:51:11 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>"1", "from_id"=>2, "user_id"=>"2", "chat"=>{"to_id"=>"1", "from_id"=>2}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (4.8ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 17:51:11.176329"], ["updated_at", "2019-07-12 17:51:11.176329"], ["to_id", 1], ["from_id", 2]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 101]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>101, :to_id=>1, :from_id=>2, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>101, :to_id=>1, :from_id=>2, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>101, "to_id"=>1, "from_id"=>2, "messages"=>[]}} (via streamed from current_user_2)
Completed 200 OK in 55ms (ActiveRecord: 6.9ms)


Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 13:51:52 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"12", "user_id"=>"2", "message"=>{"content"=>"12", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (41.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "12"], ["chat_id", 6], ["created_at", "2019-07-12 17:51:52.107476"], ["updated_at", "2019-07-12 17:51:52.107476"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_2: {:message=>{:id=>131, :chat_id=>6, :content=>"12", :created_at=>Fri, 12 Jul 2019 17:51:52 UTC +00:00}}
Completed 200 OK in 49ms (ActiveRecord: 43.1ms)


Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 13:51:52 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"12", "user_id"=>"2", "message"=>{"content"=>"12", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "12"], ["chat_id", 6], ["created_at", "2019-07-12 17:51:52.739378"], ["updated_at", "2019-07-12 17:51:52.739378"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_2: {:message=>{:id=>132, :chat_id=>6, :content=>"12", :created_at=>Fri, 12 Jul 2019 17:51:52 UTC +00:00}}
Completed 200 OK in 6ms (ActiveRecord: 1.6ms)


Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 13:51:54 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"1212", "user_id"=>"2", "message"=>{"content"=>"1212", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (8.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "1212"], ["chat_id", 6], ["created_at", "2019-07-12 17:51:54.210814"], ["updated_at", "2019-07-12 17:51:54.210814"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_2: {:message=>{:id=>133, :chat_id=>6, :content=>"1212", :created_at=>Fri, 12 Jul 2019 17:51:54 UTC +00:00}}
Completed 200 OK in 16ms (ActiveRecord: 10.8ms)


Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 13:51:54 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"1212", "user_id"=>"2", "message"=>{"content"=>"1212", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "1212"], ["chat_id", 6], ["created_at", "2019-07-12 17:51:54.481729"], ["updated_at", "2019-07-12 17:51:54.481729"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_2: {:message=>{:id=>134, :chat_id=>6, :content=>"1212", :created_at=>Fri, 12 Jul 2019 17:51:54 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.9ms)


Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 13:51:54 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"1212", "user_id"=>"2", "message"=>{"content"=>"1212", "chat_id"=>"2"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "1212"], ["chat_id", 6], ["created_at", "2019-07-12 17:51:54.691395"], ["updated_at", "2019-07-12 17:51:54.691395"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_2: {:message=>{:id=>135, :chat_id=>6, :content=>"1212", :created_at=>Fri, 12 Jul 2019 17:51:54 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 1.7ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:51:59 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages_3_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 13:52:00 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 13:52:00 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:52:00 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (15.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (53.62ms)
Completed 200 OK in 60ms (Views: 38.3ms | ActiveRecord: 17.5ms)


MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_2
Started GET "/users/2/chats/2/messages" for ::1 at 2019-07-12 13:52:01 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"2"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["chat_id", 62], ["chat_id", 63], ["chat_id", 70], ["chat_id", 72], ["chat_id", 73], ["chat_id", 75], ["chat_id", 84], ["chat_id", 93], ["chat_id", 95], ["chat_id", 97]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.48ms)
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 1.9ms)


Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 13:52:03 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"2", "user_id"=>"2", "message"=>{"content"=>"2", "chat_id"=>"2"}}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "2"], ["chat_id", 63], ["created_at", "2019-07-12 17:52:04.003761"], ["updated_at", "2019-07-12 17:52:04.003761"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_2: {:message=>{:id=>136, :chat_id=>63, :content=>"2", :created_at=>Fri, 12 Jul 2019 17:52:04 UTC +00:00}}
Completed 200 OK in 47ms (ActiveRecord: 41.7ms)


MessagesChannel transmitting {"message"=>{"id"=>136, "chat_id"=>63, "content"=>"2", "created_at"=>"2019-07-12T17:52:04.003Z"}} (via streamed from messages_2_2)
Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 13:52:09 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"22", "user_id"=>"2", "message"=>{"content"=>"22", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "22"], ["chat_id", 63], ["created_at", "2019-07-12 17:52:09.954114"], ["updated_at", "2019-07-12 17:52:09.954114"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_2: {:message=>{:id=>137, :chat_id=>63, :content=>"22", :created_at=>Fri, 12 Jul 2019 17:52:09 UTC +00:00}}
Completed 200 OK in 46ms (ActiveRecord: 41.4ms)


MessagesChannel transmitting {"message"=>{"id"=>137, "chat_id"=>63, "content"=>"22", "created_at"=>"2019-07-12T17:52:09.954Z"}} (via streamed from messages_2_2)
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 13:56:21 -0400
ChatsChannel stopped streaming from current_user_2
MessagesChannel stopped streaming from messages_2_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 14:00:57 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 14:00:57 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 14:00:57 -0400
  Parameters: {"user_id"=>"2"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (2.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (33.43ms)
Completed 200 OK in 50ms (Views: 32.5ms | ActiveRecord: 7.7ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 14:00:58 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (12.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99], ["chat_id", 101]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (29.27ms)
Completed 200 OK in 59ms (Views: 42.8ms | ActiveRecord: 12.8ms)


Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 14:01:02 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"n", "user_id"=>"2", "message"=>{"content"=>"n", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (43.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "n"], ["chat_id", 1], ["created_at", "2019-07-12 18:01:02.580742"], ["updated_at", "2019-07-12 18:01:02.580742"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>138, :chat_id=>1, :content=>"n", :created_at=>Fri, 12 Jul 2019 18:01:02 UTC +00:00}}
Completed 200 OK in 52ms (ActiveRecord: 44.5ms)


MessagesChannel transmitting {"message"=>{"id"=>138, "chat_id"=>1, "content"=>"n", "created_at"=>"2019-07-12T18:01:02.580Z"}} (via streamed from messages_1_2)
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 14:01:05 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"go", "user_id"=>"2", "message"=>{"content"=>"go", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "go"], ["chat_id", 1], ["created_at", "2019-07-12 18:01:05.314418"], ["updated_at", "2019-07-12 18:01:05.314418"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>139, :chat_id=>1, :content=>"go", :created_at=>Fri, 12 Jul 2019 18:01:05 UTC +00:00}}
Completed 200 OK in 21ms (ActiveRecord: 2.2ms)


MessagesChannel transmitting {"message"=>{"id"=>139, "chat_id"=>1, "content"=>"go", "created_at"=>"2019-07-12T18:01:05.314Z"}} (via streamed from messages_1_2)
Started POST "/users/2/chats/1/messages" for ::1 at 2019-07-12 14:01:06 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"gow", "user_id"=>"2", "message"=>{"content"=>"gow", "chat_id"=>"1"}}
  [1m[35m (4.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (2.0ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "gow"], ["chat_id", 1], ["created_at", "2019-07-12 18:01:06.620976"], ["updated_at", "2019-07-12 18:01:06.620976"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_2: {:message=>{:id=>140, :chat_id=>1, :content=>"gow", :created_at=>Fri, 12 Jul 2019 18:01:06 UTC +00:00}}
Completed 200 OK in 14ms (ActiveRecord: 8.5ms)


MessagesChannel transmitting {"message"=>{"id"=>140, "chat_id"=>1, "content"=>"gow", "created_at"=>"2019-07-12T18:01:06.620Z"}} (via streamed from messages_1_2)
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":2}
MessagesChannel stopped streaming from messages_1_2
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 14:01:09 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (18.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (9.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (2.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (31.51ms)
Completed 200 OK in 64ms (Views: 29.3ms | ActiveRecord: 31.0ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_2
Started GET "/users/2/chats/2/messages" for ::1 at 2019-07-12 14:01:10 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"2"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["chat_id", 62], ["chat_id", 63], ["chat_id", 70], ["chat_id", 72], ["chat_id", 73], ["chat_id", 75], ["chat_id", 84], ["chat_id", 93], ["chat_id", 95], ["chat_id", 97]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.25ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.9ms)


Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 14:01:12 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"j", "user_id"=>"2", "message"=>{"content"=>"j", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "j"], ["chat_id", 63], ["created_at", "2019-07-12 18:01:12.700065"], ["updated_at", "2019-07-12 18:01:12.700065"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_2: {:message=>{:id=>141, :chat_id=>63, :content=>"j", :created_at=>Fri, 12 Jul 2019 18:01:12 UTC +00:00}}
Completed 200 OK in 45ms (ActiveRecord: 40.5ms)


MessagesChannel transmitting {"message"=>{"id"=>141, "chat_id"=>63, "content"=>"j", "created_at"=>"2019-07-12T18:01:12.700Z"}} (via streamed from messages_2_2)
Started POST "/users/2/chats/2/messages" for ::1 at 2019-07-12 14:01:13 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"ja", "user_id"=>"2", "message"=>{"content"=>"ja", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "ja"], ["chat_id", 63], ["created_at", "2019-07-12 18:01:13.854198"], ["updated_at", "2019-07-12 18:01:13.854198"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_2: {:message=>{:id=>142, :chat_id=>63, :content=>"ja", :created_at=>Fri, 12 Jul 2019 18:01:13 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.9ms)


MessagesChannel transmitting {"message"=>{"id"=>142, "chat_id"=>63, "content"=>"ja", "created_at"=>"2019-07-12T18:01:13.854Z"}} (via streamed from messages_2_2)
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":2,"from_id":2}
MessagesChannel stopped streaming from messages_2_2
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 14:01:15 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (22.71ms)
Completed 200 OK in 27ms (Views: 22.0ms | ActiveRecord: 2.1ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_3_2
Started GET "/users/2/chats/3/messages" for ::1 at 2019-07-12 14:01:16 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 3]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["chat_id", 6], ["chat_id", 68], ["chat_id", 71], ["chat_id", 76], ["chat_id", 83], ["chat_id", 86], ["chat_id", 87], ["chat_id", 89], ["chat_id", 90], ["chat_id", 92], ["chat_id", 94], ["chat_id", 98], ["chat_id", 100]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.67ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.8ms)


Started POST "/users/2/chats/3/messages" for ::1 at 2019-07-12 14:01:17 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"3", "content"=>"s", "user_id"=>"2", "message"=>{"content"=>"s", "chat_id"=>"3"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "s"], ["chat_id", 68], ["created_at", "2019-07-12 18:01:17.928032"], ["updated_at", "2019-07-12 18:01:17.928032"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_3_2: {:message=>{:id=>143, :chat_id=>68, :content=>"s", :created_at=>Fri, 12 Jul 2019 18:01:17 UTC +00:00}}
Completed 200 OK in 46ms (ActiveRecord: 41.5ms)


MessagesChannel transmitting {"message"=>{"id"=>143, "chat_id"=>68, "content"=>"s", "created_at"=>"2019-07-12T18:01:17.928Z"}} (via streamed from messages_3_2)
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":3,"from_id":2}
MessagesChannel stopped streaming from messages_3_2
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 14:01:19 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (21.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (22.13ms)
Completed 200 OK in 51ms (Views: 21.6ms | ActiveRecord: 23.7ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 14:03:01 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 14:33:09 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 14:33:09 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 14:33:09 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (27.61ms)
Completed 200 OK in 40ms (Views: 27.7ms | ActiveRecord: 3.9ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:07:53 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 15:07:55 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:07:57 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 15:12:27 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (2.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99], ["chat_id", 101]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (35.98ms)
Completed 200 OK in 115ms (Views: 98.2ms | ActiveRecord: 4.1ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":2}
MessagesChannel stopped streaming from messages_1_2
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 15:12:28 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (45.89ms)
Completed 200 OK in 54ms (Views: 45.3ms | ActiveRecord: 3.2ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 15:12:30 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99], ["chat_id", 101]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (49.36ms)
Completed 200 OK in 72ms (Views: 64.7ms | ActiveRecord: 3.5ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":2}
MessagesChannel stopped streaming from messages_1_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 15:12:32 -0400
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (10.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (2.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (51.01ms)
Completed 200 OK in 68ms (Views: 49.3ms | ActiveRecord: 13.5ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:20:14 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 15:31:35 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 15:31:35 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:31:35 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 94ms (Views: 5.2ms | ActiveRecord: 55.8ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 15:31:41 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 15:31:41 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:31:41 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 1.1ms | ActiveRecord: 1.7ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:33:27 -0400
ChatsChannel stopped streaming from current_user_2
Started GET "/cable?user=2" for ::1 at 2019-07-12 15:33:28 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 15:33:28 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:33:28 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 26ms (Views: 3.8ms | ActiveRecord: 6.7ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 15:33:34 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:33:34 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:33:39 -0400
ChatsChannel stopped streaming from current_user_2
Started POST "/auth/login" for ::1 at 2019-07-12 15:33:45 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"rob", "password"=>"[FILTERED]", "authentication"=>{"username"=>"rob", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 367ms (Views: 0.6ms | ActiveRecord: 0.8ms)


Started GET "/cable?user=2" for ::1 at 2019-07-12 15:33:47 -0400
Started GET "/users/2/chats" for ::1 at 2019-07-12 15:33:47 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:33:47 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
[active_model_serializers]   [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (65.81ms)
Completed 200 OK in 97ms (Views: 60.8ms | ActiveRecord: 19.1ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_2
Started GET "/users/2/chats/2/messages" for ::1 at 2019-07-12 15:33:49 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"2"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)[0m  [["chat_id", 62], ["chat_id", 63], ["chat_id", 70], ["chat_id", 72], ["chat_id", 73], ["chat_id", 75], ["chat_id", 84], ["chat_id", 93], ["chat_id", 95], ["chat_id", 97]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.5ms)
Completed 200 OK in 45ms (Views: 13.4ms | ActiveRecord: 10.1ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":2,"from_id":2}
MessagesChannel stopped streaming from messages_2_2
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 15:33:51 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (20.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (12.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (40.96ms)
Completed 200 OK in 67ms (Views: 28.7ms | ActiveRecord: 34.6ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_2
Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-12 15:33:52 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (10.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19)[0m  [["chat_id", 1], ["chat_id", 64], ["chat_id", 65], ["chat_id", 66], ["chat_id", 67], ["chat_id", 69], ["chat_id", 74], ["chat_id", 77], ["chat_id", 78], ["chat_id", 79], ["chat_id", 80], ["chat_id", 81], ["chat_id", 82], ["chat_id", 85], ["chat_id", 88], ["chat_id", 91], ["chat_id", 96], ["chat_id", 99], ["chat_id", 101]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (24.17ms)
Completed 200 OK in 48ms (Views: 33.7ms | ActiveRecord: 11.5ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":2}
MessagesChannel stopped streaming from messages_1_2
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-12 15:33:53 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (2.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (36.66ms)
Completed 200 OK in 43ms (Views: 33.9ms | ActiveRecord: 5.6ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-12 15:33:57 -0400
ChatsChannel stopped streaming from current_user_2
Started POST "/auth/login" for ::1 at 2019-07-12 15:34:13 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 288ms (Views: 0.6ms | ActiveRecord: 0.3ms)


Started GET "/cable?user=1" for ::1 at 2019-07-12 15:34:14 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:34:14 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:34:14 -0400
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (5.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (34.69ms)
Completed 200 OK in 45ms (Views: 33.8ms | ActiveRecord: 7.5ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_1
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-12 15:34:16 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (7.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)[0m  [["chat_id", 2], ["chat_id", 9], ["chat_id", 12], ["chat_id", 13], ["chat_id", 14], ["chat_id", 18], ["chat_id", 39], ["chat_id", 41], ["chat_id", 44], ["chat_id", 45], ["chat_id", 46], ["chat_id", 47], ["chat_id", 48], ["chat_id", 52], ["chat_id", 53], ["chat_id", 54], ["chat_id", 58]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.81ms)
Completed 200 OK in 14ms (Views: 4.2ms | ActiveRecord: 8.0ms)


Started POST "/users/1/chats/2/messages" for ::1 at 2019-07-12 15:34:19 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"we", "user_id"=>"1", "message"=>{"content"=>"we", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "we"], ["chat_id", 2], ["created_at", "2019-07-12 19:34:19.885456"], ["updated_at", "2019-07-12 19:34:19.885456"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (41.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_1: {:message=>{:id=>144, :chat_id=>2, :content=>"we", :created_at=>Fri, 12 Jul 2019 19:34:19 UTC +00:00}}
Completed 200 OK in 51ms (ActiveRecord: 42.6ms)


MessagesChannel transmitting {"message"=>{"id"=>144, "chat_id"=>2, "content"=>"we", "created_at"=>"2019-07-12T19:34:19.885Z"}} (via streamed from messages_2_1)
Started POST "/users/1/chats/2/messages" for ::1 at 2019-07-12 15:34:22 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"wd", "user_id"=>"1", "message"=>{"content"=>"wd", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "wd"], ["chat_id", 2], ["created_at", "2019-07-12 19:34:22.410275"], ["updated_at", "2019-07-12 19:34:22.410275"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_1: {:message=>{:id=>145, :chat_id=>2, :content=>"wd", :created_at=>Fri, 12 Jul 2019 19:34:22 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 3.0ms)


MessagesChannel transmitting {"message"=>{"id"=>145, "chat_id"=>2, "content"=>"wd", "created_at"=>"2019-07-12T19:34:22.410Z"}} (via streamed from messages_2_1)
Started POST "/users/1/chats/2/messages" for ::1 at 2019-07-12 15:34:24 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"fk", "user_id"=>"1", "message"=>{"content"=>"fk", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "fk"], ["chat_id", 2], ["created_at", "2019-07-12 19:34:24.405245"], ["updated_at", "2019-07-12 19:34:24.405245"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_1: {:message=>{:id=>146, :chat_id=>2, :content=>"fk", :created_at=>Fri, 12 Jul 2019 19:34:24 UTC +00:00}}
Completed 200 OK in 7ms (ActiveRecord: 2.9ms)


MessagesChannel transmitting {"message"=>{"id"=>146, "chat_id"=>2, "content"=>"fk", "created_at"=>"2019-07-12T19:34:24.405Z"}} (via streamed from messages_2_1)
Started POST "/users/1/chats/2/messages" for ::1 at 2019-07-12 15:34:26 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"fj", "user_id"=>"1", "message"=>{"content"=>"fj", "chat_id"=>"2"}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "fj"], ["chat_id", 2], ["created_at", "2019-07-12 19:34:26.900613"], ["updated_at", "2019-07-12 19:34:26.900613"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (36.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_1: {:message=>{:id=>147, :chat_id=>2, :content=>"fj", :created_at=>Fri, 12 Jul 2019 19:34:26 UTC +00:00}}
Completed 200 OK in 43ms (ActiveRecord: 37.4ms)


MessagesChannel transmitting {"message"=>{"id"=>147, "chat_id"=>2, "content"=>"fj", "created_at"=>"2019-07-12T19:34:26.900Z"}} (via streamed from messages_2_1)
Started POST "/users/1/chats/2/messages" for ::1 at 2019-07-12 15:34:29 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"fla", "user_id"=>"1", "message"=>{"content"=>"fla", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "fla"], ["chat_id", 2], ["created_at", "2019-07-12 19:34:29.508687"], ["updated_at", "2019-07-12 19:34:29.508687"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_1: {:message=>{:id=>148, :chat_id=>2, :content=>"fla", :created_at=>Fri, 12 Jul 2019 19:34:29 UTC +00:00}}
Completed 200 OK in 45ms (ActiveRecord: 41.0ms)


MessagesChannel transmitting {"message"=>{"id"=>148, "chat_id"=>2, "content"=>"fla", "created_at"=>"2019-07-12T19:34:29.508Z"}} (via streamed from messages_2_1)
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":2,"from_id":1}
MessagesChannel stopped streaming from messages_2_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:34:31 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (31.27ms)
Completed 200 OK in 44ms (Views: 30.9ms | ActiveRecord: 9.3ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:37:21 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:38:53 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:38:53 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:38:53 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (32.89ms)
Completed 200 OK in 99ms (Views: 39.0ms | ActiveRecord: 21.0ms)


Started GET "/cable?user=1" for ::1 at 2019-07-12 15:39:00 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:39:00 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:39:06 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:39:09 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:39:09 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:39:09 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  [1m[36mUser Load (5.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Parameters: {"user_id"=>"1"}
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (31.58ms)
Completed 200 OK in 39ms (Views: 30.8ms | ActiveRecord: 4.5ms)


Started POST "/users/jill" for ::1 at 2019-07-12 15:39:13 -0400
  
ActionController::RoutingError (No route matches [POST] "/users/jill"):
  
actionpack (5.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.3) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.3) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.3) lib/rails/rack/logger.rb:26:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.3) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
rack-cors (1.0.3) lib/rack/cors.rb:95:in `call'
railties (5.2.3) lib/rails/engine.rb:524:in `call'
puma (3.12.1) lib/puma/configuration.rb:227:in `call'
puma (3.12.1) lib/puma/server.rb:660:in `handle_request'
puma (3.12.1) lib/puma/server.rb:474:in `process_client'
puma (3.12.1) lib/puma/server.rb:334:in `block in run'
puma (3.12.1) lib/puma/thread_pool.rb:135:in `block in spawn_thread'
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:39:29 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:39:30 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:39:30 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:39:30 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (8.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (4.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (45.59ms)
Completed 200 OK in 60ms (Views: 41.4ms | ActiveRecord: 14.8ms)


Started GET "/users/jill" for ::1 at 2019-07-12 15:39:34 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:39:48 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:39:50 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:39:50 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:39:50 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
ChatsChannel is transmitting the subscription confirmation
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (37.01ms)
Completed 200 OK in 50ms (Views: 36.9ms | ActiveRecord: 7.0ms)


Started GET "/users/jill" for ::1 at 2019-07-12 15:39:54 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1[0m  [["username", "jill"]]
  â†³ app/controllers/users_controller.rb:15
No serializer found for resource: #<User id: 3, username: "jill", phone_number: "22222222", password_digest: "$2a$12$vmGipmBMhodrlCi5T1gwAu7rN0sYV3URYrMCevh1Agm...", created_at: "2019-07-10 20:13:28", updated_at: "2019-07-10 20:13:28">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with User::ActiveRecord_Relation (0.42ms)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.5ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:40:29 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:40:30 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:40:31 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:40:31 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (26.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (48.0ms)
Completed 200 OK in 78ms (Views: 46.9ms | ActiveRecord: 28.1ms)


Started GET "/users/jill" for ::1 at 2019-07-12 15:40:35 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1[0m  [["username", "jill"]]
  â†³ app/controllers/users_controller.rb:15
No serializer found for resource: #<User id: 3, username: "jill", phone_number: "22222222", password_digest: "$2a$12$vmGipmBMhodrlCi5T1gwAu7rN0sYV3URYrMCevh1Agm...", created_at: "2019-07-10 20:13:28", updated_at: "2019-07-10 20:13:28">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with User::ActiveRecord_Relation (0.26ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.6ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:40:58 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:41:00 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:41:00 -0400
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:41:00 -0400
  â†³ app/controllers/chats_controller.rb:62
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (15.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
[active_model_serializers]   [1m[36mChat Load (18.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (1.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (57.55ms)
Completed 200 OK in 80ms (Views: 37.4ms | ActiveRecord: 37.4ms)


Started GET "/users/jill" for ::1 at 2019-07-12 15:41:03 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1[0m  [["username", "jill"]]
  â†³ app/controllers/users_controller.rb:15
No serializer found for resource: #<User id: 3, username: "jill", phone_number: "22222222", password_digest: "$2a$12$vmGipmBMhodrlCi5T1gwAu7rN0sYV3URYrMCevh1Agm...", created_at: "2019-07-10 20:13:28", updated_at: "2019-07-10 20:13:28">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with User::ActiveRecord_Relation (0.33ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:42:01 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:42:02 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:42:02 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:42:02 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (61.91ms)
Completed 200 OK in 116ms (Views: 67.4ms | ActiveRecord: 8.3ms)


Started GET "/cable?user=1" for ::1 at 2019-07-12 15:42:08 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:42:08 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:42:14 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:42:38 -0400
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:42:38 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:42:38 -0400
  [1m[36mUser Load (6.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (19.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (4.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
ChatsChannel is transmitting the subscription confirmation
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
ChatsChannel is streaming from current_user_1
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (33.61ms)
Completed 200 OK in 71ms (Views: 32.9ms | ActiveRecord: 27.1ms)


Started GET "/users/jill" for ::1 at 2019-07-12 15:42:41 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.42ms)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 0.6ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:43:51 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:44:41 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:44:41 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:44:41 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (10.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (11.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (58.64ms)
Completed 200 OK in 92ms (Views: 64.4ms | ActiveRecord: 23.4ms)


Started GET "/users/jill" for ::1 at 2019-07-12 15:44:47 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.43ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started POST "/users/1/chats" for ::1 at 2019-07-12 15:44:47 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>3, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>3, "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (35.2ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 19:44:47.768551"], ["updated_at", "2019-07-12 19:44:47.768551"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 102]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>102, :to_id=>3, :from_id=>1, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>102, :to_id=>3, :from_id=>1, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>102, "to_id"=>3, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Completed 200 OK in 74ms (ActiveRecord: 37.3ms)


Started GET "/users/mem" for ::1 at 2019-07-12 15:44:54 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"mem"}
  [1m[36mUser Load (9.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.38ms)
Completed 200 OK in 13ms (Views: 0.9ms | ActiveRecord: 10.0ms)


Started POST "/users/1/chats" for ::1 at 2019-07-12 15:44:54 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>1, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>1, "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 19:44:54.473492"], ["updated_at", "2019-07-12 19:44:54.473492"], ["to_id", 1], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (39.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 103]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>103, :to_id=>1, :from_id=>1, :messages=>[]}}
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>103, :to_id=>1, :from_id=>1, :messages=>[]}}
Completed 200 OK in 50ms (ActiveRecord: 40.8ms)


ChatsChannel transmitting {"chat"=>{"id"=>103, "to_id"=>1, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
ChatsChannel transmitting {"chat"=>{"id"=>103, "to_id"=>1, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Started GET "/users/rob" for ::1 at 2019-07-12 15:44:58 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"rob"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.37ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.5ms)


Started POST "/users/1/chats" for ::1 at 2019-07-12 15:44:58 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>2, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>2, "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 19:44:58.412628"], ["updated_at", "2019-07-12 19:44:58.412628"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 104]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>104, :to_id=>2, :from_id=>1, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>104, :to_id=>2, :from_id=>1, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>104, "to_id"=>2, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Completed 200 OK in 54ms (ActiveRecord: 42.4ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:45:13 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:46:17 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:46:17 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:46:17 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (8.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (8.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (34.45ms)
Completed 200 OK in 55ms (Views: 33.9ms | ActiveRecord: 17.6ms)


Started GET "/users/jill" for ::1 at 2019-07-12 15:46:20 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.51ms)
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.6ms)


Started POST "/users/1/chats" for ::1 at 2019-07-12 15:46:20 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>3, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>3, "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (41.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 19:46:20.961185"], ["updated_at", "2019-07-12 19:46:20.961185"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 105]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>105, :to_id=>3, :from_id=>1, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>105, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 53ms (ActiveRecord: 43.0ms)


ChatsChannel transmitting {"chat"=>{"id"=>105, "to_id"=>3, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Started GET "/users/bob" for ::1 at 2019-07-12 15:46:27 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"bob"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "bob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.11ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.5ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:47:38 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:48:03 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:48:03 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:48:03 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (24.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (50.1ms)
Completed 200 OK in 61ms (Views: 50.0ms | ActiveRecord: 7.2ms)


Started GET "/users/jill" for ::1 at 2019-07-12 15:48:07 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.46ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.5ms)


Started POST "/users/1/chats" for ::1 at 2019-07-12 15:48:07 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>3, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>3, "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 19:48:07.517518"], ["updated_at", "2019-07-12 19:48:07.517518"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 106]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>106, :to_id=>3, :from_id=>1, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>106, :to_id=>3, :from_id=>1, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>106, "to_id"=>3, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Completed 200 OK in 55ms (ActiveRecord: 42.8ms)


Started GET "/users/rob" for ::1 at 2019-07-12 15:48:10 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"rob"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.37ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.5ms)


Started POST "/users/1/chats" for ::1 at 2019-07-12 15:48:10 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>2, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>2, "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 19:48:10.307853"], ["updated_at", "2019-07-12 19:48:10.307853"], ["to_id", 2], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (40.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (6.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 107]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>107, :to_id=>2, :from_id=>1, :messages=>[]}}
[ActionCable] Broadcasting to current_user_2: {:chat=>{:id=>107, :to_id=>2, :from_id=>1, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>107, "to_id"=>2, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Completed 200 OK in 61ms (ActiveRecord: 48.1ms)


Started GET "/users/bob" for ::1 at 2019-07-12 15:48:13 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"bob"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "bob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:48:33 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:48:40 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:48:40 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:48:40 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (21.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (26.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/application_controller.rb:8
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
ChatsChannel is transmitting the subscription confirmation
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
ChatsChannel is streaming from current_user_1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (34.8ms)
Completed 200 OK in 62ms (Views: 33.6ms | ActiveRecord: 24.0ms)


Started GET "/users/bob" for ::1 at 2019-07-12 15:48:45 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"bob"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "bob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:49:40 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:50:03 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:50:03 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:50:03 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
ChatsChannel is streaming from current_user_1
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (64.54ms)
Completed 200 OK in 76ms (Views: 64.0ms | ActiveRecord: 6.7ms)


Started GET "/users/bob" for ::1 at 2019-07-12 15:50:06 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"bob"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "bob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms)


Started GET "/users/rd" for ::1 at 2019-07-12 15:50:13 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"rd"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rd"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.07ms)
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.5ms)


Started GET "/users/jill" for ::1 at 2019-07-12 15:50:17 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.38ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.4ms)


Started POST "/users/1/chats" for ::1 at 2019-07-12 15:50:17 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>3, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>3, "from_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (44.9ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 19:50:17.331191"], ["updated_at", "2019-07-12 19:50:17.331191"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 108]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>108, :to_id=>3, :from_id=>1, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>108, :to_id=>3, :from_id=>1, :messages=>[]}}
ChatsChannel transmitting {"chat"=>{"id"=>108, "to_id"=>3, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Completed 200 OK in 54ms (ActiveRecord: 46.4ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:50:32 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:51:09 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:51:09 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:51:09 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (26.82ms)
  â†³ app/channels/application_cable/connection.rb:13
Completed 200 OK in 42ms (Views: 26.6ms | ActiveRecord: 12.1ms)


Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started GET "/users/pedro" for ::1 at 2019-07-12 15:51:14 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"pedro"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pedro"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.05ms)
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.7ms)


Started GET "/users/jill" for ::1 at 2019-07-12 15:51:20 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.36ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.5ms)


Started POST "/users/1/chats" for ::1 at 2019-07-12 15:51:20 -0400
Processing by ChatsController#create as HTML
  Parameters: {"to_id"=>3, "from_id"=>1, "user_id"=>"1", "chat"=>{"to_id"=>3, "from_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mChat Create (0.8ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2019-07-12 19:51:20.891888"], ["updated_at", "2019-07-12 19:51:20.891888"], ["to_id", 3], ["from_id", 1]]
  â†³ app/controllers/chats_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:22
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 109]]
  â†³ app/controllers/chats_controller.rb:26
[ActionCable] Broadcasting to current_user_1: {:chat=>{:id=>109, :to_id=>3, :from_id=>1, :messages=>[]}}
[ActionCable] Broadcasting to current_user_3: {:chat=>{:id=>109, :to_id=>3, :from_id=>1, :messages=>[]}}
Completed 200 OK in 11ms (ActiveRecord: 2.5ms)


ChatsChannel transmitting {"chat"=>{"id"=>109, "to_id"=>3, "from_id"=>1, "messages"=>[]}} (via streamed from current_user_1)
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:51:45 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-12 15:51:59 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 15:51:59 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 15:51:59 -0400
  Parameters: {"user_id"=>"1"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (26.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (20.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
[active_model_serializers]   [1m[36mChat Load (1.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (37.13ms)
Completed 200 OK in 88ms (Views: 35.9ms | ActiveRecord: 48.3ms)


ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started GET "/users/pedro" for ::1 at 2019-07-12 15:52:03 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"pedro"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pedro"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.1ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.4ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 16:00:07 -0400
ChatsChannel stopped streaming from current_user_1
  [1m[35m (5.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (41.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to AddUsernamesToChats (20190712202702)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (65.2ms)[0m  [1m[35mALTER TABLE "chats" ADD "from_username" character varying[0m
  â†³ db/migrate/20190712202702_add_usernames_to_chats.rb:3
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "chats" ADD "to_username" character varying[0m
  â†³ db/migrate/20190712202702_add_usernames_to_chats.rb:4
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190712202702"]]
  â†³ bin/rails:9
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to AddUsernameToMessages (20190712202933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "messages" ADD "from_username" character varying[0m
  â†³ db/migrate/20190712202933_add_username_to_messages.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190712202933"]]
  â†³ bin/rails:9
  [1m[35m (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (48.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to RemovePhonenumberFromUsers (20190712205141)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (34.1ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "phone_number"[0m
  â†³ db/migrate/20190712205141_remove_phonenumber_from_users.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190712205141"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (252.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_development"[0m
  â†³ bin/rails:9
  [1m[35m (221.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_test"[0m
  â†³ bin/rails:9
  [1m[35m (721.5ms)[0m  [1m[35mCREATE DATABASE "convey_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (644.1ms)[0m  [1m[35mCREATE DATABASE "convey_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35mSQL (1.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (7.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (27.5ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint, "from_username" character varying, "to_username" character varying)[0m
  â†³ db/schema.rb:18
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:29
  [1m[35m (30.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "from_username" character varying)[0m
  â†³ db/schema.rb:29
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:29
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (9.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:45
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190712205141)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190712202933),
(20190708182802),
(20190710133902),
(20190708213503),
(20190709175830),
(20190709174812),
(20190712202702);

[0m
  â†³ db/schema.rb:13
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-12 21:06:23.353360"], ["updated_at", "2019-07-12 21:06:23.353360"]]
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint, "from_username" character varying, "to_username" character varying)[0m
  â†³ db/schema.rb:18
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:29
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "from_username" character varying)[0m
  â†³ db/schema.rb:29
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:45
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190712205141)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190712202933),
(20190708182802),
(20190710133902),
(20190708213503),
(20190709175830),
(20190709174812),
(20190712202702);

[0m
  â†³ db/schema.rb:13
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (2.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-12 21:06:23.535023"], ["updated_at", "2019-07-12 21:06:23.535023"]]
  â†³ db/schema.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Update (1.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2019-07-12 21:06:23.541442"], ["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:10
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (219.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_development"[0m
  â†³ bin/rails:9
  [1m[35m (193.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_test"[0m
  â†³ bin/rails:9
  [1m[35m (587.0ms)[0m  [1m[35mCREATE DATABASE "convey_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (427.3ms)[0m  [1m[35mCREATE DATABASE "convey_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint, "from_username" character varying, "to_username" character varying)[0m
  â†³ db/schema.rb:18
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:29
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "from_username" character varying)[0m
  â†³ db/schema.rb:29
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:45
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (7.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190712205141)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190712202933),
(20190708182802),
(20190710133902),
(20190708213503),
(20190709175830),
(20190709174812),
(20190712202702);

[0m
  â†³ db/schema.rb:13
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-12 21:07:26.907291"], ["updated_at", "2019-07-12 21:07:26.907291"]]
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint, "from_username" character varying, "to_username" character varying)[0m
  â†³ db/schema.rb:18
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:29
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "from_username" character varying)[0m
  â†³ db/schema.rb:29
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:45
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190712205141)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190712202933),
(20190708182802),
(20190710133902),
(20190708213503),
(20190709175830),
(20190709174812),
(20190712202702);

[0m
  â†³ db/schema.rb:13
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-12 21:07:27.032362"], ["updated_at", "2019-07-12 21:07:27.032362"]]
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2019-07-12 21:07:27.035879"], ["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:10
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (215.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_development"[0m
  â†³ bin/rails:9
  [1m[35m (206.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_test"[0m
  â†³ bin/rails:9
  [1m[35m (608.7ms)[0m  [1m[35mCREATE DATABASE "convey_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (463.5ms)[0m  [1m[35mCREATE DATABASE "convey_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint, "from_username" character varying, "to_username" character varying)[0m
  â†³ db/schema.rb:18
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:29
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "from_username" character varying)[0m
  â†³ db/schema.rb:29
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:29
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:45
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190712205141)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190712202933),
(20190708182802),
(20190710133902),
(20190708213503),
(20190709175830),
(20190709174812),
(20190712202702);

[0m
  â†³ db/schema.rb:13
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-12 21:08:47.713729"], ["updated_at", "2019-07-12 21:08:47.713729"]]
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint, "from_username" character varying, "to_username" character varying)[0m
  â†³ db/schema.rb:18
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:29
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "from_username" character varying)[0m
  â†³ db/schema.rb:29
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:45
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190712205141)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190712202933),
(20190708182802),
(20190710133902),
(20190708213503),
(20190709175830),
(20190709174812),
(20190712202702);

[0m
  â†³ db/schema.rb:13
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-12 21:08:47.858207"], ["updated_at", "2019-07-12 21:08:47.858207"]]
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2019-07-12 21:08:47.862047"], ["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:10
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (220.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_development"[0m
  â†³ bin/rails:9
  [1m[35m (187.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_test"[0m
  â†³ bin/rails:9
  [1m[35m (605.3ms)[0m  [1m[35mCREATE DATABASE "convey_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (478.5ms)[0m  [1m[35mCREATE DATABASE "convey_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint, "from_username" character varying, "to_username" character varying)[0m
  â†³ db/schema.rb:18
  [1m[35m (9.2ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:29
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "from_username" character varying)[0m
  â†³ db/schema.rb:29
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:45
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190712205141)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190712202933),
(20190708182802),
(20190710133902),
(20190708213503),
(20190709175830),
(20190709174812),
(20190712202702);

[0m
  â†³ db/schema.rb:13
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (71.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-12 21:10:16.398297"], ["updated_at", "2019-07-12 21:10:16.398297"]]
  â†³ db/schema.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint, "from_username" character varying, "to_username" character varying)[0m
  â†³ db/schema.rb:18
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:29
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "from_username" character varying)[0m
  â†³ db/schema.rb:29
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:29
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:45
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190712205141)[0m
  â†³ db/schema.rb:13
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190712202933),
(20190708182802),
(20190710133902),
(20190708213503),
(20190709175830),
(20190709174812),
(20190712202702);

[0m
  â†³ db/schema.rb:13
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-12 21:10:16.515680"], ["updated_at", "2019-07-12 21:10:16.515680"]]
  â†³ db/schema.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2019-07-12 21:10:16.519052"], ["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "mem"], ["password_digest", "$2a$12$Ocv3N.n5F/jfdEGzPNeF.eM3GefXL9QIOPHQERc.4KRwddtyzp35i"], ["created_at", "2019-07-12 21:10:16.869973"], ["updated_at", "2019-07-12 21:10:16.869973"]]
  â†³ db/seeds.rb:10
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:11
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ db/seeds.rb:11
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "rob"], ["password_digest", "$2a$12$AgrA2PcCkh4gWKSm1Fok3ukfdY.63G/Tuv2e7lgROYcDVhtvQEFpC"], ["created_at", "2019-07-12 21:10:17.178591"], ["updated_at", "2019-07-12 21:10:17.178591"]]
  â†³ db/seeds.rb:11
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:12
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ db/seeds.rb:12
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "jill"], ["password_digest", "$2a$12$ftKMZabavKHVhLSXpzCQYe6q/We2jw9fzp7GbNG1aLTVq.1hQQWui"], ["created_at", "2019-07-12 21:10:17.493692"], ["updated_at", "2019-07-12 21:10:17.493692"]]
  â†³ db/seeds.rb:12
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:15
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ db/seeds.rb:15
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ db/seeds.rb:15
  [1m[36mChat Create (0.9ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id", "from_username", "to_username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2019-07-12 21:10:17.536593"], ["updated_at", "2019-07-12 21:10:17.536593"], ["to_id", 2], ["from_id", 1], ["from_username", "mem"], ["to_username", "rob"]]
  â†³ db/seeds.rb:15
  [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:15
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:16
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ db/seeds.rb:16
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ db/seeds.rb:16
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id", "from_username", "to_username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2019-07-12 21:10:17.581814"], ["updated_at", "2019-07-12 21:10:17.581814"], ["to_id", 1], ["from_id", 3], ["from_username", "jill"], ["to_username", "mem"]]
  â†³ db/seeds.rb:16
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:16
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:17
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ db/seeds.rb:17
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ db/seeds.rb:17
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id", "from_username", "to_username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2019-07-12 21:10:17.585873"], ["updated_at", "2019-07-12 21:10:17.585873"], ["to_id", 3], ["from_id", 2], ["from_username", "rob"], ["to_username", "jill"]]
  â†³ db/seeds.rb:17
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:17
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:20
  [1m[36mMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "hello"], ["chat_id", 1], ["created_at", "2019-07-12 21:10:17.607800"], ["updated_at", "2019-07-12 21:10:17.607800"], ["from_username", "mem"]]
  â†³ db/seeds.rb:20
  [1m[35m (40.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:20
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:21
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-12 21:10:17.650883"], ["updated_at", "2019-07-12 21:10:17.650883"], ["from_username", "rob"]]
  â†³ db/seeds.rb:21
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:22
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "whatsup"], ["chat_id", 1], ["created_at", "2019-07-12 21:10:17.653460"], ["updated_at", "2019-07-12 21:10:17.653460"], ["from_username", "mem"]]
  â†³ db/seeds.rb:22
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:22
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:23
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "nm whats up with you"], ["chat_id", 1], ["created_at", "2019-07-12 21:10:17.655738"], ["updated_at", "2019-07-12 21:10:17.655738"], ["from_username", "rob"]]
  â†³ db/seeds.rb:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:24
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "hey mem"], ["chat_id", 2], ["created_at", "2019-07-12 21:10:17.657822"], ["updated_at", "2019-07-12 21:10:17.657822"], ["from_username", "jill"]]
  â†³ db/seeds.rb:24
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:24
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:25
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "hey jill"], ["chat_id", 2], ["created_at", "2019-07-12 21:10:17.659868"], ["updated_at", "2019-07-12 21:10:17.659868"], ["from_username", "mem"]]
  â†³ db/seeds.rb:25
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:25
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:26
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "are you coming to dinner"], ["chat_id", 3], ["created_at", "2019-07-12 21:10:17.662485"], ["updated_at", "2019-07-12 21:10:17.662485"], ["from_username", "rob"]]
  â†³ db/seeds.rb:26
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:27
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "yes i am"], ["chat_id", 3], ["created_at", "2019-07-12 21:10:17.664844"], ["updated_at", "2019-07-12 21:10:17.664844"], ["from_username", "jill"]]
  â†³ db/seeds.rb:27
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:27
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:11
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ db/seeds.rb:11
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:12
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ db/seeds.rb:12
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:15
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:15
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:16
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:17
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:17
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:20
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hello"], ["created_at", "2019-07-12 21:10:27.566830"], ["updated_at", "2019-07-12 21:10:27.566830"], ["from_username", "mem"]]
  â†³ db/seeds.rb:20
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:20
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:21
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["created_at", "2019-07-12 21:10:27.580935"], ["updated_at", "2019-07-12 21:10:27.580935"], ["from_username", "rob"]]
  â†³ db/seeds.rb:21
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:22
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "whatsup"], ["created_at", "2019-07-12 21:10:27.585193"], ["updated_at", "2019-07-12 21:10:27.585193"], ["from_username", "mem"]]
  â†³ db/seeds.rb:22
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:22
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:23
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "nm whats up with you"], ["created_at", "2019-07-12 21:10:27.589891"], ["updated_at", "2019-07-12 21:10:27.589891"], ["from_username", "rob"]]
  â†³ db/seeds.rb:23
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:24
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey mem"], ["created_at", "2019-07-12 21:10:27.594685"], ["updated_at", "2019-07-12 21:10:27.594685"], ["from_username", "jill"]]
  â†³ db/seeds.rb:24
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:24
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:25
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey jill"], ["created_at", "2019-07-12 21:10:27.599631"], ["updated_at", "2019-07-12 21:10:27.599631"], ["from_username", "mem"]]
  â†³ db/seeds.rb:25
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:26
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "are you coming to dinner"], ["created_at", "2019-07-12 21:10:27.606578"], ["updated_at", "2019-07-12 21:10:27.606578"], ["from_username", "rob"]]
  â†³ db/seeds.rb:26
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:26
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:27
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yes i am"], ["created_at", "2019-07-12 21:10:27.612405"], ["updated_at", "2019-07-12 21:10:27.612405"], ["from_username", "jill"]]
  â†³ db/seeds.rb:27
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:27
Started GET "/cable?user=1" for ::1 at 2019-07-12 17:10:45 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-12 17:10:45 -0400
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-12 17:10:45 -0400
  [1m[35m (57.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (3.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (20.62ms)
Completed 200 OK in 68ms (Views: 22.1ms | ActiveRecord: 17.9ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-12 17:10:47 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_1
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.03ms)
Completed 200 OK in 56ms (Views: 38.4ms | ActiveRecord: 5.7ms)


Started POST "/users/1/chats/2/messages" for ::1 at 2019-07-12 17:10:53 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"mw", "user_id"=>"1", "message"=>{"content"=>"mw", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "mw"], ["chat_id", 1], ["created_at", "2019-07-12 21:10:53.222330"], ["updated_at", "2019-07-12 21:10:53.222330"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_1: {:message=>{:id=>17, :chat_id=>1, :content=>"mw", :created_at=>Fri, 12 Jul 2019 21:10:53 UTC +00:00}}
Completed 200 OK in 58ms (ActiveRecord: 41.1ms)


MessagesChannel transmitting {"message"=>{"id"=>17, "chat_id"=>1, "content"=>"mw", "created_at"=>"2019-07-12T21:10:53.222Z"}} (via streamed from messages_2_1)
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":2,"from_id":1}
MessagesChannel stopped streaming from messages_2_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started GET "/users/1/chats" for ::1 at 2019-07-12 17:10:55 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.5ms)
Completed 200 OK in 14ms (Views: 5.4ms | ActiveRecord: 3.5ms)


Started GET "/cable?user=1" for ::1 at 2019-07-13 12:20:52 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:20:52 -0400
  [1m[35m (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:20:53 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (39.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (33.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (47.33ms)
Completed 200 OK in 240ms (Views: 16.8ms | ActiveRecord: 188.4ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_1
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-13 12:20:57 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (43.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.54ms)
Completed 200 OK in 83ms (Views: 26.7ms | ActiveRecord: 47.8ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":2,"from_id":1}
MessagesChannel stopped streaming from messages_2_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:20:59 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (6.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (4.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (16.25ms)
Completed 200 OK in 22ms (Views: 6.0ms | ActiveRecord: 12.9ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:25:05 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-13 12:25:06 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:25:06 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:25:06 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.93ms)
Completed 200 OK in 17ms (Views: 8.0ms | ActiveRecord: 5.2ms)


  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:26:16 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-13 12:30:47 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:30:47 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:30:47 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (10.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.4ms)
Completed 200 OK in 33ms (Views: 17.3ms | ActiveRecord: 11.6ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 12:30:50 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.73ms)
Completed 200 OK in 15ms (Views: 4.8ms | ActiveRecord: 1.4ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":3}
MessagesChannel stopped streaming from messages_1_3
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:30:53 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.37ms)
Completed 200 OK in 12ms (Views: 3.1ms | ActiveRecord: 5.8ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_1
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-13 12:33:26 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.37ms)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.7ms)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (41.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (217.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_development"[0m
  â†³ bin/rails:9
  [1m[35m (210.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "convey_test"[0m
  â†³ bin/rails:9
  [1m[35m (533.7ms)[0m  [1m[35mCREATE DATABASE "convey_development" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35m (390.6ms)[0m  [1m[35mCREATE DATABASE "convey_test" ENCODING = 'unicode'[0m
  â†³ bin/rails:9
  [1m[35mSQL (1.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint, "from_username" character varying, "to_username" character varying)[0m
  â†³ db/schema.rb:18
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:29
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "from_username" character varying)[0m
  â†³ db/schema.rb:29
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:45
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190712205141)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190712202933),
(20190708182802),
(20190710133902),
(20190708213503),
(20190709175830),
(20190709174812),
(20190712202702);

[0m
  â†³ db/schema.rb:13
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-13 16:37:35.288076"], ["updated_at", "2019-07-13 16:37:35.288076"]]
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  â†³ db/schema.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  â†³ db/schema.rb:18
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "to_id" bigint, "from_id" bigint, "from_username" character varying, "to_username" character varying)[0m
  â†³ db/schema.rb:18
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_from_id" ON "chats"  ("from_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_chats_on_to_id" ON "chats"  ("to_id")[0m
  â†³ db/schema.rb:18
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  â†³ db/schema.rb:29
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "chat_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "from_username" character varying)[0m
  â†³ db/schema.rb:29
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_chat_id" ON "messages"  ("chat_id")[0m
  â†³ db/schema.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  â†³ db/schema.rb:38
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:38
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  â†³ db/schema.rb:45
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190712205141)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190709175323),
(20190709175759),
(20190709175232),
(20190712202933),
(20190708182802),
(20190710133902),
(20190708213503),
(20190709175830),
(20190709174812),
(20190712202702);

[0m
  â†³ db/schema.rb:13
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-07-13 16:37:35.401122"], ["updated_at", "2019-07-13 16:37:35.401122"]]
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Update (0.8ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2019-07-13 16:37:35.404571"], ["key", "environment"]]
  â†³ bin/rails:9
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "mem"], ["password_digest", "$2a$12$neU5rSLCT/VUq0Adgf2sY.drDKK8XIfms4kfFPgvvKq9Xab/oOIhy"], ["created_at", "2019-07-13 16:37:35.741044"], ["updated_at", "2019-07-13 16:37:35.741044"]]
  â†³ db/seeds.rb:10
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:11
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ db/seeds.rb:11
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "rob"], ["password_digest", "$2a$12$JOM/82BJ/iMatne5Elj8Suq3YkvOkAtKYMHt8h9Ivk2MOXQ/zDAAm"], ["created_at", "2019-07-13 16:37:36.031110"], ["updated_at", "2019-07-13 16:37:36.031110"]]
  â†³ db/seeds.rb:11
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:12
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ db/seeds.rb:12
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["username", "jill"], ["password_digest", "$2a$12$9DSOcO5mwivoO8nxcVU/W.Md5yY73DFuuOYhsqyI4loGMpQK54.xK"], ["created_at", "2019-07-13 16:37:36.323548"], ["updated_at", "2019-07-13 16:37:36.323548"]]
  â†³ db/seeds.rb:12
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:15
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ db/seeds.rb:15
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ db/seeds.rb:15
  [1m[36mChat Create (1.0ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id", "from_username", "to_username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2019-07-13 16:37:36.351941"], ["updated_at", "2019-07-13 16:37:36.351941"], ["to_id", 2], ["from_id", 1], ["from_username", "mem"], ["to_username", "rob"]]
  â†³ db/seeds.rb:15
  [1m[35m (40.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:15
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:16
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ db/seeds.rb:16
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ db/seeds.rb:16
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id", "from_username", "to_username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2019-07-13 16:37:36.400441"], ["updated_at", "2019-07-13 16:37:36.400441"], ["to_id", 1], ["from_id", 3], ["from_username", "jill"], ["to_username", "mem"]]
  â†³ db/seeds.rb:16
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:16
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:17
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ db/seeds.rb:17
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ db/seeds.rb:17
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO "chats" ("created_at", "updated_at", "to_id", "from_id", "from_username", "to_username") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["created_at", "2019-07-13 16:37:36.404392"], ["updated_at", "2019-07-13 16:37:36.404392"], ["to_id", 3], ["from_id", 2], ["from_username", "rob"], ["to_username", "jill"]]
  â†³ db/seeds.rb:17
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:17
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:20
  [1m[36mMessage Create (1.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "hello"], ["chat_id", 1], ["created_at", "2019-07-13 16:37:36.418715"], ["updated_at", "2019-07-13 16:37:36.418715"], ["from_username", "mem"]]
  â†³ db/seeds.rb:20
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:20
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:21
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 1], ["created_at", "2019-07-13 16:37:36.422013"], ["updated_at", "2019-07-13 16:37:36.422013"], ["from_username", "rob"]]
  â†³ db/seeds.rb:21
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:22
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "whatsup"], ["chat_id", 1], ["created_at", "2019-07-13 16:37:36.424180"], ["updated_at", "2019-07-13 16:37:36.424180"], ["from_username", "mem"]]
  â†³ db/seeds.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:22
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:23
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "nm whats up with you"], ["chat_id", 1], ["created_at", "2019-07-13 16:37:36.426276"], ["updated_at", "2019-07-13 16:37:36.426276"], ["from_username", "rob"]]
  â†³ db/seeds.rb:23
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:24
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "hey mem"], ["chat_id", 2], ["created_at", "2019-07-13 16:37:36.428639"], ["updated_at", "2019-07-13 16:37:36.428639"], ["from_username", "jill"]]
  â†³ db/seeds.rb:24
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:24
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:25
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "hey jill"], ["chat_id", 2], ["created_at", "2019-07-13 16:37:36.430890"], ["updated_at", "2019-07-13 16:37:36.430890"], ["from_username", "mem"]]
  â†³ db/seeds.rb:25
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:25
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:26
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "are you coming to dinner"], ["chat_id", 3], ["created_at", "2019-07-13 16:37:36.433010"], ["updated_at", "2019-07-13 16:37:36.433010"], ["from_username", "rob"]]
  â†³ db/seeds.rb:26
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:27
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "yes i am"], ["chat_id", 3], ["created_at", "2019-07-13 16:37:36.435031"], ["updated_at", "2019-07-13 16:37:36.435031"], ["from_username", "jill"]]
  â†³ db/seeds.rb:27
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:27
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:10
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:10
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:11
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ db/seeds.rb:11
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:12
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ db/seeds.rb:12
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:12
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:15
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:15
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:16
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:17
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ db/seeds.rb:17
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:20
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hello"], ["created_at", "2019-07-13 16:37:43.732751"], ["updated_at", "2019-07-13 16:37:43.732751"], ["from_username", "mem"]]
  â†³ db/seeds.rb:20
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:20
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:21
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["created_at", "2019-07-13 16:37:43.739161"], ["updated_at", "2019-07-13 16:37:43.739161"], ["from_username", "rob"]]
  â†³ db/seeds.rb:21
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:21
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:22
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "whatsup"], ["created_at", "2019-07-13 16:37:43.742547"], ["updated_at", "2019-07-13 16:37:43.742547"], ["from_username", "mem"]]
  â†³ db/seeds.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:22
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:23
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "nm whats up with you"], ["created_at", "2019-07-13 16:37:43.746761"], ["updated_at", "2019-07-13 16:37:43.746761"], ["from_username", "rob"]]
  â†³ db/seeds.rb:23
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:24
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey mem"], ["created_at", "2019-07-13 16:37:43.750919"], ["updated_at", "2019-07-13 16:37:43.750919"], ["from_username", "jill"]]
  â†³ db/seeds.rb:24
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:24
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:25
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey jill"], ["created_at", "2019-07-13 16:37:43.754639"], ["updated_at", "2019-07-13 16:37:43.754639"], ["from_username", "mem"]]
  â†³ db/seeds.rb:25
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:25
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:26
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "are you coming to dinner"], ["created_at", "2019-07-13 16:37:43.758106"], ["updated_at", "2019-07-13 16:37:43.758106"], ["from_username", "rob"]]
  â†³ db/seeds.rb:26
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:26
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ db/seeds.rb:27
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("content", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yes i am"], ["created_at", "2019-07-13 16:37:43.761871"], ["updated_at", "2019-07-13 16:37:43.761871"], ["from_username", "jill"]]
  â†³ db/seeds.rb:27
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ db/seeds.rb:27
Started GET "/cable?user=1" for ::1 at 2019-07-13 12:37:55 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:37:55 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
  [1m[35m (5.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:37:55 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (13.27ms)
Completed 200 OK in 54ms (Views: 15.5ms | ActiveRecord: 12.4ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_1
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-13 12:37:56 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.3ms)
Completed 200 OK in 74ms (Views: 26.9ms | ActiveRecord: 34.3ms)


  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" ORDER BY "messages"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:39:31 -0400
MessagesChannel stopped streaming from messages_2_1
Started GET "/cable?user=1" for ::1 at 2019-07-13 12:39:33 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:39:33 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:39:33 -0400
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (9.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.76ms)
Completed 200 OK in 24ms (Views: 8.4ms | ActiveRecord: 11.0ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_1
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-13 12:39:34 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.3ms)
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.8ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":2,"from_id":1}
MessagesChannel stopped streaming from messages_2_1
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:39:44 -0400
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (5.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (5.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.58ms)
Completed 200 OK in 21ms (Views: 4.3ms | ActiveRecord: 11.4ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:39:54 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-13 12:39:59 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:39:59 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:39:59 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (7.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.62ms)
Completed 200 OK in 17ms (Views: 4.3ms | ActiveRecord: 9.6ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_1
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-13 12:40:00 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.69ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 1.6ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:42:23 -0400
MessagesChannel stopped streaming from messages_2_1
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/cable?user=1" for ::1 at 2019-07-13 12:44:34 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:44:34 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:44:34 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (3.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.96ms)
Completed 200 OK in 18ms (Views: 4.8ms | ActiveRecord: 8.2ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_1
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-13 12:44:34 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.65ms)
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 2.1ms)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1755545414341737585)[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":2,"from_id":1}
MessagesChannel stopped streaming from messages_2_1
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:45:47 -0400
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (14.22ms)
Completed 200 OK in 44ms (Views: 16.7ms | ActiveRecord: 7.7ms)


Started GET "/cable?user=1" for ::1 at 2019-07-13 12:45:48 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:45:48 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 12:45:48 -0400
Processing by MessagesController#index as HTML
MessagesChannel is transmitting the subscription confirmation
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
MessagesChannel is streaming from messages_1_3
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.09ms)
Completed 200 OK in 29ms (Views: 15.2ms | ActiveRecord: 6.5ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":3}
MessagesChannel stopped streaming from messages_1_3
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:46:42 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.3ms)
Completed 200 OK in 20ms (Views: 5.0ms | ActiveRecord: 9.7ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_1
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-13 12:46:43 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.61ms)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 1.6ms)


Started POST "/users/1/chats/2/messages" for ::1 at 2019-07-13 12:46:45 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"2", "content"=>"yo", "user_id"=>"1", "message"=>{"content"=>"yo", "chat_id"=>"2"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "yo"], ["chat_id", 1], ["created_at", "2019-07-13 16:46:45.974061"], ["updated_at", "2019-07-13 16:46:45.974061"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_2_1: {:message=>{:id=>17, :chat_id=>1, :content=>"yo", :created_at=>Sat, 13 Jul 2019 16:46:45 UTC +00:00}}
Completed 200 OK in 56ms (ActiveRecord: 42.2ms)


MessagesChannel transmitting {"message"=>{"id"=>17, "chat_id"=>1, "content"=>"yo", "created_at"=>"2019-07-13T16:46:45.974Z"}} (via streamed from messages_2_1)
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":2,"from_id":1}
MessagesChannel stopped streaming from messages_2_1
Started GET "/users/1/chats" for ::1 at 2019-07-13 12:46:47 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (2.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.39ms)
Completed 200 OK in 18ms (Views: 5.6ms | ActiveRecord: 7.7ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 12:46:49 -0400
ChatsChannel stopped streaming from current_user_1
Started POST "/auth/login" for ::1 at 2019-07-13 12:46:56 -0400
Started POST "/auth/login" for ::1 at 2019-07-13 12:46:56 -0400
Processing by AuthenticationController#login as HTML
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"rob", "password"=>"[FILTERED]", "authentication"=>{"username"=>"rob", "password"=>"[FILTERED]"}}
  Parameters: {"username"=>"rob", "password"=>"[FILTERED]", "authentication"=>{"username"=>"rob", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
  â†³ app/controllers/application_controller.rb:18
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 580ms (Views: 287.8ms | ActiveRecord: 0.3ms)


Completed 200 OK in 579ms (Views: 0.9ms | ActiveRecord: 0.3ms)


Started GET "/cable?user=2" for ::1 at 2019-07-13 12:46:57 -0400
Started GET "/cable/?user=2" [WebSocket] for ::1 at 2019-07-13 12:46:57 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMg)
Started GET "/users/2/chats" for ::1 at 2019-07-13 12:46:57 -0400
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.45ms)
Completed 200 OK in 9ms (Views: 4.2ms | ActiveRecord: 1.3ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_2_1
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-13 12:46:59 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (4.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.98ms)
Completed 200 OK in 15ms (Views: 5.3ms | ActiveRecord: 5.6ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":2,"from_id":1}
MessagesChannel stopped streaming from messages_2_1
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
Started GET "/users/2/chats" for ::1 at 2019-07-13 12:47:01 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (3.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (9.38ms)
Completed 200 OK in 15ms (Views: 5.8ms | ActiveRecord: 4.9ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_2
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_3_2
Started GET "/users/2/chats/3/messages" for ::1 at 2019-07-13 12:47:02 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"3"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 3]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 3]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.66ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.8ms)


Started POST "/users/2/chats/3/messages" for ::1 at 2019-07-13 12:47:06 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"3", "content"=>"are you", "user_id"=>"2", "message"=>{"content"=>"are you", "chat_id"=>"3"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "are you"], ["chat_id", 3], ["created_at", "2019-07-13 16:47:06.383612"], ["updated_at", "2019-07-13 16:47:06.383612"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_3_2: {:message=>{:id=>18, :chat_id=>3, :content=>"are you", :created_at=>Sat, 13 Jul 2019 16:47:06 UTC +00:00}}
Completed 200 OK in 46ms (ActiveRecord: 40.8ms)


MessagesChannel transmitting {"message"=>{"id"=>18, "chat_id"=>3, "content"=>"are you", "created_at"=>"2019-07-13T16:47:06.383Z"}} (via streamed from messages_3_2)
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":3,"from_id":2}
MessagesChannel stopped streaming from messages_3_2
Started GET "/users/2/chats" for ::1 at 2019-07-13 12:47:08 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_2
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (5.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 2]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (9.58ms)
Completed 200 OK in 23ms (Views: 4.4ms | ActiveRecord: 14.9ms)


Finished "/cable/?user=2" [WebSocket] for ::1 at 2019-07-13 12:47:10 -0400
ChatsChannel stopped streaming from current_user_2
Started POST "/auth/login" for ::1 at 2019-07-13 12:47:17 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"jill", "password"=>"[FILTERED]", "authentication"=>{"username"=>"jill", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 200 OK in 296ms (Views: 0.6ms | ActiveRecord: 0.4ms)


Started GET "/cable?user=3" for ::1 at 2019-07-13 12:47:19 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:47:19 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/3/chats" for ::1 at 2019-07-13 12:47:19 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
  [1m[36mUser Load (10.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.05ms)
Completed 200 OK in 20ms (Views: 5.1ms | ActiveRecord: 12.0ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_3_2
Started GET "/users/2/chats/3/messages" for ::1 at 2019-07-13 12:47:26 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"3"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 3]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (2.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 3]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.13ms)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 3.0ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":3,"from_id":2}
MessagesChannel stopped streaming from messages_3_2
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Started GET "/users/3/chats" for ::1 at 2019-07-13 12:47:28 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.37ms)
Completed 200 OK in 10ms (Views: 4.1ms | ActiveRecord: 2.3ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 12:47:29 -0400
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.68ms)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 1.6ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":3}
MessagesChannel stopped streaming from messages_1_3
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Started GET "/users/3/chats" for ::1 at 2019-07-13 12:47:31 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.71ms)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 1.8ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_3_2
Started GET "/users/2/chats/3/messages" for ::1 at 2019-07-13 12:47:32 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"2", "chat_id"=>"3"}
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 3]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 3]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.41ms)
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 2.0ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":3,"from_id":2}
MessagesChannel stopped streaming from messages_3_2
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Started GET "/users/3/chats" for ::1 at 2019-07-13 12:48:26 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (12.2ms)
Completed 200 OK in 38ms (Views: 15.3ms | ActiveRecord: 1.2ms)


Started GET "/cable?user=3" for ::1 at 2019-07-13 12:48:27 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:48:27 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 12:48:27 -0400
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:56
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.12ms)
Completed 200 OK in 30ms (Views: 3.9ms | ActiveRecord: 6.3ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":3}
MessagesChannel stopped streaming from messages_1_3
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Started GET "/users/3/chats" for ::1 at 2019-07-13 12:48:38 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (15.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (3.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.43ms)
Completed 200 OK in 27ms (Views: 4.6ms | ActiveRecord: 19.4ms)


Started GET "/users/2/chats/1/messages" for ::1 at 2019-07-13 12:49:02 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"2", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 2], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:56
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE 1=0[0m
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.1ms)
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.9ms)


Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-13 12:49:08 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:56
  [1m[36mMessage Load (3.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.54ms)
Completed 200 OK in 10ms (Views: 2.8ms | ActiveRecord: 3.9ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 12:57:09 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.61ms)
Completed 200 OK in 36ms (Views: 15.5ms | ActiveRecord: 11.3ms)


Started GET "/cable?user=3" for ::1 at 2019-07-13 12:57:16 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:57:16 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:58:14 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 12:59:03 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:59:03 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (11.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/users/3/chats" for ::1 at 2019-07-13 12:59:03 -0400
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (14.6ms)
Completed 200 OK in 28ms (Views: 18.2ms | ActiveRecord: 3.6ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 12:59:04 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.55ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.9ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:59:13 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 12:59:35 -0400
Started GET "/users/3/chats" for ::1 at 2019-07-13 12:59:35 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:59:35 -0400
  Parameters: {"user_id"=>"3"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (11.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
ChatsChannel is transmitting the subscription confirmation
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
ChatsChannel is streaming from current_user_3
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.69ms)
Completed 200 OK in 25ms (Views: 8.1ms | ActiveRecord: 13.4ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 12:59:36 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.83ms)
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 1.1ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:59:42 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/users/3/chats" for ::1 at 2019-07-13 12:59:43 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.83ms)
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 2.4ms)


Started GET "/cable?user=3" for ::1 at 2019-07-13 12:59:43 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:59:43 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 12:59:43 -0400
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (2.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.82ms)
Completed 200 OK in 12ms (Views: 4.6ms | ActiveRecord: 4.8ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:59:52 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 12:59:54 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 12:59:54 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/3/chats" for ::1 at 2019-07-13 12:59:54 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (6.94ms)
Completed 200 OK in 20ms (Views: 4.8ms | ActiveRecord: 10.0ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 12:59:55 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.51ms)
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 1.2ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:00:35 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 13:00:37 -0400
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:00:37 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:00:37 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
  [1m[36mUser Load (16.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (4.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.92ms)
Completed 200 OK in 36ms (Views: 4.7ms | ActiveRecord: 27.5ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:00:37 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (9.2ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.54ms)
Completed 200 OK in 14ms (Views: 2.0ms | ActiveRecord: 9.6ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:00:45 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 13:01:20 -0400
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:01:20 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:01:20 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (8.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (4.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (10.31ms)
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 24ms (Views: 4.9ms | ActiveRecord: 15.3ms)


  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:01:22 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.79ms)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.7ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:01:45 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 13:01:47 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:01:47 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:01:47 -0400
  [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.75ms)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 1.0ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:01:48 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (18.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.87ms)
Completed 200 OK in 26ms (Views: 3.3ms | ActiveRecord: 20.2ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:02:28 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 13:02:29 -0400
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:02:29 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:02:29 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
[active_model_serializers]   [1m[36mChat Load (5.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (11.36ms)
Completed 200 OK in 23ms (Views: 5.9ms | ActiveRecord: 12.0ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:02:30 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (6.8ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (15.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.06ms)
Completed 200 OK in 28ms (Views: 3.2ms | ActiveRecord: 22.3ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:02:37 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 13:02:42 -0400
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:02:42 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:02:42 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  Parameters: {"user_id"=>"3"}
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
[active_model_serializers]   [1m[36mChat Load (9.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (14.82ms)
Completed 200 OK in 19ms (Views: 4.2ms | ActiveRecord: 12.5ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:02:43 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.8ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 1.0ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":3}
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
MessagesChannel stopped streaming from messages_1_3
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:03:18 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (7.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.51ms)
Completed 200 OK in 16ms (Views: 3.4ms | ActiveRecord: 9.4ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:03:19 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (10.2ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.9ms)
Completed 200 OK in 16ms (Views: 2.9ms | ActiveRecord: 10.7ms)


Started POST "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:03:25 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"whats up", "user_id"=>"3", "message"=>{"content"=>"whats up", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "whats up"], ["chat_id", 2], ["created_at", "2019-07-13 17:03:25.172352"], ["updated_at", "2019-07-13 17:03:25.172352"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_3: {:message=>{:id=>19, :chat_id=>2, :content=>"whats up", :created_at=>Sat, 13 Jul 2019 17:03:25 UTC +00:00, :from_username=>nil}}
Completed 200 OK in 50ms (ActiveRecord: 41.6ms)


MessagesChannel transmitting {"message"=>{"id"=>19, "chat_id"=>2, "content"=>"whats up", "created_at"=>"2019-07-13T17:03:25.172Z", "from_username"=>nil}} (via streamed from messages_1_3)
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":3}
MessagesChannel stopped streaming from messages_1_3
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:05:09 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (1.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.59ms)
Completed 200 OK in 15ms (Views: 5.2ms | ActiveRecord: 5.1ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:05:10 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.0ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.8ms)


Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":3}
MessagesChannel stopped streaming from messages_1_3
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:05:29 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.82ms)
Completed 200 OK in 12ms (Views: 4.8ms | ActiveRecord: 3.0ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:06:19 -0400
ChatsChannel stopped streaming from current_user_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 13:07:56 -0400
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:07:56 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:07:56 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.6ms)
Completed 200 OK in 16ms (Views: 4.2ms | ActiveRecord: 7.6ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:07:58 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.62ms)
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 1.1ms)


Started POST "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:08:02 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "from_username"=>"jill", "user_id"=>"3", "message"=>{"content"=>"hey", "chat_id"=>"1", "from_username"=>"jill"}}
Unpermitted parameter: :from_username
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 2], ["created_at", "2019-07-13 17:08:02.942859"], ["updated_at", "2019-07-13 17:08:02.942859"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_3: {:message=>{:id=>20, :chat_id=>2, :content=>"hey", :created_at=>Sat, 13 Jul 2019 17:08:02 UTC +00:00, :from_username=>nil}}
Completed 200 OK in 48ms (ActiveRecord: 42.4ms)


MessagesChannel transmitting {"message"=>{"id"=>20, "chat_id"=>2, "content"=>"hey", "created_at"=>"2019-07-13T17:08:02.942Z", "from_username"=>nil}} (via streamed from messages_1_3)
Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:08:27 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 13:08:31 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:08:31 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:08:31 -0400
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
  [1m[36mUser Load (10.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.15ms)
Completed 200 OK in 18ms (Views: 3.1ms | ActiveRecord: 11.6ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:08:32 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.8ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.8ms)


Started POST "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:08:34 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"e", "user_id"=>"3", "message"=>{"content"=>"e", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "e"], ["chat_id", 2], ["created_at", "2019-07-13 17:08:34.043820"], ["updated_at", "2019-07-13 17:08:34.043820"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (39.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_3: {:message=>{:id=>21, :chat_id=>2, :content=>"e", :created_at=>Sat, 13 Jul 2019 17:08:34 UTC +00:00, :from_username=>nil}}
Completed 200 OK in 46ms (ActiveRecord: 40.8ms)


MessagesChannel transmitting {"message"=>{"id"=>21, "chat_id"=>2, "content"=>"e", "created_at"=>"2019-07-13T17:08:34.043Z", "from_username"=>nil}} (via streamed from messages_1_3)
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":3}
MessagesChannel stopped streaming from messages_1_3
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:09:33 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (17.01ms)
Completed 200 OK in 87ms (Views: 17.8ms | ActiveRecord: 16.6ms)


Started GET "/cable?user=3" for ::1 at 2019-07-13 13:09:34 -0400
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:09:34 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:09:34 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.39ms)
Completed 200 OK in 39ms (Views: 15.9ms | ActiveRecord: 15.6ms)


Started POST "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:09:36 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"hey", "user_id"=>"3", "message"=>{"content"=>"hey", "chat_id"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["content", "hey"], ["chat_id", 2], ["created_at", "2019-07-13 17:09:36.473309"], ["updated_at", "2019-07-13 17:09:36.473309"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_3: {:message=>{:id=>22, :chat_id=>2, :content=>"hey", :created_at=>Sat, 13 Jul 2019 17:09:36 UTC +00:00, :from_username=>nil}}
Completed 200 OK in 47ms (ActiveRecord: 41.4ms)


MessagesChannel transmitting {"message"=>{"id"=>22, "chat_id"=>2, "content"=>"hey", "created_at"=>"2019-07-13T17:09:36.473Z", "from_username"=>nil}} (via streamed from messages_1_3)
Started GET "/cable?user=3" for ::1 at 2019-07-13 13:09:58 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Library/Ruby/Gems/2.3.0/gems/activerecord-5.2.3/lib/active_record/log_subscriber.rb:98
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:09:58 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/1/chats/2/messages" for ::1 at 2019-07-13 13:10:25 -0400
Processing by MessagesController#index as */*
  Parameters: {"user_id"=>"1", "chat_id"=>"2"}
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 1], ["to_id", 2]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.24ms)
Completed 200 OK in 44ms (Views: 18.5ms | ActiveRecord: 10.1ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:12:24 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=3" for ::1 at 2019-07-13 13:12:26 -0400
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:12:26 -0400
Started GET "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:12:26 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMw)
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (16.86ms)
Completed 200 OK in 36ms (Views: 20.8ms | ActiveRecord: 7.2ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_3
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:12:27 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (2.74ms)
Completed 200 OK in 23ms (Views: 7.1ms | ActiveRecord: 1.6ms)


Started POST "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:12:32 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"how are you", "from_username"=>"jill", "user_id"=>"3", "message"=>{"content"=>"how are you", "chat_id"=>"1", "from_username"=>"jill"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "how are you"], ["chat_id", 2], ["created_at", "2019-07-13 17:12:32.533751"], ["updated_at", "2019-07-13 17:12:32.533751"], ["from_username", "jill"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (40.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_3: {:message=>{:id=>23, :chat_id=>2, :content=>"how are you", :created_at=>Sat, 13 Jul 2019 17:12:32 UTC +00:00, :from_username=>"jill"}}
Completed 200 OK in 59ms (ActiveRecord: 42.3ms)


MessagesChannel transmitting {"message"=>{"id"=>23, "chat_id"=>2, "content"=>"how are you", "created_at"=>"2019-07-13T17:12:32.533Z", "from_username"=>"jill"}} (via streamed from messages_1_3)
Unsubscribing from channel: {"channel":"MessagesChannel","to_id":1,"from_id":3}
MessagesChannel stopped streaming from messages_1_3
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_3
Started GET "/users/3/chats" for ::1 at 2019-07-13 13:12:36 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 3]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.06ms)
Completed 200 OK in 12ms (Views: 4.8ms | ActiveRecord: 2.0ms)


Finished "/cable/?user=3" [WebSocket] for ::1 at 2019-07-13 13:12:38 -0400
ChatsChannel stopped streaming from current_user_3
Started POST "/auth/login" for ::1 at 2019-07-13 13:12:43 -0400
Processing by AuthenticationController#login as HTML
  Parameters: {"username"=>"mem", "password"=>"[FILTERED]", "authentication"=>{"username"=>"mem", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "mem"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:18
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 297ms (Views: 0.6ms | ActiveRecord: 0.5ms)


Started GET "/cable?user=1" for ::1 at 2019-07-13 13:12:45 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:12:45 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/users/1/chats" for ::1 at 2019-07-13 13:12:45 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
ChatsChannel is transmitting the subscription confirmation
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.66ms)
Completed 200 OK in 13ms (Views: 4.5ms | ActiveRecord: 3.1ms)


Unsubscribing from channel: {"channel":"ChatsChannel"}
ChatsChannel stopped streaming from current_user_1
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Started GET "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:12:46 -0400
Processing by MessagesController#index as HTML
  Parameters: {"user_id"=>"3", "chat_id"=>"1"}
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "chats"."id" FROM "chats" WHERE "chats"."from_id" = $1 AND "chats"."to_id" = $2[0m  [["from_id", 3], ["to_id", 1]]
  â†³ app/controllers/messages_controller.rb:55
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 2]]
  â†³ app/controllers/messages_controller.rb:7
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (1.99ms)
Completed 200 OK in 16ms (Views: 5.4ms | ActiveRecord: 2.5ms)


Started POST "/users/3/chats/1/messages" for ::1 at 2019-07-13 13:12:49 -0400
Processing by MessagesController#create as HTML
  Parameters: {"chat_id"=>"1", "content"=>"good", "from_username"=>"mem", "user_id"=>"3", "message"=>{"content"=>"good", "chat_id"=>"1", "from_username"=>"mem"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("content", "chat_id", "created_at", "updated_at", "from_username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["content", "good"], ["chat_id", 2], ["created_at", "2019-07-13 17:12:49.715985"], ["updated_at", "2019-07-13 17:12:49.715985"], ["from_username", "mem"]]
  â†³ app/controllers/messages_controller.rb:19
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19
[ActionCable] Broadcasting to messages_1_3: {:message=>{:id=>24, :chat_id=>2, :content=>"good", :created_at=>Sat, 13 Jul 2019 17:12:49 UTC +00:00, :from_username=>"mem"}}
Completed 200 OK in 50ms (ActiveRecord: 42.4ms)


MessagesChannel transmitting {"message"=>{"id"=>24, "chat_id"=>2, "content"=>"good", "created_at"=>"2019-07-13T17:12:49.715Z", "from_username"=>"mem"}} (via streamed from messages_1_3)
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:39:20 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=1" for ::1 at 2019-07-13 13:39:21 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:39:23 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
MessagesChannel is transmitting the subscription confirmation
MessagesChannel is streaming from messages_1_3
Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:42:54 -0400
MessagesChannel stopped streaming from messages_1_3
Started GET "/cable?user=1" for ::1 at 2019-07-13 13:49:34 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 13:49:34 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:49:34 -0400
Processing by ChatsController#index as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.61ms)
Completed 200 OK in 14ms (Views: 5.4ms | ActiveRecord: 3.3ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:52:11 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-13 13:57:20 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 13:57:20 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:57:20 -0400
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (2.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.51ms)
Completed 200 OK in 20ms (Views: 6.3ms | ActiveRecord: 6.5ms)


Started GET "/users/jill" for ::1 at 2019-07-13 13:57:23 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.4ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.7ms)


Started GET "/users/jill" for ::1 at 2019-07-13 13:57:25 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.37ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.7ms)


Started GET "/users/jill" for ::1 at 2019-07-13 13:57:26 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.3ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.5ms)


Started GET "/users/jill" for ::1 at 2019-07-13 13:57:41 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.34ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.5ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:58:05 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-13 13:58:08 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 13:58:08 -0400
Processing by ChatsController#index as HTML
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:58:08 -0400
  Parameters: {"user_id"=>"1"}
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (12.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (15.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (12.0ms)
Completed 200 OK in 37ms (Views: 11.4ms | ActiveRecord: 20.4ms)


Started GET "/users/jill" for ::1 at 2019-07-13 13:58:11 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.33ms)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.6ms)


Started GET "/users/jim" for ::1 at 2019-07-13 13:58:14 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jim"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jim"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.11ms)
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.5ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:59:06 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-13 13:59:19 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 13:59:19 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:59:19 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (11.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
[active_model_serializers]   [1m[36mChat Load (2.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (2.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (7.2ms)
Completed 200 OK in 15ms (Views: 3.7ms | ActiveRecord: 7.6ms)


Started GET "/users/jill" for ::1 at 2019-07-13 13:59:22 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.34ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.5ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:59:31 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-13 13:59:37 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 13:59:37 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 13:59:37 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
ChatsChannel is transmitting the subscription confirmation
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
ChatsChannel is streaming from current_user_1
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.77ms)
Completed 200 OK in 12ms (Views: 4.1ms | ActiveRecord: 3.4ms)


Started GET "/users/jill" for ::1 at 2019-07-13 13:59:40 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.49ms)
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.7ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 14:00:01 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/users/1/chats" for ::1 at 2019-07-13 14:00:03 -0400
Started GET "/cable?user=1" for ::1 at 2019-07-13 14:00:03 -0400
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 14:00:03 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (9.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (2.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (8.5ms)
Completed 200 OK in 24ms (Views: 5.2ms | ActiveRecord: 15.1ms)


Started GET "/users/jill" for ::1 at 2019-07-13 14:00:06 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.32ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.5ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 14:00:32 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-13 14:00:36 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 14:00:36 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 14:00:36 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
  [1m[36mUser Load (12.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/chats_controller.rb:62
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
[active_model_serializers]   [1m[36mChat Load (1.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.12ms)
Completed 200 OK in 24ms (Views: 3.7ms | ActiveRecord: 16.0ms)


Started GET "/users/jill" for ::1 at 2019-07-13 14:00:38 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.33ms)
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.4ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 14:02:22 -0400
ChatsChannel stopped streaming from current_user_1
Started GET "/cable?user=1" for ::1 at 2019-07-13 14:02:29 -0400
Started GET "/users/1/chats" for ::1 at 2019-07-13 14:02:29 -0400
Started GET "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 14:02:29 -0400
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ChatsController#index as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (6.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/channels/application_cable/connection.rb:13
  â†³ app/controllers/chats_controller.rb:62
Registered connection (Z2lkOi8vY29udmV5L1VzZXIvMQ)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
ChatsChannel is transmitting the subscription confirmation
ChatsChannel is streaming from current_user_1
[active_model_serializers]   [1m[36mChat Load (5.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."from_id" = $1[0m  [["from_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."to_id" = $1[0m  [["to_id", 1]]
[active_model_serializers]   â†³ app/controllers/chats_controller.rb:10
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (9.97ms)
Completed 200 OK in 22ms (Views: 4.7ms | ActiveRecord: 13.2ms)


Started GET "/users/jill" for ::1 at 2019-07-13 14:02:31 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"jill"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "jill"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.33ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 1.9ms)


Started GET "/users/rib" for ::1 at 2019-07-13 14:02:36 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"rib"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rib"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.04ms)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.4ms)


Started GET "/users/rob" for ::1 at 2019-07-13 14:02:40 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"rob"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "rob"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:14
[active_model_serializers] Rendered ActiveModel::Serializer::Null with User (0.41ms)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.4ms)


Finished "/cable/?user=1" [WebSocket] for ::1 at 2019-07-13 14:03:09 -0400
ChatsChannel stopped streaming from current_user_1
